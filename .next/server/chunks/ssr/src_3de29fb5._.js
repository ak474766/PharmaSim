module.exports=[24935,a=>{a.v({actions:"TopHeader-module__TNE3sW__actions",header:"TopHeader-module__TNE3sW__header",iconBtn:"TopHeader-module__TNE3sW__iconBtn",primaryBtn:"TopHeader-module__TNE3sW__primaryBtn",subtitle:"TopHeader-module__TNE3sW__subtitle",title:"TopHeader-module__TNE3sW__title",titleSection:"TopHeader-module__TNE3sW__titleSection"})},54354,a=>{"use strict";var b=a.i(87924),c=a.i(24935);function d({title:a="Research Lab Dashboard",subtitle:d="Welcome back, researcher. Your next breakthrough awaits."}){return(0,b.jsxs)("header",{className:c.default.header,children:[(0,b.jsxs)("div",{className:c.default.titleSection,children:[(0,b.jsx)("h1",{className:c.default.title,children:a}),(0,b.jsx)("p",{className:c.default.subtitle,children:d})]}),(0,b.jsxs)("div",{className:c.default.actions,children:[(0,b.jsx)("button",{className:c.default.iconBtn,children:"ðŸ””"}),(0,b.jsxs)("button",{className:c.default.primaryBtn,children:[(0,b.jsx)("span",{children:"+"})," New Simulation"]})]})]})}a.s(["default",()=>d])},72287,a=>{"use strict";var b=a.i(20237);a.i(69387);var c=a.i(60574);a.s(["TrialService",0,{async getSubmissions(a){try{let d=(0,c.query)((0,c.collection)(b.db,"trials"),(0,c.where)("userId","==",a));return(await (0,c.getDocs)(d)).docs.map(a=>({id:a.id,...a.data()})).sort((a,b)=>(b.submittedAt||0)-(a.submittedAt||0))}catch(a){return console.error("Failed to load trial submissions:",a),[]}},async saveSubmission(a,d){let e=`trial_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,f={...d,id:e,userId:a,submittedAt:Date.now(),status:"pending"};return await (0,c.setDoc)((0,c.doc)(b.db,"trials",e),f),f},async updateSubmission(a,d){try{let e=(0,c.doc)(b.db,"trials",a);await (0,c.updateDoc)(e,d);let f=await (0,c.getDoc)(e);if(f.exists())return{id:f.id,...f.data()};return null}catch(a){return console.error("Failed to update trial:",a),null}},async getSubmission(a){try{let d=(0,c.doc)(b.db,"trials",a),e=await (0,c.getDoc)(d);if(e.exists())return{id:e.id,...e.data()};return null}catch(a){return console.error("Failed to get trial:",a),null}},async deleteSubmission(a){try{return await (0,c.deleteDoc)((0,c.doc)(b.db,"trials",a)),!0}catch(a){return console.error("Failed to delete trial:",a),!1}},async saveRoadmap(a,d){try{return await (0,c.updateDoc)((0,c.doc)(b.db,"trials",a),{roadmap:{...d,generatedAt:Date.now()}}),!0}catch(a){return console.error("Failed to save roadmap:",a),!1}},async updateSimulationState(a,d){try{return await (0,c.updateDoc)((0,c.doc)(b.db,"trials",a),{simulationState:d,status:"in_progress"}),!0}catch(a){return console.error("Failed to update simulation state:",a),!1}}}])},22732,a=>{a.v({actions:"Archive-module__BMuGwq__actions",badge:"Archive-module__BMuGwq__badge",badges:"Archive-module__BMuGwq__badges",btnDanger:"Archive-module__BMuGwq__btnDanger",btnPrimary:"Archive-module__BMuGwq__btnPrimary",btnSecondary:"Archive-module__BMuGwq__btnSecondary",card:"Archive-module__BMuGwq__card",container:"Archive-module__BMuGwq__container",empty:"Archive-module__BMuGwq__empty",grid:"Archive-module__BMuGwq__grid",meta:"Archive-module__BMuGwq__meta",scrollArea:"Archive-module__BMuGwq__scrollArea",title:"Archive-module__BMuGwq__title",titleRow:"Archive-module__BMuGwq__titleRow"})},54539,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(54354),e=a.i(22732),f=a.i(56025),g=a.i(72287),h=a.i(50944);function i(){let{user:a}=(0,f.useAuth)(),i=(0,h.useRouter)(),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!0),n=async()=>{a&&(m(!0),k(await g.TrialService.getSubmissions(a.uid)),m(!1))};(0,c.useEffect)(()=>{n()},[a]);let o=async a=>{window.confirm("Delete this archived trial? This cannot be undone.")&&(await g.TrialService.deleteSubmission(a),await n())};return(0,b.jsxs)("div",{className:e.default.container,children:[(0,b.jsx)(d.default,{title:"Archive Lab",subtitle:"Your saved molecule submissions and trials."}),(0,b.jsx)("div",{className:e.default.scrollArea,children:l?(0,b.jsx)("div",{className:e.default.empty,children:"Loading archive..."}):0===j.length?(0,b.jsx)("div",{className:e.default.empty,children:"No submissions yet. Build a molecule to create your first entry."}):(0,b.jsx)("div",{className:e.default.grid,children:j.map(a=>(0,b.jsxs)("div",{className:e.default.card,children:[(0,b.jsxs)("div",{className:e.default.titleRow,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:e.default.title,children:a.moleculeName}),(0,b.jsxs)("div",{className:e.default.meta,children:["Mission: ",a.missionTitle," (Lvl ",a.missionId,")",(0,b.jsx)("br",{}),"Atoms: ",a.atomCount,(0,b.jsx)("br",{}),"Saved: ",new Date(a.submittedAt).toLocaleString()]})]}),(0,b.jsxs)("div",{className:e.default.badges,children:[(0,b.jsxs)("div",{className:e.default.badge,children:["Efficacy ",Math.round(a.stats.efficacy),"%"]}),(0,b.jsxs)("div",{className:e.default.badge,children:["Safety ",Math.round(a.stats.safety),"%"]})]})]}),(0,b.jsxs)("div",{className:e.default.actions,children:[(0,b.jsx)("button",{type:"button",className:e.default.btnPrimary,onClick:()=>{var b;return b=a.id,void(localStorage.setItem("active_trial_id",b),i.push("/dashboard/clinical-trials"))},children:"Open"}),(0,b.jsx)("button",{type:"button",className:e.default.btnSecondary,onClick:n,children:"Refresh"}),(0,b.jsx)("button",{type:"button",className:e.default.btnDanger,onClick:()=>o(a.id),children:"Delete"})]})]},a.id))})})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=src_3de29fb5._.js.map