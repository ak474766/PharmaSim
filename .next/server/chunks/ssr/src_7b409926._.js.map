{"version":3,"sources":["turbopack:///[project]/src/components/layout/TopHeader.module.css [app-ssr] (css module)","../../../../src/components/layout/TopHeader.tsx","turbopack:///[project]/src/app/dashboard/settings/Settings.module.css [app-ssr] (css module)","../../../../src/app/dashboard/settings/page.tsx"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"TopHeader-module__TNE3sW__actions\",\n  \"header\": \"TopHeader-module__TNE3sW__header\",\n  \"iconBtn\": \"TopHeader-module__TNE3sW__iconBtn\",\n  \"primaryBtn\": \"TopHeader-module__TNE3sW__primaryBtn\",\n  \"subtitle\": \"TopHeader-module__TNE3sW__subtitle\",\n  \"title\": \"TopHeader-module__TNE3sW__title\",\n  \"titleSection\": \"TopHeader-module__TNE3sW__titleSection\",\n});\n","\n'use client';\n\nimport styles from './TopHeader.module.css';\n\ninterface TopHeaderProps {\n    title?: string;\n    subtitle?: string;\n}\n\nexport default function TopHeader({ title = \"Research Lab Dashboard\", subtitle = \"Welcome back, researcher. Your next breakthrough awaits.\" }: TopHeaderProps) {\n    return (\n        <header className={styles.header}>\n            <div className={styles.titleSection}>\n                <h1 className={styles.title}>{title}</h1>\n                <p className={styles.subtitle}>{subtitle}</p>\n            </div>\n\n            <div className={styles.actions}>\n                <button className={styles.iconBtn}>\n                    ðŸ””\n                </button>\n                <button className={styles.primaryBtn}>\n                    <span>+</span> New Simulation\n                </button>\n            </div>\n        </header>\n    );\n}\n","__turbopack_context__.v({\n  \"actions\": \"Settings-module__TuLhbG__actions\",\n  \"btnDanger\": \"Settings-module__TuLhbG__btnDanger\",\n  \"btnPrimary\": \"Settings-module__TuLhbG__btnPrimary\",\n  \"btnSecondary\": \"Settings-module__TuLhbG__btnSecondary\",\n  \"card\": \"Settings-module__TuLhbG__card\",\n  \"container\": \"Settings-module__TuLhbG__container\",\n  \"error\": \"Settings-module__TuLhbG__error\",\n  \"input\": \"Settings-module__TuLhbG__input\",\n  \"label\": \"Settings-module__TuLhbG__label\",\n  \"message\": \"Settings-module__TuLhbG__message\",\n  \"row\": \"Settings-module__TuLhbG__row\",\n  \"scrollArea\": \"Settings-module__TuLhbG__scrollArea\",\n  \"sectionTitle\": \"Settings-module__TuLhbG__sectionTitle\",\n  \"value\": \"Settings-module__TuLhbG__value\",\n});\n","'use client';\n\nimport { useEffect, useMemo, useState } from 'react';\nimport TopHeader from '@/components/layout/TopHeader';\nimport styles from './Settings.module.css';\nimport { useAuth } from '@/context/AuthContext';\nimport { UserService } from '@/lib/userService';\nimport { auth } from '@/lib/firebase';\nimport { sendEmailVerification, sendPasswordResetEmail } from 'firebase/auth';\n\nexport default function SettingsPage() {\n    const { user, profile, refreshProfile } = useAuth();\n    const [displayName, setDisplayName] = useState('');\n    const [saving, setSaving] = useState(false);\n    const [message, setMessage] = useState('');\n    const [error, setError] = useState('');\n\n    const emailVerified = useMemo(() => {\n        return !!auth.currentUser?.emailVerified;\n    }, [user]);\n\n    useEffect(() => {\n        setDisplayName(profile?.displayName || '');\n    }, [profile?.displayName]);\n\n    const handleSaveDisplayName = async () => {\n        if (!user) return;\n        setSaving(true);\n        setMessage('');\n        setError('');\n\n        try {\n            await UserService.updateDisplayName(user.uid, displayName.trim());\n            await refreshProfile();\n            setMessage('Profile updated.');\n        } catch (err: any) {\n            setError(err?.message || 'Failed to update profile');\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    const handleSendVerification = async () => {\n        setMessage('');\n        setError('');\n        try {\n            const current = auth.currentUser;\n            if (!current) return;\n            await sendEmailVerification(current);\n            setMessage('Verification email sent.');\n        } catch (err: any) {\n            setError(err?.message || 'Failed to send verification email');\n        }\n    };\n\n    const handlePasswordReset = async () => {\n        setMessage('');\n        setError('');\n        try {\n            const email = auth.currentUser?.email;\n            if (!email) {\n                setError('No email found on this account.');\n                return;\n            }\n            await sendPasswordResetEmail(auth, email);\n            setMessage('Password reset email sent.');\n        } catch (err: any) {\n            setError(err?.message || 'Failed to send password reset email');\n        }\n    };\n\n    return (\n        <div className={styles.container}>\n            <TopHeader title=\"Settings\" subtitle=\"Manage your account and lab preferences.\" />\n\n            <div className={styles.scrollArea}>\n                <div className={styles.card}>\n                    <div className={styles.sectionTitle}>Account</div>\n\n                    <div className={styles.row}>\n                        <div>\n                            <div className={styles.label}>Email</div>\n                            <div className={styles.value}>{profile?.email || auth.currentUser?.email || '--'}</div>\n                        </div>\n                        <div className={styles.actions}>\n                            {!emailVerified ? (\n                                <button type=\"button\" className={styles.btnSecondary} onClick={handleSendVerification}>\n                                    Send verification\n                                </button>\n                            ) : (\n                                <button type=\"button\" className={styles.btnSecondary} disabled style={{ opacity: 0.6, cursor: 'not-allowed' }}>\n                                    Verified\n                                </button>\n                            )}\n                        </div>\n                    </div>\n\n                    <div className={styles.row}>\n                        <div style={{ flex: 1 }}>\n                            <div className={styles.label}>Display name</div>\n                            <input\n                                className={styles.input}\n                                value={displayName}\n                                onChange={(e) => setDisplayName(e.target.value)}\n                                placeholder=\"Your name\"\n                            />\n                        </div>\n                        <div className={styles.actions}>\n                            <button\n                                type=\"button\"\n                                className={styles.btnPrimary}\n                                onClick={handleSaveDisplayName}\n                                disabled={saving || !displayName.trim()}\n                                style={saving || !displayName.trim() ? { opacity: 0.7, cursor: 'not-allowed' } : undefined}\n                            >\n                                {saving ? 'Saving...' : 'Save'}\n                            </button>\n                        </div>\n                    </div>\n\n                    <div className={styles.row}>\n                        <div>\n                            <div className={styles.label}>Password</div>\n                            <div className={styles.value}>â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢</div>\n                        </div>\n                        <div className={styles.actions}>\n                            <button type=\"button\" className={styles.btnSecondary} onClick={handlePasswordReset}>\n                                Send reset email\n                            </button>\n                        </div>\n                    </div>\n\n                    <div className={styles.row}>\n                        <div>\n                            <div className={styles.label}>Session</div>\n                            <div className={styles.value}>Sign out from this device</div>\n                        </div>\n                        <div className={styles.actions}>\n                            <button type=\"button\" className={styles.btnDanger} onClick={() => auth.signOut()}>\n                                Logout\n                            </button>\n                        </div>\n                    </div>\n\n                    {message && <div className={styles.message}>{message}</div>}\n                    {error && <div className={styles.error}>{error}</div>}\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"0BAAA,EAAA,CAAA,CAAA,CACA,QAAA,oCACA,OAAA,mCACA,QAAA,oCACA,WAAA,uCACA,SAAA,qCACA,MAAA,kCACA,aAAA,wCACA,4CCLA,EAAA,EAAA,CAAA,CAAA,OAOe,SAAS,EAAU,OAAE,EAAQ,wBAAwB,UAAE,EAAW,0DAA0D,CAAkB,EACzJ,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,UAAW,EAAA,OAAM,CAAC,MAAM,WAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,YAAY,WAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAW,EAAA,OAAM,CAAC,KAAK,UAAG,IAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,QAAQ,UAAG,OAGpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,OAAO,WAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAW,EAAA,OAAM,CAAC,OAAO,UAAE,OAGnC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,UAAW,EAAA,OAAM,CAAC,UAAU,WAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,MAAQ,0BAKlC,mCC5BA,EAAA,CAAA,CAAA,CACA,QAAA,mCACA,UAAA,qCACA,WAAA,sCACA,aAAA,wCACA,KAAA,gCACA,UAAA,qCACA,MAAA,iCACA,MAAA,iCACA,MAAA,iCACA,QAAA,mCACA,IAAA,+BACA,WAAA,sCACA,aAAA,wCACA,MAAA,gCACA,4CCbA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACpB,GAAM,MAAE,CAAI,SAAE,CAAO,CAAE,gBAAc,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAC3C,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzC,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAE7B,EAAgB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IACnB,CAAC,CAAC,EAAA,IAAI,CAAC,WAAW,EAAE,cAC5B,CAAC,EAAK,EAET,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACN,EAAe,GAAS,aAAe,GAC3C,EAAG,CAAC,GAAS,YAAY,EAEzB,IAAM,EAAwB,UAC1B,GAAK,CAAD,EACJ,GAAU,AADC,GAEX,EAAW,IACX,EAAS,IAET,GAAI,CACA,MAAM,EAAA,WAAW,CAAC,iBAAiB,CAAC,EAAK,GAAG,CAAE,EAAY,IAAI,IAC9D,MAAM,IACN,EAAW,mBACf,CAAE,MAAO,EAAU,CACf,EAAS,GAAK,SAAW,2BAC7B,QAAU,CACN,GAAU,EACd,EACJ,EAEM,EAAyB,UAC3B,EAAW,IACX,EAAS,IACT,GAAI,CACA,IAAM,EAAU,EAAA,IAAI,CAAC,WAAW,CAChC,GAAI,CAAC,EAAS,MACd,OAAM,CAAA,EAAA,EAAA,qBAAA,AAAqB,EAAC,GAC5B,EAAW,2BACf,CAAE,MAAO,EAAU,CACf,EAAS,GAAK,SAAW,oCAC7B,CACJ,EAEM,EAAsB,UACxB,EAAW,IACX,EAAS,IACT,GAAI,CACA,IAAM,EAAQ,EAAA,IAAI,CAAC,WAAW,EAAE,MAChC,GAAI,CAAC,EAAO,YACR,EAAS,kCAGb,OAAM,CAAA,EAAA,EAAA,sBAAA,AAAsB,EAAC,EAAA,IAAI,CAAE,GACnC,EAAW,6BACf,CAAE,MAAO,EAAU,CACf,EAAS,GAAK,SAAW,sCAC7B,CACJ,EAEA,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,SAAS,WAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAS,CAAA,CAAC,MAAM,WAAW,SAAS,6CAErC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,UAAU,UAC7B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,IAAI,WACvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,YAAY,UAAE,YAErC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,GAAG,WACtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,KAAK,UAAE,UAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,KAAK,UAAG,GAAS,OAAS,EAAA,IAAI,CAAC,WAAW,EAAE,OAAS,UAEhF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,OAAO,UACzB,AAAC,EAKE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,UAAW,EAAA,OAAM,CAAC,YAAY,CAAE,QAAQ,CAAA,CAAA,EAAC,MAAO,CAAE,QAAS,GAAK,OAAQ,aAAc,WAAG,aAJ/G,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,UAAW,EAAA,OAAM,CAAC,YAAY,CAAE,QAAS,WAAwB,2BAWnG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,GAAG,WACtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,MAAO,CAAE,KAAM,CAAE,YAClB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,KAAK,UAAE,iBAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,UAAW,EAAA,OAAM,CAAC,KAAK,CACvB,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,YAAY,iBAGpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,OAAO,UAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,KAAK,SACL,UAAW,EAAA,OAAM,CAAC,UAAU,CAC5B,QAAS,EACT,SAAU,GAAU,CAAC,EAAY,IAAI,GACrC,MAAO,GAAU,CAAC,EAAY,IAAI,GAAK,CAAE,QAAS,GAAK,OAAQ,aAAc,OAAI,WAEhF,EAAS,YAAc,cAKpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,GAAG,WACtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,KAAK,UAAE,aAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,KAAK,UAAE,gBAElC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,OAAO,UAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,UAAW,EAAA,OAAM,CAAC,YAAY,CAAE,QAAS,WAAqB,0BAM5F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,GAAG,WACtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,KAAK,UAAE,YAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,KAAK,UAAE,iCAElC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,OAAO,UAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,SAAS,UAAW,EAAA,OAAM,CAAC,SAAS,CAAE,QAAS,IAAM,EAAA,IAAI,CAAC,OAAO,YAAI,gBAMzF,GAAW,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,OAAO,UAAG,IAC5C,GAAS,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,KAAK,UAAG,WAK7D"}