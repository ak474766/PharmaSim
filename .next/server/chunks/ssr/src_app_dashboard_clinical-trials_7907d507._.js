module.exports=[51308,a=>{a.v({achieveIcon:"Trials-module__6vxRjW__achieveIcon",achieveInfo:"Trials-module__6vxRjW__achieveInfo",achieveLabel:"Trials-module__6vxRjW__achieveLabel",achieveSlide:"Trials-module__6vxRjW__achieveSlide",achieveTitle:"Trials-module__6vxRjW__achieveTitle",achievementUnlock:"Trials-module__6vxRjW__achievementUnlock",backBtn:"Trials-module__6vxRjW__backBtn",badge:"Trials-module__6vxRjW__badge",btnGhost:"Trials-module__6vxRjW__btnGhost",btnPrimary:"Trials-module__6vxRjW__btnPrimary",btnRetry:"Trials-module__6vxRjW__btnRetry",btnSecondary:"Trials-module__6vxRjW__btnSecondary",btnVictory:"Trials-module__6vxRjW__btnVictory",card:"Trials-module__6vxRjW__card",choiceBtn:"Trials-module__6vxRjW__choiceBtn",choiceEffect:"Trials-module__6vxRjW__choiceEffect",choiceText:"Trials-module__6vxRjW__choiceText",choices:"Trials-module__6vxRjW__choices",completed:"Trials-module__6vxRjW__completed",container:"Trials-module__6vxRjW__container",dashboardArea:"Trials-module__6vxRjW__dashboardArea",dashboardHeader:"Trials-module__6vxRjW__dashboardHeader",emptyActions:"Trials-module__6vxRjW__emptyActions",emptyIcon:"Trials-module__6vxRjW__emptyIcon",emptyState:"Trials-module__6vxRjW__emptyState",eventDesc:"Trials-module__6vxRjW__eventDesc",fadeIn:"Trials-module__6vxRjW__fadeIn",failed:"Trials-module__6vxRjW__failed",gameArea:"Trials-module__6vxRjW__gameArea",gameoverActions:"Trials-module__6vxRjW__gameoverActions",gameoverCard:"Trials-module__6vxRjW__gameoverCard",gameoverFadeIn:"Trials-module__6vxRjW__gameoverFadeIn",gameoverIcon:"Trials-module__6vxRjW__gameoverIcon",gameoverOverlay:"Trials-module__6vxRjW__gameoverOverlay",gameoverReason:"Trials-module__6vxRjW__gameoverReason",gameoverShake:"Trials-module__6vxRjW__gameoverShake",gameoverStat:"Trials-module__6vxRjW__gameoverStat",gameoverStatLabel:"Trials-module__6vxRjW__gameoverStatLabel",gameoverStatValue:"Trials-module__6vxRjW__gameoverStatValue",gameoverStats:"Trials-module__6vxRjW__gameoverStats",gameoverTip:"Trials-module__6vxRjW__gameoverTip",gameoverTitle:"Trials-module__6vxRjW__gameoverTitle",in_progress:"Trials-module__6vxRjW__in_progress",loadingState:"Trials-module__6vxRjW__loadingState",logConsole:"Trials-module__6vxRjW__logConsole",logItem:"Trials-module__6vxRjW__logItem",logList:"Trials-module__6vxRjW__logList",logTitle:"Trials-module__6vxRjW__logTitle",lossCard:"Trials-module__6vxRjW__lossCard",mainStage:"Trials-module__6vxRjW__mainStage",moleculeIcon:"Trials-module__6vxRjW__moleculeIcon",particleFall:"Trials-module__6vxRjW__particleFall",pending:"Trials-module__6vxRjW__pending",phaseActivities:"Trials-module__6vxRjW__phaseActivities",phaseBadge:"Trials-module__6vxRjW__phaseBadge",phaseContent:"Trials-module__6vxRjW__phaseContent",phaseDuration:"Trials-module__6vxRjW__phaseDuration",phaseItem:"Trials-module__6vxRjW__phaseItem",phaseNumber:"Trials-module__6vxRjW__phaseNumber",phaseRisk:"Trials-module__6vxRjW__phaseRisk",phasesTimeline:"Trials-module__6vxRjW__phasesTimeline",probBar:"Trials-module__6vxRjW__probBar",probFill:"Trials-module__6vxRjW__probFill",probValue:"Trials-module__6vxRjW__probValue",proceedBtn:"Trials-module__6vxRjW__proceedBtn",reason:"Trials-module__6vxRjW__reason",roadmapArea:"Trials-module__6vxRjW__roadmapArea",roadmapHeader:"Trials-module__6vxRjW__roadmapHeader",roadmapSummary:"Trials-module__6vxRjW__roadmapSummary",slideUp:"Trials-module__6vxRjW__slideUp",spin:"Trials-module__6vxRjW__spin",spinner:"Trials-module__6vxRjW__spinner",statBarContainer:"Trials-module__6vxRjW__statBarContainer",statBarFill:"Trials-module__6vxRjW__statBarFill",statItem:"Trials-module__6vxRjW__statItem",statLabel:"Trials-module__6vxRjW__statLabel",statValue:"Trials-module__6vxRjW__statValue",statValueSm:"Trials-module__6vxRjW__statValueSm",statsBar:"Trials-module__6vxRjW__statsBar",successProb:"Trials-module__6vxRjW__successProb",trialCard:"Trials-module__6vxRjW__trialCard",trialImage:"Trials-module__6vxRjW__trialImage",trialInfo:"Trials-module__6vxRjW__trialInfo",trialMission:"Trials-module__6vxRjW__trialMission",trialStats:"Trials-module__6vxRjW__trialStats",trialStatus:"Trials-module__6vxRjW__trialStatus",trialsGrid:"Trials-module__6vxRjW__trialsGrid",victoryActions:"Trials-module__6vxRjW__victoryActions",victoryBounce:"Trials-module__6vxRjW__victoryBounce",victoryCard:"Trials-module__6vxRjW__victoryCard",victoryCardPop:"Trials-module__6vxRjW__victoryCardPop",victoryFadeIn:"Trials-module__6vxRjW__victoryFadeIn",victoryIcon:"Trials-module__6vxRjW__victoryIcon",victoryOverlay:"Trials-module__6vxRjW__victoryOverlay",victoryParticle:"Trials-module__6vxRjW__victoryParticle",victoryParticles:"Trials-module__6vxRjW__victoryParticles",victoryStat:"Trials-module__6vxRjW__victoryStat",victoryStatLabel:"Trials-module__6vxRjW__victoryStatLabel",victoryStatValue:"Trials-module__6vxRjW__victoryStatValue",victoryStats:"Trials-module__6vxRjW__victoryStats",victorySubtitle:"Trials-module__6vxRjW__victorySubtitle",victoryTitle:"Trials-module__6vxRjW__victoryTitle",winCard:"Trials-module__6vxRjW__winCard",xpBadge:"Trials-module__6vxRjW__xpBadge",xpPulse:"Trials-module__6vxRjW__xpPulse",xpReward:"Trials-module__6vxRjW__xpReward"})},64125,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(51308),e=a.i(54354),f=a.i(56025),g=a.i(68209),h=a.i(82011),i=a.i(82545),j=a.i(50944),k=a.i(72287),l=a.i(46663);function m(){let{user:a,profile:m,refreshProfile:n}=(0,f.useAuth)(),o=(0,j.useRouter)(),[p,q]=(0,c.useState)("dashboard"),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)(h.SYLLABUS_DATA[0]),[B,C]=(0,c.useState)(0),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)({budget:1e7,efficacy:0,safety:100}),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)([]),[N,O]=(0,c.useState)("intro"),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)([]),[T,U]=(0,c.useState)(0),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)([]),[_,aa]=(0,c.useState)(0),[ab,ac]=(0,c.useState)(0),[ad,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{a&&(y(!0),s(await k.TrialService.getSubmissions(a.uid)),y(!1))})()},[a]);let ah=(0,c.useCallback)(async a=>{if(u(a),q("roadmap"),A(h.SYLLABUS_DATA.find(b=>b.level===a.missionId)||h.SYLLABUS_DATA[0]),a.roadmap)return void I({budget:a.simulationState?.budget||1e7,efficacy:a.simulationState?.efficacy||a.stats.efficacy,safety:a.simulationState?.safety||a.stats.safety});w(!0);let b=await l.AiService.generateTrialRoadmap(a.moleculeName,a.stats.efficacy,a.stats.safety);await k.TrialService.saveRoadmap(a.id,b);let c={...b,generatedAt:Date.now()};u({...a,roadmap:c}),I({budget:1e7,efficacy:a.stats.efficacy,safety:a.stats.safety}),w(!1)},[]);(0,c.useEffect)(()=>{if(x||!a||0===r.length||t)return;let b=localStorage.getItem("active_trial_id");if(!b)return;let c=r.find(a=>a.id===b);c&&(localStorage.removeItem("active_trial_id"),ah(c))},[x,a,r,t,ah]);let ai=async()=>{if(!t?.roadmap)return;q("simulation");let a=t.simulationState;if(a&&a.cachedEvents&&a.cachedEvents.length>0){O("playing"),C(a.currentPhaseIndex||0),U(a.eventIndex||0),I({budget:a.budget,efficacy:a.efficacy,safety:a.safety}),K(a.logs||[]),M(a.previousEvents||[]),S(a.cachedEvents);let b=a.eventIndex||0;b<a.cachedEvents.length&&E(a.cachedEvents[b])}else O("intro"),C(0),U(0),M([]),S([]),K([`Trial initialized for ${t.moleculeName}.`,"Starting budget: $10.0M"])},aj=async()=>{if(t?.roadmap)if(O("playing"),0===V.length){Y(!0),G(!0);try{let a="";if(t.chemicalStats){let b=t.chemicalStats,c=b.functionalGroups?.join(", ")||"None",d=b.warnings?.join("; ")||"None",e=(b.bonds?.aromatic||0)>0?"Contains Aromatic System":"Non-aromatic";a=`
                        Formula: ${b.formula}
                        Molecular Weight: ${b.molecularWeight}
                        Key Functional Groups: ${c}
                        Structure Type: ${e}
                        Chemical Warnings: ${d}
                    `.trim()}let b=t.roadmap.phases.map((b,c)=>l.AiService.generatePhaseScenarios(t.moleculeName,b.name,b.description,a).then(a=>a.map(a=>({...a,phaseIndex:c})))),c=(await Promise.all(b)).flat();if(0===c.length&&console.error("AI failed to generate any events. Using fallback."),W(c),c.length>0){let a=c[0];E(a);let b=[...R,a];S(b),await k.TrialService.updateSimulationState(t.id,{currentPhaseIndex:0,eventIndex:0,budget:H.budget,efficacy:H.efficacy,safety:H.safety,previousEvents:[],logs:J,cachedEvents:b})}}catch(a){console.error("Failed to generate simulation scenario:",a)}finally{Y(!1),G(!1)}}else await ak()},ak=async()=>{if(!t?.roadmap)return;let a=T+1;if(a<V.length){let b=V[a];E(b),U(a),b.phaseIndex!==B&&C(b.phaseIndex||B);let c=[...R,b];S(c),await k.TrialService.updateSimulationState(t.id,{currentPhaseIndex:b.phaseIndex||B,eventIndex:a,budget:H.budget,efficacy:H.efficacy,safety:H.safety,logs:J,previousEvents:L,cachedEvents:c})}else an()},al=async a=>{if(!D||!t)return;let b=D.choices[a],c={budget:H.budget+b.budgetEffect,efficacy:Math.min(100,Math.max(0,H.efficacy+b.efficacyEffect)),safety:Math.min(100,Math.max(0,H.safety+b.safetyEffect))};I(c);let d=[`${t.roadmap?.phases[B].name}: ${b.outcomeText}`,...J];K(d);let e=[...L,D.title];M(e);let f=T+1;(U(f),await k.TrialService.updateSimulationState(t.id,{currentPhaseIndex:B,eventIndex:f,budget:c.budget,efficacy:c.efficacy,safety:c.safety,logs:d,previousEvents:e,cachedEvents:R}),c.budget<=0)?ao("Bankrupt! The lab ran out of funds."):c.safety<=20?ao("Trial Halted! Safety concerns became critical."):D.isPhaseComplete?am():await ak()},am=async()=>{if(t?.roadmap)if(B<t.roadmap.phases.length-1){let a=B+1;C(a),K(b=>[`--- Entered ${t.roadmap.phases[a].name} ---`,...b]),await ak()}else an()},an=async()=>{O("victory"),a&&t&&(await k.TrialService.updateSubmission(t.id,{status:"completed"}),await g.UserService.addXP(a.uid,200),await g.UserService.unlockAchievement(a.uid,{id:"trial_master",title:"Trial Master",description:"Successfully guided a drug to market.",icon:"üíä"}),n())},ao=async b=>{Q(b),O("gameover"),a&&t&&(await k.TrialService.updateSubmission(t.id,{status:"failed"}),await g.UserService.addXP(a.uid,50),n())},ap=async b=>{let c=b===Z[_].correctIndex;if(c&&ac(a=>a+1),_<Z.length-1)aa(a=>a+1);else{let b=ab+ +!!c;ae(!0),b>=3&&a?(await g.UserService.addXP(a.uid,1e3),await n(),ag({passed:!0,msg:`Congratulations! You have mastered Semester ${z.level}.`})):ag({passed:!1,msg:"You failed the Semester Exam. Review the notes and try again."})}},aq=async()=>{q("dashboard"),u(null),O("intro"),C(0),E(null),a&&s(await k.TrialService.getSubmissions(a.uid))};if("dashboard"===p)return(0,b.jsxs)("div",{className:d.default.container,children:[(0,b.jsx)(e.default,{title:"Clinical Trials",subtitle:"Your Drug Development Pipeline"}),(0,b.jsx)("div",{className:d.default.dashboardArea,children:x?(0,b.jsxs)("div",{className:d.default.loadingState,children:[(0,b.jsx)("div",{className:d.default.spinner}),(0,b.jsx)("p",{children:"Loading your trials..."})]}):0===r.length?(0,b.jsxs)("div",{className:d.default.emptyState,children:[(0,b.jsx)("div",{className:d.default.emptyIcon,children:"üß™"}),(0,b.jsx)("h2",{children:"No Trials Yet"}),(0,b.jsx)("p",{children:"First create a new simulation or build your own molecule in the lab, then submit it for clinical trials."}),(0,b.jsxs)("div",{className:d.default.emptyActions,children:[(0,b.jsx)("button",{className:d.default.btnPrimary,onClick:()=>o.push("/dashboard/builder"),children:"üî¨ Build My Own"}),(0,b.jsx)("button",{className:d.default.btnSecondary,children:"üé≤ New Simulation"})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:d.default.dashboardHeader,children:[(0,b.jsxs)("h2",{children:["Your Trials (",r.length,")"]}),(0,b.jsx)("button",{className:d.default.btnPrimary,onClick:()=>o.push("/dashboard/builder"),children:"+ New Molecule"})]}),(0,b.jsx)("div",{className:d.default.trialsGrid,children:r.map(a=>(0,b.jsxs)("div",{className:d.default.trialCard,onClick:()=>ah(a),children:[(0,b.jsx)("div",{className:d.default.trialImage,style:{background:a.generatedImageUrl?`url(${a.generatedImageUrl}) center/cover`:"linear-gradient(135deg, #1e3a5f 0%, #0d1b2a 100%)"},children:!a.generatedImageUrl&&(0,b.jsx)("div",{className:d.default.moleculeIcon,children:"üß¨"})}),(0,b.jsxs)("div",{className:d.default.trialInfo,children:[(0,b.jsx)("h3",{children:a.moleculeName}),(0,b.jsx)("p",{className:d.default.trialMission,children:a.missionTitle}),(0,b.jsxs)("div",{className:d.default.trialStats,children:[(0,b.jsxs)("span",{children:["Eff: ",a.stats.efficacy,"%"]}),(0,b.jsxs)("span",{children:["Safe: ",a.stats.safety,"%"]})]}),(0,b.jsxs)("div",{className:`${d.default.trialStatus} ${d.default[a.status]}`,children:["pending"===a.status&&"‚è≥ Pending","in_progress"===a.status&&"üîÑ In Progress","completed"===a.status&&"‚úÖ Completed","failed"===a.status&&"‚ùå Failed"]})]})]},a.id))})]})})]});if("roadmap"===p){let a=t?.roadmap;return(0,b.jsxs)("div",{className:d.default.container,children:[(0,b.jsx)(e.default,{title:t?.moleculeName||"Trial Roadmap",subtitle:"Clinical Development Pathway"}),(0,b.jsxs)("div",{className:d.default.roadmapArea,children:[(0,b.jsx)("button",{className:d.default.backBtn,onClick:aq,children:"‚Üê Back to Dashboard"}),v?(0,b.jsxs)("div",{className:d.default.loadingState,children:[(0,b.jsx)("div",{className:d.default.spinner}),(0,b.jsx)("p",{children:"Generating trial roadmap with AI..."})]}):a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:d.default.roadmapHeader,children:[(0,b.jsxs)("div",{className:d.default.roadmapSummary,children:[(0,b.jsx)("h2",{children:"Trial Overview"}),(0,b.jsx)("p",{children:a.summary}),(0,b.jsxs)("div",{className:d.default.successProb,children:[(0,b.jsx)("span",{children:"Success Probability:"}),(0,b.jsx)("div",{className:d.default.probBar,children:(0,b.jsx)("div",{className:d.default.probFill,style:{width:`${a.successProbability}%`}})}),(0,b.jsxs)("span",{className:d.default.probValue,children:[a.successProbability,"%"]})]})]}),(0,b.jsx)("button",{className:d.default.proceedBtn,onClick:ai,children:"‚ñ∂ Proceed to Trial Simulation"})]}),(0,b.jsx)("div",{className:d.default.phasesTimeline,children:a.phases.map((a,c)=>(0,b.jsxs)("div",{className:d.default.phaseItem,children:[(0,b.jsx)("div",{className:d.default.phaseNumber,children:c+1}),(0,b.jsxs)("div",{className:d.default.phaseContent,children:[(0,b.jsx)("h3",{children:a.name}),(0,b.jsx)("span",{className:d.default.phaseDuration,children:a.duration}),(0,b.jsx)("p",{children:a.description}),(0,b.jsxs)("div",{className:d.default.phaseActivities,children:[(0,b.jsx)("strong",{children:"Key Activities:"}),(0,b.jsx)("ul",{children:a.keyActivities.map((a,c)=>(0,b.jsx)("li",{children:a},c))})]}),(0,b.jsxs)("div",{className:d.default.phaseRisk,children:["‚ö†Ô∏è ",(0,b.jsx)("strong",{children:"Risk:"})," ",a.risks]})]})]},c))})]}):(0,b.jsx)("p",{children:"Failed to load roadmap data."})]})]})}return"quiz"===p?(0,b.jsxs)("div",{className:d.default.container,children:[(0,b.jsx)(e.default,{title:"Semester Exam",subtitle:`${z.semester}: ${z.title}`}),(0,b.jsx)("div",{className:d.default.gameArea,children:(0,b.jsx)("div",{className:d.default.mainStage,children:ad?(0,b.jsxs)("div",{className:d.default.card,children:[(0,b.jsx)("h1",{children:af?.passed?"üéì SEMESTER PASSED!":"‚ùå EXAM FAILED"}),(0,b.jsx)("p",{style:{fontSize:"1.1rem"},children:af?.msg}),(0,b.jsxs)("div",{style:{margin:"20px 0",fontSize:"2rem"},children:["Score: ",ab," / ",Z.length]}),af?.passed&&(0,b.jsxs)("div",{style:{background:"#064e3b",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[(0,b.jsx)("strong",{children:"‚≠ê REWARDS:"}),(0,b.jsx)("br",{}),"+1000 XP (Level Up!)",(0,b.jsx)("br",{}),"Next Semester Unlocked"]}),(0,b.jsx)("button",{className:d.default.btnSecondary,onClick:aq,children:"Return to Trials"})]}):(0,b.jsxs)("div",{className:d.default.card,children:[(0,b.jsxs)("div",{className:d.default.phaseBadge,style:{background:"#f59e0b"},children:["Semester ",z.level," Exam"]}),(0,b.jsxs)("h3",{children:["Question ",_+1," / ",Z.length]}),(0,b.jsx)("p",{style:{fontSize:"1.2rem",fontWeight:500,margin:"20px 0"},children:Z[_]?.text}),(0,b.jsx)("div",{className:d.default.choices,children:Z[_]?.options.map((a,c)=>(0,b.jsx)("button",{className:d.default.choiceBtn,onClick:()=>ap(c),children:a},c))})]})})})]}):(0,b.jsxs)("div",{className:d.default.container,children:[(0,b.jsx)(e.default,{title:"Clinical Trial Simulator",subtitle:t?.roadmap?.phases[B]?.name||"Loading..."}),(0,b.jsxs)("div",{className:d.default.gameArea,children:[(0,b.jsxs)("div",{className:d.default.statsBar,children:[(0,b.jsxs)("div",{className:d.default.statItem,children:[(0,b.jsx)("div",{className:d.default.statLabel,children:"Budget"}),(0,b.jsxs)("div",{className:d.default.statValue,style:{color:H.budget<2e6?"#ef4444":"#10b981"},children:["$",(H.budget/1e6).toFixed(1),"M"]})]}),(0,b.jsxs)("div",{className:d.default.statItem,children:[(0,b.jsx)("div",{className:d.default.statLabel,children:"Efficacy"}),(0,b.jsx)("div",{className:d.default.statBarContainer,children:(0,b.jsx)("div",{className:d.default.statBarFill,style:{width:`${H.efficacy}%`,background:"#3b82f6"}})}),(0,b.jsxs)("div",{className:d.default.statValueSm,children:[H.efficacy,"%"]})]}),(0,b.jsxs)("div",{className:d.default.statItem,children:[(0,b.jsx)("div",{className:d.default.statLabel,children:"Safety"}),(0,b.jsx)("div",{className:d.default.statBarContainer,children:(0,b.jsx)("div",{className:d.default.statBarFill,style:{width:`${H.safety}%`,background:H.safety<50?"#ef4444":"#10b981"}})}),(0,b.jsxs)("div",{className:d.default.statValueSm,children:[H.safety,"%"]})]})]}),t?.chemicalStats&&(0,b.jsx)("div",{style:{margin:"0 20px 20px 20px",padding:"12px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.1)",fontSize:"0.9rem"},children:(0,b.jsxs)("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap",alignItems:"center"},children:[(0,b.jsx)("strong",{style:{color:"#9ca3af",fontSize:"0.8rem",letterSpacing:"1px"},children:"MICRO-STRUCTURE:"}),(0,b.jsx)("span",{style:{color:"#e5e7eb",fontFamily:"monospace"},children:t.chemicalStats.formula}),(0,b.jsx)("span",{style:{color:"#6b7280"},children:"|"}),(0,b.jsxs)("span",{style:{color:"#e5e7eb"},children:[t.chemicalStats.molecularWeight," Da"]}),t.chemicalStats.functionalGroups?.map((a,c)=>(0,b.jsx)("span",{style:{background:"rgba(59, 130, 246, 0.2)",color:"#93c5fd",padding:"2px 8px",borderRadius:"4px",fontSize:"0.8rem"},children:a},c)),(t.chemicalStats.warnings?.length??0)>0&&(0,b.jsxs)("span",{style:{background:"rgba(239, 68, 68, 0.2)",color:"#fca5a5",padding:"2px 8px",borderRadius:"4px",fontSize:"0.8rem",marginLeft:"auto",display:"flex",alignItems:"center",gap:"4px"},children:["‚ö†Ô∏è ",t.chemicalStats.warnings?.length," Structural Warnings"]})]})}),(0,b.jsxs)("div",{className:d.default.mainStage,children:["intro"===N&&(0,b.jsxs)("div",{className:d.default.card,children:[(0,b.jsxs)("h1",{children:["üß™ ",t?.moleculeName]}),(0,b.jsx)("div",{className:d.default.badge,style:{background:"#8b5cf6",width:"fit-content"},children:"AI-Powered Clinical Trial"}),(0,b.jsxs)("p",{style:{margin:"20px 0"},children:[(0,b.jsx)("strong",{children:"Objective:"})," Navigate through ",t?.roadmap?.phases.length||4," clinical trial phases.",(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),"Each decision will be generated by AI based on your molecule's characteristics and current progress."]}),(0,b.jsx)("button",{className:d.default.btnPrimary,onClick:aj,children:"Begin Trial üöÄ"})]}),"playing"===N&&(0,b.jsx)(b.Fragment,{children:X||F?(0,b.jsxs)("div",{className:d.default.loadingState,children:[(0,b.jsx)("div",{className:d.default.spinner}),(0,b.jsx)("p",{children:X?"Generating Full Trial Scenarios...":"Loading..."}),X&&(0,b.jsx)("p",{style:{fontSize:"0.8rem",color:"#9ca3af",marginTop:"10px"},children:"Creating events for all 4 phases..."})]}):D?(0,b.jsxs)("div",{className:d.default.card,style:{borderColor:"#3b82f6"},children:[(0,b.jsx)("div",{className:d.default.phaseBadge,children:t?.roadmap?.phases[B]?.name}),(0,b.jsx)("h2",{children:D.title}),(0,b.jsx)("p",{className:d.default.eventDesc,children:D.description}),(0,b.jsx)("div",{className:d.default.choices,children:D.choices.map((a,c)=>(0,b.jsxs)("button",{className:d.default.choiceBtn,onClick:()=>al(c),children:[(0,b.jsx)("div",{className:d.default.choiceText,children:a.text}),(0,b.jsxs)("div",{className:d.default.choiceEffect,children:[a.budgetEffect<0?`-$${Math.abs(a.budgetEffect/1e6).toFixed(1)}M`:"",0!==a.efficacyEffect?` Eff ${a.efficacyEffect>0?"+":""}${a.efficacyEffect}`:"",0!==a.safetyEffect?` Safe ${a.safetyEffect>0?"+":""}${a.safetyEffect}`:""]})]},c))})]}):(0,b.jsx)("div",{className:d.default.card,children:(0,b.jsx)("p",{children:"Loading event..."})})}),"victory"===N&&(0,b.jsxs)("div",{className:d.default.victoryOverlay,children:[(0,b.jsx)("div",{className:d.default.victoryParticles,children:Array.from({length:30}).map((a,c)=>(0,b.jsx)("div",{className:d.default.victoryParticle,style:{left:`${100*Math.random()}%`,background:["#10b981","#34d399","#6ee7b7","#fbbf24","#a78bfa","#60a5fa"][c%6],width:`${4+8*Math.random()}px`,height:`${4+8*Math.random()}px`,animationDuration:`${2+4*Math.random()}s`,animationDelay:`${3*Math.random()}s`}},c))}),(0,b.jsxs)("div",{className:d.default.victoryCard,children:[(0,b.jsx)("span",{className:d.default.victoryIcon,children:"üéâ"}),(0,b.jsx)("h1",{className:d.default.victoryTitle,children:"FDA APPROVED!"}),(0,b.jsxs)("p",{className:d.default.victorySubtitle,children:["Excellent work, Doctor! Your drug ",(0,b.jsx)("strong",{children:t?.moleculeName})," has passed all clinical trial phases and is cleared for market distribution."]}),(0,b.jsxs)("div",{className:d.default.victoryStats,children:[(0,b.jsxs)("div",{className:d.default.victoryStat,children:[(0,b.jsxs)("span",{className:d.default.victoryStatValue,style:{color:"#10b981"},children:["$",(H.budget/1e6).toFixed(1),"M"]}),(0,b.jsx)("span",{className:d.default.victoryStatLabel,children:"Budget Left"})]}),(0,b.jsxs)("div",{className:d.default.victoryStat,children:[(0,b.jsxs)("span",{className:d.default.victoryStatValue,style:{color:"#60a5fa"},children:[H.efficacy,"%"]}),(0,b.jsx)("span",{className:d.default.victoryStatLabel,children:"Efficacy"})]}),(0,b.jsxs)("div",{className:d.default.victoryStat,children:[(0,b.jsxs)("span",{className:d.default.victoryStatValue,style:{color:"#a78bfa"},children:[H.safety,"%"]}),(0,b.jsx)("span",{className:d.default.victoryStatLabel,children:"Safety"})]})]}),(0,b.jsx)("div",{className:d.default.xpBadge,children:"‚≠ê +200 XP Earned"}),(0,b.jsxs)("div",{className:d.default.achievementUnlock,children:[(0,b.jsx)("span",{className:d.default.achieveIcon,children:"üíä"}),(0,b.jsxs)("div",{className:d.default.achieveInfo,children:[(0,b.jsx)("div",{className:d.default.achieveLabel,children:"Achievement Unlocked"}),(0,b.jsx)("div",{className:d.default.achieveTitle,children:"Trial Master"})]})]}),(0,b.jsxs)("p",{style:{color:"#9ca3af",marginBottom:"24px",fontSize:"0.95rem"},children:["To complete ",(0,b.jsxs)("strong",{style:{color:"#fff"},children:["Semester ",z.level]}),", pass the final exam."]}),(0,b.jsx)("div",{className:d.default.victoryActions,children:(0,b.jsx)("button",{className:d.default.btnVictory,onClick:()=>{$((0,i.getQuestionsForLevel)(z.level,5)),q("quiz"),ae(!1),ac(0),aa(0)},children:"Take Semester Exam üìù"})})]})]}),"gameover"===N&&(0,b.jsx)("div",{className:d.default.gameoverOverlay,children:(0,b.jsxs)("div",{className:d.default.gameoverCard,children:[(0,b.jsx)("span",{className:d.default.gameoverIcon,children:"üö´"}),(0,b.jsx)("h1",{className:d.default.gameoverTitle,children:"Trial Terminated"}),(0,b.jsx)("div",{className:d.default.gameoverReason,children:P}),(0,b.jsxs)("div",{className:d.default.gameoverStats,children:[(0,b.jsxs)("div",{className:d.default.gameoverStat,children:[(0,b.jsxs)("span",{className:d.default.gameoverStatValue,style:{color:H.budget<=0?"#ef4444":"#10b981"},children:["$",(H.budget/1e6).toFixed(1),"M"]}),(0,b.jsx)("span",{className:d.default.gameoverStatLabel,children:"Budget"})]}),(0,b.jsxs)("div",{className:d.default.gameoverStat,children:[(0,b.jsxs)("span",{className:d.default.gameoverStatValue,style:{color:"#60a5fa"},children:[H.efficacy,"%"]}),(0,b.jsx)("span",{className:d.default.gameoverStatLabel,children:"Efficacy"})]}),(0,b.jsxs)("div",{className:d.default.gameoverStat,children:[(0,b.jsxs)("span",{className:d.default.gameoverStatValue,style:{color:H.safety<=20?"#ef4444":"#a78bfa"},children:[H.safety,"%"]}),(0,b.jsx)("span",{className:d.default.gameoverStatLabel,children:"Safety"})]})]}),(0,b.jsx)("p",{className:d.default.gameoverTip,children:"üí° Tip: Balance cost-cutting with safety. Cutting too many corners leads to trial termination."}),(0,b.jsxs)("div",{className:d.default.gameoverActions,children:[(0,b.jsx)("button",{className:d.default.btnRetry,onClick:()=>{W([]),U(-1),S([]),O("intro"),aj()},children:"üîÅ Retry Trial"}),(0,b.jsx)("button",{className:d.default.btnGhost,onClick:aq,children:"Return to Dashboard"})]})]})})]}),(0,b.jsxs)("div",{className:d.default.logConsole,children:[(0,b.jsx)("div",{className:d.default.logTitle,children:"Activity Log"}),(0,b.jsx)("div",{className:d.default.logList,children:J.map((a,c)=>(0,b.jsxs)("div",{className:d.default.logItem,children:["> ",a]},c))})]})]})]})}a.s(["default",()=>m])}];

//# sourceMappingURL=src_app_dashboard_clinical-trials_7907d507._.js.map