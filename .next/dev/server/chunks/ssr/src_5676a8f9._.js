module.exports = [
"[project]/src/components/layout/TopHeader.module.css [app-ssr] (css module)", ((__turbopack_context__) => {

__turbopack_context__.v({
  "actions": "TopHeader-module__TNE3sW__actions",
  "header": "TopHeader-module__TNE3sW__header",
  "iconBtn": "TopHeader-module__TNE3sW__iconBtn",
  "primaryBtn": "TopHeader-module__TNE3sW__primaryBtn",
  "subtitle": "TopHeader-module__TNE3sW__subtitle",
  "title": "TopHeader-module__TNE3sW__title",
  "titleSection": "TopHeader-module__TNE3sW__titleSection",
});
}),
"[project]/src/components/layout/TopHeader.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>TopHeader
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$TopHeader$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__ = __turbopack_context__.i("[project]/src/components/layout/TopHeader.module.css [app-ssr] (css module)");
'use client';
;
;
function TopHeader({ title = "Research Lab Dashboard", subtitle = "Welcome back, researcher. Your next breakthrough awaits." }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("header", {
        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$TopHeader$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].header,
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$TopHeader$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].titleSection,
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$TopHeader$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].title,
                        children: title
                    }, void 0, false, {
                        fileName: "[project]/src/components/layout/TopHeader.tsx",
                        lineNumber: 15,
                        columnNumber: 17
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$TopHeader$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].subtitle,
                        children: subtitle
                    }, void 0, false, {
                        fileName: "[project]/src/components/layout/TopHeader.tsx",
                        lineNumber: 16,
                        columnNumber: 17
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/layout/TopHeader.tsx",
                lineNumber: 14,
                columnNumber: 13
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$TopHeader$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].actions,
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$TopHeader$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].iconBtn,
                        children: "ðŸ””"
                    }, void 0, false, {
                        fileName: "[project]/src/components/layout/TopHeader.tsx",
                        lineNumber: 20,
                        columnNumber: 17
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$TopHeader$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].primaryBtn,
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: "+"
                            }, void 0, false, {
                                fileName: "[project]/src/components/layout/TopHeader.tsx",
                                lineNumber: 24,
                                columnNumber: 21
                            }, this),
                            " New Simulation"
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/layout/TopHeader.tsx",
                        lineNumber: 23,
                        columnNumber: 17
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/layout/TopHeader.tsx",
                lineNumber: 19,
                columnNumber: 13
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/layout/TopHeader.tsx",
        lineNumber: 13,
        columnNumber: 9
    }, this);
}
}),
"[project]/src/lib/chemistry.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "PeriodicTable",
    ()=>PeriodicTable
]);
const PeriodicTable = {
    H: {
        name: 'Hydrogen',
        symbol: 'H',
        atomicNumber: 1,
        color: 0xffffff,
        radius: 0.8,
        mass: 1.008,
        valence: [
            1
        ]
    },
    C: {
        name: 'Carbon',
        symbol: 'C',
        atomicNumber: 6,
        color: 0x909090,
        radius: 1.2,
        mass: 12.011,
        valence: [
            4
        ]
    },
    N: {
        name: 'Nitrogen',
        symbol: 'N',
        atomicNumber: 7,
        color: 0x3050f8,
        radius: 1.1,
        mass: 14.007,
        valence: [
            3,
            4,
            5
        ]
    },
    O: {
        name: 'Oxygen',
        symbol: 'O',
        atomicNumber: 8,
        color: 0xff0d0d,
        radius: 1.0,
        mass: 15.999,
        valence: [
            2
        ]
    },
    F: {
        name: 'Fluorine',
        symbol: 'F',
        atomicNumber: 9,
        color: 0x90e050,
        radius: 0.9,
        mass: 18.998,
        valence: [
            1
        ]
    },
    P: {
        name: 'Phosphorus',
        symbol: 'P',
        atomicNumber: 15,
        color: 0xff8000,
        radius: 1.3,
        mass: 30.974,
        valence: [
            3,
            5
        ]
    },
    S: {
        name: 'Sulfur',
        symbol: 'S',
        atomicNumber: 16,
        color: 0xffff30,
        radius: 1.3,
        mass: 32.06,
        valence: [
            2,
            4,
            6
        ]
    },
    Cl: {
        name: 'Chlorine',
        symbol: 'Cl',
        atomicNumber: 17,
        color: 0x1ff01f,
        radius: 1.2,
        mass: 35.45,
        valence: [
            1
        ]
    },
    Br: {
        name: 'Bromine',
        symbol: 'Br',
        atomicNumber: 35,
        color: 0xa62929,
        radius: 1.4,
        mass: 79.904,
        valence: [
            1
        ]
    },
    I: {
        name: 'Iodine',
        symbol: 'I',
        atomicNumber: 53,
        color: 0x940094,
        radius: 1.6,
        mass: 126.90,
        valence: [
            1
        ]
    }
};
}),
"[project]/src/lib/Molecule3D.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "MoleculeScene",
    ()=>MoleculeScene
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/three/build/three.module.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$examples$2f$jsm$2f$controls$2f$OrbitControls$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/three/examples/jsm/controls/OrbitControls.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$chemistry$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/chemistry.ts [app-ssr] (ecmascript)");
;
;
;
class MoleculeScene {
    scene;
    camera;
    renderer;
    controls;
    raycaster;
    mouse;
    container;
    // Data
    atoms = [];
    bonds = [];
    atomMeshes = new Map();
    bondMeshes = new Map();
    // Interaction
    onAtomClick;
    onEmptyClick;
    onAtomHover;
    ghostMesh = null;
    hoveredAtomId = null;
    constructor(container, width, height, onAtomClick, onEmptyClick, onAtomHover){
        this.container = container;
        this.onAtomClick = onAtomClick;
        this.onEmptyClick = onEmptyClick;
        this.onAtomHover = onAtomHover;
        // Scene Setup
        this.scene = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Scene"]();
        this.scene.background = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Color"](0x050508);
        this.scene.fog = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fog"](0x050508, 15, 60);
        // Camera
        this.camera = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PerspectiveCamera"](55, width / height, 0.1, 1000);
        this.camera.position.set(0, 8, 18);
        // Renderer
        this.renderer = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WebGLRenderer"]({
            antialias: true,
            alpha: true
        });
        this.renderer.setSize(width, height);
        this.renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        container.appendChild(this.renderer.domElement);
        // Controls
        this.controls = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$examples$2f$jsm$2f$controls$2f$OrbitControls$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["OrbitControls"](this.camera, this.renderer.domElement);
        this.controls.enableDamping = true;
        this.controls.dampingFactor = 0.05;
        this.controls.minDistance = 5;
        this.controls.maxDistance = 50;
        // Lights
        const ambientLight = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AmbientLight"](0x404050, 2);
        this.scene.add(ambientLight);
        const pointLight = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PointLight"](0xffffff, 2.5);
        pointLight.position.set(10, 15, 10);
        this.scene.add(pointLight);
        const dirLight = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DirectionalLight"](0xffffff, 1.5);
        dirLight.position.set(-5, 10, -5);
        this.scene.add(dirLight);
        // Grid
        const gridHelper = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["GridHelper"](40, 40, 0x333340, 0x1a1a25);
        this.scene.add(gridHelper);
        // Interaction
        this.raycaster = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Raycaster"]();
        this.mouse = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Vector2"]();
        // Event Listeners
        this.renderer.domElement.addEventListener('click', this.handleClick.bind(this));
        this.renderer.domElement.addEventListener('mousemove', this.handleMouseMove.bind(this));
        // Start Loop
        this.animate();
    }
    updateGhost(elementSymbol) {
        if (this.ghostMesh) {
            this.scene.remove(this.ghostMesh);
            this.ghostMesh = null;
        }
        if (elementSymbol && __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$chemistry$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PeriodicTable"][elementSymbol]) {
            const data = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$chemistry$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PeriodicTable"][elementSymbol];
            const geometry = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SphereGeometry"](1, 32, 32);
            const material = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MeshPhongMaterial"]({
                color: data.color,
                opacity: 0.4,
                transparent: true,
                emissive: data.color,
                emissiveIntensity: 0.3
            });
            this.ghostMesh = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Mesh"](geometry, material);
            const scale = data.radius * 0.5;
            this.ghostMesh.scale.set(scale, scale, scale);
            this.scene.add(this.ghostMesh);
        }
    }
    handleMouseMove(event) {
        const rect = this.renderer.domElement.getBoundingClientRect();
        this.mouse.x = (event.clientX - rect.left) / rect.width * 2 - 1;
        this.mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;
        this.raycaster.setFromCamera(this.mouse, this.camera);
        // Check for atom hover
        const atomMeshArray = Array.from(this.atomMeshes.values());
        const intersects = this.raycaster.intersectObjects(atomMeshArray);
        if (intersects.length > 0) {
            const object = intersects[0].object;
            for (const [id, mesh] of this.atomMeshes.entries()){
                if (mesh === object) {
                    if (this.hoveredAtomId !== id) {
                        this.hoveredAtomId = id;
                        const atom = this.atoms.find((a)=>a.id === id);
                        if (this.onAtomHover) this.onAtomHover(atom || null);
                    }
                    break;
                }
            }
        } else {
            if (this.hoveredAtomId !== null) {
                this.hoveredAtomId = null;
                if (this.onAtomHover) this.onAtomHover(null);
            }
        }
        // Ghost positioning
        if (this.ghostMesh) {
            const plane = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Plane"](new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Vector3"](0, 1, 0), 0);
            const target = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Vector3"]();
            const intersection = this.raycaster.ray.intersectPlane(plane, target);
            if (intersection) {
                this.ghostMesh.position.copy(intersection);
                this.ghostMesh.visible = true;
            } else {
                this.ghostMesh.visible = false;
            }
        }
    }
    handleClick(event) {
        const rect = this.renderer.domElement.getBoundingClientRect();
        this.mouse.x = (event.clientX - rect.left) / rect.width * 2 - 1;
        this.mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;
        this.raycaster.setFromCamera(this.mouse, this.camera);
        // Raycast against atoms
        const atomMeshArray = Array.from(this.atomMeshes.values());
        const intersects = this.raycaster.intersectObjects(atomMeshArray);
        if (intersects.length > 0) {
            // Clicked an atom
            const object = intersects[0].object;
            for (const [id, mesh] of this.atomMeshes.entries()){
                if (mesh === object && this.onAtomClick) {
                    this.onAtomClick(id);
                    return;
                }
            }
        } else {
            // Clicked empty space
            const plane = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Plane"](new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Vector3"](0, 1, 0), 0);
            const target = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Vector3"]();
            const intersection = this.raycaster.ray.intersectPlane(plane, target);
            if (intersection && this.onEmptyClick) {
                this.onEmptyClick(intersection);
            }
        }
    }
    updateMolecule(atoms, bonds) {
        this.atoms = atoms;
        this.bonds = bonds;
        this.renderMolecule();
    }
    renderMolecule() {
        // Clear existing meshes
        this.atomMeshes.forEach((mesh)=>this.scene.remove(mesh));
        this.atomMeshes.clear();
        this.bondMeshes.forEach((meshes)=>meshes.forEach((m)=>this.scene.remove(m)));
        this.bondMeshes.clear();
        const sphereGeometry = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SphereGeometry"](1, 32, 32);
        const cylinderGeometry = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CylinderGeometry"](0.15, 0.15, 1, 16);
        // Render Atoms
        this.atoms.forEach((atom)=>{
            const data = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$chemistry$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PeriodicTable"][atom.element];
            if (!data) return;
            const material = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MeshPhongMaterial"]({
                color: data.color,
                shininess: 80,
                specular: 0x444444
            });
            const mesh = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Mesh"](sphereGeometry, material);
            // Scale by radius
            const scale = data.radius * 0.5;
            mesh.scale.set(scale, scale, scale);
            mesh.position.set(atom.x, atom.y, atom.z);
            this.scene.add(mesh);
            this.atomMeshes.set(atom.id, mesh);
        });
        // Render Bonds
        this.bonds.forEach((bond)=>{
            const startAtom = this.atoms.find((a)=>a.id === bond.sourceId);
            const endAtom = this.atoms.find((a)=>a.id === bond.targetId);
            if (!startAtom || !endAtom) return;
            const startPos = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Vector3"](startAtom.x, startAtom.y, startAtom.z);
            const endPos = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Vector3"](endAtom.x, endAtom.y, endAtom.z);
            const distance = startPos.distanceTo(endPos);
            const mid = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Vector3"]().addVectors(startPos, endPos).multiplyScalar(0.5);
            // Orientation
            const direction = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Vector3"]().subVectors(endPos, startPos).normalize();
            const quaternion = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Quaternion"]();
            quaternion.setFromUnitVectors(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Vector3"](0, 1, 0), direction);
            const bondColor = 0x666680;
            if (bond.order === 1) {
                const material = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MeshPhongMaterial"]({
                    color: bondColor
                });
                const mesh = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Mesh"](cylinderGeometry, material);
                mesh.position.copy(mid);
                mesh.quaternion.copy(quaternion);
                mesh.scale.set(1, distance, 1);
                this.scene.add(mesh);
                this.bondMeshes.set(bond.id, [
                    mesh
                ]);
            } else if (bond.order >= 2) {
                // Double/Triple bond
                const offset = 0.2;
                let axis = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Vector3"](0, 0, 1);
                if (Math.abs(direction.z) > 0.9) axis.set(1, 0, 0);
                const offsetVec = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Vector3"]().crossVectors(direction, axis).normalize().multiplyScalar(offset);
                const m1 = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Mesh"](cylinderGeometry, new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MeshPhongMaterial"]({
                    color: bondColor
                }));
                m1.position.copy(mid).add(offsetVec);
                m1.quaternion.copy(quaternion);
                m1.scale.set(0.8, distance, 0.8);
                const m2 = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Mesh"](cylinderGeometry, new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MeshPhongMaterial"]({
                    color: bondColor
                }));
                m2.position.copy(mid).sub(offsetVec);
                m2.quaternion.copy(quaternion);
                m2.scale.set(0.8, distance, 0.8);
                this.scene.add(m1);
                this.scene.add(m2);
                this.bondMeshes.set(bond.id, [
                    m1,
                    m2
                ]);
            }
        });
    }
    resize(width, height) {
        this.camera.aspect = width / height;
        this.camera.updateProjectionMatrix();
        this.renderer.setSize(width, height);
    }
    dispose() {
        this.renderer.dispose();
        if (this.container.contains(this.renderer.domElement)) {
            this.container.removeChild(this.renderer.domElement);
        }
    }
    animate() {
        requestAnimationFrame(this.animate.bind(this));
        this.controls.update();
        this.renderer.render(this.scene, this.camera);
    }
}
}),
"[project]/src/components/builder/View3D.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$Molecule3D$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/Molecule3D.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$chemistry$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/chemistry.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
;
const View3D = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forwardRef"])(({ atoms, bonds, selectedElement, onAtomClick, onEmptyClick }, ref)=>{
    const containerRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const sceneRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const [hoveredAtom, setHoveredAtom] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [tooltipPos, setTooltipPos] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])({
        x: 0,
        y: 0
    });
    // Store callbacks in refs to avoid re-creating scene
    const onAtomClickRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(onAtomClick);
    const onEmptyClickRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(onEmptyClick);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        onAtomClickRef.current = onAtomClick;
    }, [
        onAtomClick
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        onEmptyClickRef.current = onEmptyClick;
    }, [
        onEmptyClick
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useImperativeHandle"])(ref, ()=>({
            resize: ()=>{
                if (sceneRef.current && containerRef.current) {
                    const { clientWidth, clientHeight } = containerRef.current;
                    sceneRef.current.resize(clientWidth, clientHeight);
                }
            }
        }));
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!containerRef.current) return;
        const { clientWidth, clientHeight } = containerRef.current;
        const scene = new __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$Molecule3D$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MoleculeScene"](containerRef.current, clientWidth, clientHeight, (id)=>onAtomClickRef.current?.(id), (pos)=>onEmptyClickRef.current?.(pos), (atom)=>setHoveredAtom(atom));
        sceneRef.current = scene;
        // Resize observer
        const resizeObserver = new ResizeObserver(()=>{
            if (containerRef.current && sceneRef.current) {
                const { clientWidth, clientHeight } = containerRef.current;
                sceneRef.current.resize(clientWidth, clientHeight);
            }
        });
        resizeObserver.observe(containerRef.current);
        return ()=>{
            scene.dispose();
            resizeObserver.disconnect();
        };
    }, []); // Only run once
    // Update molecule when props change
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (sceneRef.current) {
            sceneRef.current.updateMolecule(atoms, bonds);
            sceneRef.current.updateGhost(selectedElement || null);
        }
    }, [
        atoms,
        bonds,
        selectedElement
    ]);
    // Track mouse for tooltip positioning
    const handleMouseMove = (e)=>{
        if (containerRef.current) {
            const rect = containerRef.current.getBoundingClientRect();
            setTooltipPos({
                x: e.clientX - rect.left + 15,
                y: e.clientY - rect.top - 10
            });
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        ref: containerRef,
        onMouseMove: handleMouseMove,
        style: {
            width: '100%',
            height: '100%',
            position: 'relative',
            cursor: hoveredAtom ? 'pointer' : 'crosshair'
        },
        children: hoveredAtom && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            style: {
                position: 'absolute',
                left: tooltipPos.x,
                top: tooltipPos.y,
                background: 'rgba(0, 0, 0, 0.9)',
                color: '#fff',
                padding: '8px 12px',
                borderRadius: '8px',
                fontSize: '0.85rem',
                fontWeight: 600,
                pointerEvents: 'none',
                zIndex: 100,
                display: 'flex',
                alignItems: 'center',
                gap: '8px',
                border: '1px solid rgba(255,255,255,0.15)',
                boxShadow: '0 4px 12px rgba(0,0,0,0.4)'
            },
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    style: {
                        width: '14px',
                        height: '14px',
                        borderRadius: '50%',
                        background: `#${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$chemistry$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PeriodicTable"][hoveredAtom.element]?.color.toString(16).padStart(6, '0') || 'ffffff'}`
                    }
                }, void 0, false, {
                    fileName: "[project]/src/components/builder/View3D.tsx",
                    lineNumber: 121,
                    columnNumber: 21
                }, ("TURBOPACK compile-time value", void 0)),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                    children: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$chemistry$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PeriodicTable"][hoveredAtom.element]?.name || hoveredAtom.element
                }, void 0, false, {
                    fileName: "[project]/src/components/builder/View3D.tsx",
                    lineNumber: 127,
                    columnNumber: 21
                }, ("TURBOPACK compile-time value", void 0)),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                    style: {
                        color: '#6b7280',
                        fontWeight: 400,
                        fontSize: '0.75rem'
                    },
                    children: [
                        "(",
                        hoveredAtom.element,
                        ")"
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/components/builder/View3D.tsx",
                    lineNumber: 128,
                    columnNumber: 21
                }, ("TURBOPACK compile-time value", void 0))
            ]
        }, void 0, true, {
            fileName: "[project]/src/components/builder/View3D.tsx",
            lineNumber: 103,
            columnNumber: 17
        }, ("TURBOPACK compile-time value", void 0))
    }, void 0, false, {
        fileName: "[project]/src/components/builder/View3D.tsx",
        lineNumber: 96,
        columnNumber: 9
    }, ("TURBOPACK compile-time value", void 0));
});
View3D.displayName = 'View3D';
const __TURBOPACK__default__export__ = View3D;
}),
"[project]/src/lib/syllabusData.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SYLLABUS_DATA",
    ()=>SYLLABUS_DATA
]);
// ==================== MOLECULE TEMPLATES ====================
// All molecules now include hydrogen atoms and proper bond orders
const PARACETAMOL_TEMPLATE = {
    name: 'Paracetamol',
    description: 'C8H9NO2 - Benzene ring + Hydroxyl + Acetamide group.',
    atoms: [
        // Benzene ring
        {
            id: 1,
            element: 'C',
            position: [
                0,
                0,
                0
            ]
        },
        {
            id: 2,
            element: 'C',
            position: [
                1.4,
                0,
                0
            ]
        },
        {
            id: 3,
            element: 'C',
            position: [
                2.1,
                1.2,
                0
            ]
        },
        {
            id: 4,
            element: 'C',
            position: [
                1.4,
                2.4,
                0
            ]
        },
        {
            id: 5,
            element: 'C',
            position: [
                0,
                2.4,
                0
            ]
        },
        {
            id: 6,
            element: 'C',
            position: [
                -0.7,
                1.2,
                0
            ]
        },
        // Functional groups
        {
            id: 7,
            element: 'O',
            position: [
                2.1,
                -1.2,
                0
            ]
        },
        {
            id: 8,
            element: 'H',
            position: [
                3.0,
                -1.4,
                0
            ]
        },
        {
            id: 9,
            element: 'N',
            position: [
                -2.1,
                1.2,
                0
            ]
        },
        {
            id: 10,
            element: 'H',
            position: [
                -2.5,
                2.1,
                0
            ]
        },
        {
            id: 11,
            element: 'C',
            position: [
                -3.0,
                0,
                0
            ]
        },
        {
            id: 12,
            element: 'O',
            position: [
                -3.5,
                -1.0,
                0
            ]
        },
        {
            id: 13,
            element: 'C',
            position: [
                -4.2,
                0.8,
                0
            ]
        },
        // Ring hydrogens
        {
            id: 14,
            element: 'H',
            position: [
                3.1,
                1.2,
                0
            ]
        },
        {
            id: 15,
            element: 'H',
            position: [
                2.0,
                3.3,
                0
            ]
        },
        {
            id: 16,
            element: 'H',
            position: [
                -0.6,
                3.3,
                0
            ]
        },
        // Methyl hydrogens
        {
            id: 17,
            element: 'H',
            position: [
                -4.8,
                0.0,
                0
            ]
        },
        {
            id: 18,
            element: 'H',
            position: [
                -4.8,
                1.3,
                0
            ]
        },
        {
            id: 19,
            element: 'H',
            position: [
                -3.8,
                1.6,
                0
            ]
        }
    ],
    bonds: [
        // Benzene ring (alternating double bonds for resonance)
        {
            source: 1,
            target: 2,
            order: 2
        },
        {
            source: 2,
            target: 3,
            order: 1
        },
        {
            source: 3,
            target: 4,
            order: 2
        },
        {
            source: 4,
            target: 5,
            order: 1
        },
        {
            source: 5,
            target: 6,
            order: 2
        },
        {
            source: 6,
            target: 1,
            order: 1
        },
        // Hydroxyl group
        {
            source: 2,
            target: 7,
            order: 1
        },
        {
            source: 7,
            target: 8,
            order: 1
        },
        // Acetamide group
        {
            source: 6,
            target: 9,
            order: 1
        },
        {
            source: 9,
            target: 10,
            order: 1
        },
        {
            source: 9,
            target: 11,
            order: 1
        },
        {
            source: 11,
            target: 12,
            order: 2
        },
        {
            source: 11,
            target: 13,
            order: 1
        },
        // Ring hydrogens
        {
            source: 3,
            target: 14,
            order: 1
        },
        {
            source: 4,
            target: 15,
            order: 1
        },
        {
            source: 5,
            target: 16,
            order: 1
        },
        // Methyl hydrogens
        {
            source: 13,
            target: 17,
            order: 1
        },
        {
            source: 13,
            target: 18,
            order: 1
        },
        {
            source: 13,
            target: 19,
            order: 1
        }
    ]
};
const ASPIRIN_TEMPLATE = {
    name: 'Aspirin',
    description: 'C9H8O4 - Acetylsalicylic Acid.',
    atoms: [
        // Benzene ring
        {
            id: 1,
            element: 'C',
            position: [
                0,
                0,
                0
            ]
        },
        {
            id: 2,
            element: 'C',
            position: [
                1.4,
                0,
                0
            ]
        },
        {
            id: 3,
            element: 'C',
            position: [
                2.1,
                1.2,
                0
            ]
        },
        {
            id: 4,
            element: 'C',
            position: [
                1.4,
                2.4,
                0
            ]
        },
        {
            id: 5,
            element: 'C',
            position: [
                0,
                2.4,
                0
            ]
        },
        {
            id: 6,
            element: 'C',
            position: [
                -0.7,
                1.2,
                0
            ]
        },
        // Carboxylic acid
        {
            id: 7,
            element: 'C',
            position: [
                2.8,
                -1.2,
                0
            ]
        },
        {
            id: 8,
            element: 'O',
            position: [
                4.0,
                -0.8,
                0
            ]
        },
        {
            id: 9,
            element: 'O',
            position: [
                2.4,
                -2.4,
                0
            ]
        },
        {
            id: 10,
            element: 'H',
            position: [
                3.2,
                -2.8,
                0
            ]
        },
        // Ester group
        {
            id: 11,
            element: 'O',
            position: [
                -2.0,
                1.2,
                0
            ]
        },
        {
            id: 12,
            element: 'C',
            position: [
                -3.0,
                0.4,
                0
            ]
        },
        {
            id: 13,
            element: 'O',
            position: [
                -3.5,
                -0.6,
                0
            ]
        },
        {
            id: 14,
            element: 'C',
            position: [
                -4.0,
                1.4,
                0
            ]
        },
        // Ring hydrogens
        {
            id: 15,
            element: 'H',
            position: [
                0,
                -0.9,
                0
            ]
        },
        {
            id: 16,
            element: 'H',
            position: [
                3.1,
                1.2,
                0
            ]
        },
        {
            id: 17,
            element: 'H',
            position: [
                2.0,
                3.3,
                0
            ]
        },
        {
            id: 18,
            element: 'H',
            position: [
                -0.6,
                3.3,
                0
            ]
        },
        // Methyl hydrogens
        {
            id: 19,
            element: 'H',
            position: [
                -4.6,
                0.8,
                0
            ]
        },
        {
            id: 20,
            element: 'H',
            position: [
                -4.6,
                2.0,
                0
            ]
        },
        {
            id: 21,
            element: 'H',
            position: [
                -3.4,
                2.2,
                0
            ]
        }
    ],
    bonds: [
        // Benzene ring
        {
            source: 1,
            target: 2,
            order: 2
        },
        {
            source: 2,
            target: 3,
            order: 1
        },
        {
            source: 3,
            target: 4,
            order: 2
        },
        {
            source: 4,
            target: 5,
            order: 1
        },
        {
            source: 5,
            target: 6,
            order: 2
        },
        {
            source: 6,
            target: 1,
            order: 1
        },
        // Carboxylic acid
        {
            source: 2,
            target: 7,
            order: 1
        },
        {
            source: 7,
            target: 8,
            order: 2
        },
        {
            source: 7,
            target: 9,
            order: 1
        },
        {
            source: 9,
            target: 10,
            order: 1
        },
        // Ester group
        {
            source: 6,
            target: 11,
            order: 1
        },
        {
            source: 11,
            target: 12,
            order: 1
        },
        {
            source: 12,
            target: 13,
            order: 2
        },
        {
            source: 12,
            target: 14,
            order: 1
        },
        // Ring hydrogens
        {
            source: 1,
            target: 15,
            order: 1
        },
        {
            source: 3,
            target: 16,
            order: 1
        },
        {
            source: 4,
            target: 17,
            order: 1
        },
        {
            source: 5,
            target: 18,
            order: 1
        },
        // Methyl hydrogens
        {
            source: 14,
            target: 19,
            order: 1
        },
        {
            source: 14,
            target: 20,
            order: 1
        },
        {
            source: 14,
            target: 21,
            order: 1
        }
    ]
};
const BENZENE_TEMPLATE = {
    name: 'Benzene',
    description: 'C6H6 - The fundamental aromatic ring with delocalized electrons.',
    atoms: [
        {
            id: 1,
            element: 'C',
            position: [
                0,
                1.4,
                0
            ]
        },
        {
            id: 2,
            element: 'C',
            position: [
                1.2,
                0.7,
                0
            ]
        },
        {
            id: 3,
            element: 'C',
            position: [
                1.2,
                -0.7,
                0
            ]
        },
        {
            id: 4,
            element: 'C',
            position: [
                0,
                -1.4,
                0
            ]
        },
        {
            id: 5,
            element: 'C',
            position: [
                -1.2,
                -0.7,
                0
            ]
        },
        {
            id: 6,
            element: 'C',
            position: [
                -1.2,
                0.7,
                0
            ]
        },
        // All hydrogens
        {
            id: 7,
            element: 'H',
            position: [
                0,
                2.4,
                0
            ]
        },
        {
            id: 8,
            element: 'H',
            position: [
                2.1,
                1.2,
                0
            ]
        },
        {
            id: 9,
            element: 'H',
            position: [
                2.1,
                -1.2,
                0
            ]
        },
        {
            id: 10,
            element: 'H',
            position: [
                0,
                -2.4,
                0
            ]
        },
        {
            id: 11,
            element: 'H',
            position: [
                -2.1,
                -1.2,
                0
            ]
        },
        {
            id: 12,
            element: 'H',
            position: [
                -2.1,
                1.2,
                0
            ]
        }
    ],
    bonds: [
        // Alternating double bonds (resonance structure)
        {
            source: 1,
            target: 2,
            order: 2
        },
        {
            source: 2,
            target: 3,
            order: 1
        },
        {
            source: 3,
            target: 4,
            order: 2
        },
        {
            source: 4,
            target: 5,
            order: 1
        },
        {
            source: 5,
            target: 6,
            order: 2
        },
        {
            source: 6,
            target: 1,
            order: 1
        },
        // C-H bonds
        {
            source: 1,
            target: 7,
            order: 1
        },
        {
            source: 2,
            target: 8,
            order: 1
        },
        {
            source: 3,
            target: 9,
            order: 1
        },
        {
            source: 4,
            target: 10,
            order: 1
        },
        {
            source: 5,
            target: 11,
            order: 1
        },
        {
            source: 6,
            target: 12,
            order: 1
        }
    ]
};
const IBUPROFEN_TEMPLATE = {
    name: 'Ibuprofen',
    description: 'C13H18O2 - Propionic acid derivative NSAID.',
    atoms: [
        // Benzene ring
        {
            id: 1,
            element: 'C',
            position: [
                0,
                0,
                0
            ]
        },
        {
            id: 2,
            element: 'C',
            position: [
                1.4,
                0,
                0
            ]
        },
        {
            id: 3,
            element: 'C',
            position: [
                2.1,
                1.2,
                0
            ]
        },
        {
            id: 4,
            element: 'C',
            position: [
                1.4,
                2.4,
                0
            ]
        },
        {
            id: 5,
            element: 'C',
            position: [
                0,
                2.4,
                0
            ]
        },
        {
            id: 6,
            element: 'C',
            position: [
                -0.7,
                1.2,
                0
            ]
        },
        // Propionic acid chain
        {
            id: 7,
            element: 'C',
            position: [
                3.5,
                1.2,
                0
            ]
        },
        {
            id: 8,
            element: 'C',
            position: [
                4.2,
                0.2,
                0
            ]
        },
        {
            id: 9,
            element: 'C',
            position: [
                4.2,
                2.4,
                0
            ]
        },
        {
            id: 10,
            element: 'O',
            position: [
                5.4,
                2.2,
                0
            ]
        },
        {
            id: 11,
            element: 'O',
            position: [
                3.8,
                3.6,
                0
            ]
        },
        {
            id: 12,
            element: 'H',
            position: [
                4.5,
                4.0,
                0
            ]
        },
        // Isobutyl group
        {
            id: 13,
            element: 'C',
            position: [
                -2.1,
                1.2,
                0
            ]
        },
        {
            id: 14,
            element: 'C',
            position: [
                -3.0,
                0.0,
                0
            ]
        },
        {
            id: 15,
            element: 'C',
            position: [
                -4.4,
                0.2,
                0
            ]
        },
        {
            id: 16,
            element: 'C',
            position: [
                -2.6,
                -1.4,
                0
            ]
        },
        // Key hydrogens
        {
            id: 17,
            element: 'H',
            position: [
                0,
                -0.9,
                0
            ]
        },
        {
            id: 18,
            element: 'H',
            position: [
                2.0,
                -0.9,
                0
            ]
        },
        {
            id: 19,
            element: 'H',
            position: [
                2.0,
                3.3,
                0
            ]
        },
        {
            id: 20,
            element: 'H',
            position: [
                -0.6,
                3.3,
                0
            ]
        }
    ],
    bonds: [
        // Benzene ring
        {
            source: 1,
            target: 2,
            order: 2
        },
        {
            source: 2,
            target: 3,
            order: 1
        },
        {
            source: 3,
            target: 4,
            order: 2
        },
        {
            source: 4,
            target: 5,
            order: 1
        },
        {
            source: 5,
            target: 6,
            order: 2
        },
        {
            source: 6,
            target: 1,
            order: 1
        },
        // Propionic acid
        {
            source: 3,
            target: 7,
            order: 1
        },
        {
            source: 7,
            target: 8,
            order: 1
        },
        {
            source: 7,
            target: 9,
            order: 1
        },
        {
            source: 9,
            target: 10,
            order: 2
        },
        {
            source: 9,
            target: 11,
            order: 1
        },
        {
            source: 11,
            target: 12,
            order: 1
        },
        // Isobutyl
        {
            source: 6,
            target: 13,
            order: 1
        },
        {
            source: 13,
            target: 14,
            order: 1
        },
        {
            source: 14,
            target: 15,
            order: 1
        },
        {
            source: 14,
            target: 16,
            order: 1
        },
        // Ring H
        {
            source: 1,
            target: 17,
            order: 1
        },
        {
            source: 2,
            target: 18,
            order: 1
        },
        {
            source: 4,
            target: 19,
            order: 1
        },
        {
            source: 5,
            target: 20,
            order: 1
        }
    ]
};
const PENICILLIN_TEMPLATE = {
    name: 'Penicillin G Core',
    description: 'Beta-lactam + Thiazolidine ring system.',
    atoms: [
        // Beta-lactam ring (4-membered)
        {
            id: 1,
            element: 'C',
            position: [
                0,
                0,
                0
            ]
        },
        {
            id: 2,
            element: 'N',
            position: [
                1.2,
                0.5,
                0
            ]
        },
        {
            id: 3,
            element: 'C',
            position: [
                1.2,
                1.8,
                0
            ]
        },
        {
            id: 4,
            element: 'C',
            position: [
                0,
                1.3,
                0
            ]
        },
        {
            id: 5,
            element: 'O',
            position: [
                2.2,
                2.5,
                0
            ]
        },
        // Thiazolidine ring (5-membered)
        {
            id: 6,
            element: 'S',
            position: [
                -1.2,
                0.5,
                0
            ]
        },
        {
            id: 7,
            element: 'C',
            position: [
                -1.2,
                2.0,
                0
            ]
        },
        {
            id: 8,
            element: 'C',
            position: [
                -2.4,
                2.8,
                0
            ]
        },
        {
            id: 9,
            element: 'O',
            position: [
                -3.4,
                2.2,
                0
            ]
        },
        {
            id: 10,
            element: 'O',
            position: [
                -2.4,
                4.0,
                0
            ]
        },
        {
            id: 11,
            element: 'H',
            position: [
                -3.2,
                4.4,
                0
            ]
        },
        // Methyl groups on thiazolidine
        {
            id: 12,
            element: 'C',
            position: [
                -2.0,
                3.0,
                1.0
            ]
        },
        {
            id: 13,
            element: 'C',
            position: [
                -2.0,
                3.0,
                -1.0
            ]
        },
        // Amide side chain
        {
            id: 14,
            element: 'C',
            position: [
                2.4,
                -0.2,
                0
            ]
        },
        {
            id: 15,
            element: 'O',
            position: [
                2.8,
                -1.3,
                0
            ]
        },
        {
            id: 16,
            element: 'H',
            position: [
                2.8,
                0.6,
                0
            ]
        }
    ],
    bonds: [
        // Beta-lactam ring
        {
            source: 1,
            target: 2,
            order: 1
        },
        {
            source: 2,
            target: 3,
            order: 1
        },
        {
            source: 3,
            target: 4,
            order: 1
        },
        {
            source: 4,
            target: 1,
            order: 1
        },
        {
            source: 3,
            target: 5,
            order: 2
        },
        // Thiazolidine
        {
            source: 4,
            target: 6,
            order: 1
        },
        {
            source: 6,
            target: 7,
            order: 1
        },
        {
            source: 7,
            target: 4,
            order: 1
        },
        {
            source: 7,
            target: 8,
            order: 1
        },
        {
            source: 8,
            target: 9,
            order: 2
        },
        {
            source: 8,
            target: 10,
            order: 1
        },
        {
            source: 10,
            target: 11,
            order: 1
        },
        // Methyl
        {
            source: 7,
            target: 12,
            order: 1
        },
        {
            source: 7,
            target: 13,
            order: 1
        },
        // Side chain
        {
            source: 2,
            target: 14,
            order: 1
        },
        {
            source: 14,
            target: 15,
            order: 2
        },
        {
            source: 14,
            target: 16,
            order: 1
        }
    ]
};
const MORPHINE_TEMPLATE = {
    name: 'Morphine Core',
    description: 'C17H19NO3 - Phenanthrene backbone with key functional groups.',
    atoms: [
        // Ring A (aromatic)
        {
            id: 1,
            element: 'C',
            position: [
                0,
                0,
                0
            ]
        },
        {
            id: 2,
            element: 'C',
            position: [
                1.4,
                0,
                0
            ]
        },
        {
            id: 3,
            element: 'C',
            position: [
                2.1,
                1.2,
                0
            ]
        },
        {
            id: 4,
            element: 'C',
            position: [
                1.4,
                2.4,
                0
            ]
        },
        {
            id: 5,
            element: 'C',
            position: [
                0,
                2.4,
                0
            ]
        },
        {
            id: 6,
            element: 'C',
            position: [
                -0.7,
                1.2,
                0
            ]
        },
        // Phenolic OH
        {
            id: 7,
            element: 'O',
            position: [
                -2.0,
                1.2,
                0
            ]
        },
        {
            id: 8,
            element: 'H',
            position: [
                -2.5,
                0.5,
                0
            ]
        },
        // Ether oxygen bridge
        {
            id: 9,
            element: 'O',
            position: [
                3.4,
                1.2,
                0
            ]
        },
        // Ring B carbon
        {
            id: 10,
            element: 'C',
            position: [
                3.8,
                2.4,
                0
            ]
        },
        // Tertiary amine nitrogen
        {
            id: 11,
            element: 'N',
            position: [
                0,
                3.8,
                1.0
            ]
        },
        {
            id: 12,
            element: 'C',
            position: [
                -1.2,
                4.4,
                1.2
            ]
        },
        // Allylic OH
        {
            id: 13,
            element: 'C',
            position: [
                2.8,
                3.4,
                0.5
            ]
        },
        {
            id: 14,
            element: 'O',
            position: [
                3.2,
                4.6,
                0.8
            ]
        },
        {
            id: 15,
            element: 'H',
            position: [
                4.0,
                4.8,
                0.5
            ]
        }
    ],
    bonds: [
        // Aromatic ring
        {
            source: 1,
            target: 2,
            order: 2
        },
        {
            source: 2,
            target: 3,
            order: 1
        },
        {
            source: 3,
            target: 4,
            order: 2
        },
        {
            source: 4,
            target: 5,
            order: 1
        },
        {
            source: 5,
            target: 6,
            order: 2
        },
        {
            source: 6,
            target: 1,
            order: 1
        },
        // Phenol
        {
            source: 6,
            target: 7,
            order: 1
        },
        {
            source: 7,
            target: 8,
            order: 1
        },
        // Ether bridge
        {
            source: 3,
            target: 9,
            order: 1
        },
        {
            source: 9,
            target: 10,
            order: 1
        },
        // Tertiary amine
        {
            source: 5,
            target: 11,
            order: 1
        },
        {
            source: 11,
            target: 12,
            order: 1
        },
        // Alcohol
        {
            source: 4,
            target: 13,
            order: 1
        },
        {
            source: 13,
            target: 14,
            order: 1
        },
        {
            source: 14,
            target: 15,
            order: 1
        }
    ]
};
const LIPOSOME_TEMPLATE = {
    name: 'Phospholipid',
    description: 'Phosphatidylcholine - key component of liposomal delivery.',
    atoms: [
        // Phosphate head
        {
            id: 1,
            element: 'P',
            position: [
                0,
                3,
                0
            ]
        },
        {
            id: 2,
            element: 'O',
            position: [
                0.8,
                3.8,
                0
            ]
        },
        {
            id: 3,
            element: 'O',
            position: [
                -0.8,
                3.8,
                0
            ]
        },
        {
            id: 4,
            element: 'O',
            position: [
                0,
                2,
                0
            ]
        },
        // Glycerol backbone
        {
            id: 5,
            element: 'C',
            position: [
                0,
                1,
                0
            ]
        },
        {
            id: 6,
            element: 'C',
            position: [
                1.2,
                0.5,
                0
            ]
        },
        {
            id: 7,
            element: 'C',
            position: [
                -1.2,
                0.5,
                0
            ]
        },
        // Fatty acid tails
        {
            id: 8,
            element: 'O',
            position: [
                2.0,
                1.2,
                0
            ]
        },
        {
            id: 9,
            element: 'C',
            position: [
                3.0,
                0.8,
                0
            ]
        },
        {
            id: 10,
            element: 'O',
            position: [
                3.5,
                1.6,
                0
            ]
        },
        {
            id: 11,
            element: 'C',
            position: [
                3.5,
                -0.4,
                0
            ]
        },
        {
            id: 12,
            element: 'C',
            position: [
                4.0,
                -1.6,
                0
            ]
        },
        {
            id: 13,
            element: 'C',
            position: [
                4.5,
                -2.8,
                0
            ]
        },
        // Second tail
        {
            id: 14,
            element: 'O',
            position: [
                -2.0,
                1.2,
                0
            ]
        },
        {
            id: 15,
            element: 'C',
            position: [
                -3.0,
                0.8,
                0
            ]
        },
        {
            id: 16,
            element: 'O',
            position: [
                -3.5,
                1.6,
                0
            ]
        },
        {
            id: 17,
            element: 'C',
            position: [
                -3.5,
                -0.4,
                0
            ]
        },
        {
            id: 18,
            element: 'C',
            position: [
                -4.0,
                -1.6,
                0
            ]
        },
        {
            id: 19,
            element: 'C',
            position: [
                -4.5,
                -2.8,
                0
            ]
        },
        // Choline head
        {
            id: 20,
            element: 'N',
            position: [
                0,
                5,
                0
            ]
        }
    ],
    bonds: [
        // Phosphate
        {
            source: 1,
            target: 2,
            order: 2
        },
        {
            source: 1,
            target: 3,
            order: 1
        },
        {
            source: 1,
            target: 4,
            order: 1
        },
        {
            source: 4,
            target: 5,
            order: 1
        },
        // Glycerol
        {
            source: 5,
            target: 6,
            order: 1
        },
        {
            source: 5,
            target: 7,
            order: 1
        },
        // Tail 1
        {
            source: 6,
            target: 8,
            order: 1
        },
        {
            source: 8,
            target: 9,
            order: 1
        },
        {
            source: 9,
            target: 10,
            order: 2
        },
        {
            source: 9,
            target: 11,
            order: 1
        },
        {
            source: 11,
            target: 12,
            order: 1
        },
        {
            source: 12,
            target: 13,
            order: 1
        },
        // Tail 2
        {
            source: 7,
            target: 14,
            order: 1
        },
        {
            source: 14,
            target: 15,
            order: 1
        },
        {
            source: 15,
            target: 16,
            order: 2
        },
        {
            source: 15,
            target: 17,
            order: 1
        },
        {
            source: 17,
            target: 18,
            order: 1
        },
        {
            source: 18,
            target: 19,
            order: 1
        },
        // Choline
        {
            source: 3,
            target: 20,
            order: 1
        }
    ]
};
const CANDIDATE_X_TEMPLATE = {
    name: 'Candidate-X',
    description: 'Novel Fluorinated Oncology Drug for Clinical Trial.',
    atoms: [
        // Core structure
        {
            id: 1,
            element: 'C',
            position: [
                0,
                0,
                0
            ]
        },
        {
            id: 2,
            element: 'C',
            position: [
                1.4,
                0,
                0
            ]
        },
        {
            id: 3,
            element: 'N',
            position: [
                2.1,
                1.0,
                0
            ]
        },
        {
            id: 4,
            element: 'C',
            position: [
                3.4,
                1.2,
                0
            ]
        },
        {
            id: 5,
            element: 'O',
            position: [
                4.0,
                2.2,
                0
            ]
        },
        // Fluorine substituents (for enhanced activity)
        {
            id: 6,
            element: 'F',
            position: [
                -1.0,
                0.8,
                0
            ]
        },
        {
            id: 7,
            element: 'F',
            position: [
                -1.0,
                -0.8,
                0
            ]
        },
        // Additional ring
        {
            id: 8,
            element: 'C',
            position: [
                4.0,
                0,
                0
            ]
        },
        {
            id: 9,
            element: 'C',
            position: [
                5.2,
                0.5,
                0
            ]
        },
        {
            id: 10,
            element: 'N',
            position: [
                5.8,
                -0.5,
                0
            ]
        },
        // Hydrogens
        {
            id: 11,
            element: 'H',
            position: [
                0,
                -0.9,
                0
            ]
        },
        {
            id: 12,
            element: 'H',
            position: [
                1.8,
                -0.9,
                0
            ]
        },
        {
            id: 13,
            element: 'H',
            position: [
                1.8,
                1.8,
                0
            ]
        },
        {
            id: 14,
            element: 'H',
            position: [
                3.8,
                -0.9,
                0
            ]
        },
        {
            id: 15,
            element: 'H',
            position: [
                6.8,
                -0.5,
                0
            ]
        }
    ],
    bonds: [
        // Core
        {
            source: 1,
            target: 2,
            order: 2
        },
        {
            source: 2,
            target: 3,
            order: 1
        },
        {
            source: 3,
            target: 4,
            order: 1
        },
        {
            source: 4,
            target: 5,
            order: 2
        },
        // Fluorines
        {
            source: 1,
            target: 6,
            order: 1
        },
        {
            source: 1,
            target: 7,
            order: 1
        },
        // Ring extension
        {
            source: 4,
            target: 8,
            order: 1
        },
        {
            source: 8,
            target: 9,
            order: 2
        },
        {
            source: 9,
            target: 10,
            order: 1
        },
        // Hydrogens
        {
            source: 2,
            target: 11,
            order: 1
        },
        {
            source: 2,
            target: 12,
            order: 1
        },
        {
            source: 3,
            target: 13,
            order: 1
        },
        {
            source: 8,
            target: 14,
            order: 1
        },
        {
            source: 10,
            target: 15,
            order: 1
        }
    ]
};
const SYLLABUS_DATA = [
    {
        level: 1,
        semester: 'Sem 1',
        title: 'Pharm. Analysis',
        description: 'Synthesize Paracetamol and verify its structural purity.',
        moleculeTemplate: PARACETAMOL_TEMPLATE,
        quizTopic: 'chemistry',
        learningObjective: 'Understand basic aromatic substitution and purity analysis.'
    },
    {
        level: 2,
        semester: 'Sem 2',
        title: 'Organic Chemistry I',
        description: 'Synthesize Aspirin and modify the ester group for stability.',
        moleculeTemplate: ASPIRIN_TEMPLATE,
        quizTopic: 'chemistry',
        learningObjective: 'Master esterification reactions.'
    },
    {
        level: 3,
        semester: 'Sem 3',
        title: 'Organic Chemistry II',
        description: 'Analyze Benzene stability and aromatic resonance.',
        moleculeTemplate: BENZENE_TEMPLATE,
        quizTopic: 'chemistry',
        learningObjective: 'Understand aromaticity and resonance energy.'
    },
    {
        level: 4,
        semester: 'Sem 4',
        title: 'Med. Chem I',
        description: 'Optimize Ibuprofen side-chains for better receptor binding.',
        moleculeTemplate: IBUPROFEN_TEMPLATE,
        quizTopic: 'pharmacology',
        learningObjective: 'Chirality and Structure-Activity Relationship (SAR).'
    },
    {
        level: 5,
        semester: 'Sem 5',
        title: 'Pharmacology',
        description: 'Propose Penicillin modifications to fight bacterial resistance.',
        moleculeTemplate: PENICILLIN_TEMPLATE,
        quizTopic: 'pharmacology',
        learningObjective: 'Antibiotic mechanisms and resistance.'
    },
    {
        level: 6,
        semester: 'Sem 6',
        title: 'Herbal Tech',
        description: 'Perform extraction analysis on Morphine alkaloids.',
        moleculeTemplate: MORPHINE_TEMPLATE,
        quizTopic: 'kinetics',
        learningObjective: 'Extraction techniques and alkaloid chemistry.'
    },
    {
        level: 7,
        semester: 'Sem 7',
        title: 'NDDS',
        description: 'Design a Liposomal delivery system for targeted therapy.',
        moleculeTemplate: LIPOSOME_TEMPLATE,
        quizTopic: 'kinetics',
        learningObjective: 'Novel Drug Delivery Systems.'
    },
    {
        level: 8,
        semester: 'Sem 8',
        title: 'Clinical Research',
        description: 'Guide Candidate-X through a complete Phase I-III Clinical Trial.',
        moleculeTemplate: CANDIDATE_X_TEMPLATE,
        quizTopic: 'regulatory',
        learningObjective: 'Complete IND/NDA process.'
    }
];
}),
"[project]/src/lib/aiService.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * AI Service - Client-side facade for AI API operations
 * 
 * This service handles:
 * 1. API calls to the AI routes with proper typing
 * 2. Error handling with fallback responses
 * 3. Rate limit and quota handling with graceful degradation
 */ __turbopack_context__.s([
    "AiService",
    ()=>AiService
]);
// ============================================================================
// HTTP Client Utilities
// ============================================================================
/**
 * Type-safe POST request with error handling
 */ async function postJSON(url, body) {
    const res = await fetch(url, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(body)
    });
    const text = await res.text();
    let parsed = null;
    try {
        parsed = text ? JSON.parse(text) : null;
    } catch  {
        parsed = null;
    }
    if (!res.ok) {
        const message = parsed?.message || parsed?.error || text || res.statusText;
        const err = new Error(message);
        err.status = res.status;
        err.errorType = parsed?.errorType;
        throw err;
    }
    return parsed ?? {};
}
/**
 * Check if error is rate limit or quota related
 */ function isRateLimitError(errorMessage, errorStatus) {
    return errorStatus === 429 || errorMessage.includes('429') || errorMessage.includes('quota') || errorMessage.includes('RESOURCE_EXHAUSTED') || errorMessage.includes('rate limit') || errorMessage.includes('Rate Limit') || errorStatus === 404 || errorMessage.includes('404') || errorMessage.includes('not found');
}
/**
 * Extract error info from unknown error
 */ function parseError(error) {
    const err = error;
    return {
        message: err?.message || String(error) || 'Unknown error',
        status: err?.status || err?.response?.status
    };
}
const AiService = {
    /**
     * Analyze a molecule modification
     * Returns AI analysis with efficacy/safety scores, or fallback data on failure
     */ async analyzeMolecule (moleculeName, atomCount, userModifications) {
        try {
            const response = await postJSON('/api/ai/analyze-molecule', {
                moleculeName,
                atomCount,
                userModifications
            });
            // Extract just the result fields
            return {
                analysis: response.analysis,
                efficacy: response.efficacy,
                safety: response.safety,
                feedback: response.feedback
            };
        } catch (error) {
            const { message, status } = parseError(error);
            // API key missing - clear message to user
            if (status === 503) {
                return {
                    analysis: "AI Service Unavailable (Missing Key)",
                    safety: 50,
                    efficacy: 50,
                    feedback: "Please configure your API key in .env.local"
                };
            }
            // Rate limit - return simulated data
            if (isRateLimitError(message, status)) {
                console.warn("AI Service: Rate limit reached. Using simulated analysis.");
                return {
                    analysis: `[Simulated] Your ${moleculeName} modification shows promise. The ${atomCount} atom structure maintains core stability.`,
                    efficacy: 65 + Math.floor(Math.random() * 20),
                    safety: 70 + Math.floor(Math.random() * 15),
                    feedback: "API quota exceeded - using simulated analysis."
                };
            }
            // Connection error
            console.warn("AI Service Error:", message);
            return {
                analysis: "Analysis failed due to connection error.",
                efficacy: 40,
                safety: 40,
                feedback: "Could not connect to AI lab expert. Please check your connection."
            };
        }
    },
    /**
     * Generate a quiz question
     * Returns null on failure (allows fallback to local question bank)
     */ async generateQuestion (topic, level) {
        try {
            const response = await postJSON('/api/ai/generate-question', {
                topic,
                level
            });
            return response.question;
        } catch (error) {
            const { message, status } = parseError(error);
            if (isRateLimitError(message, status)) {
                console.warn("AI Service: Rate limit - using local question bank.");
            } else {
                console.error("AI Question Gen Failed:", message);
            }
            return null; // Fallback to local questions
        }
    },
    /**
     * Generate clinical trial roadmap
     * Returns AI-generated phases or fallback data on failure
     */ async generateTrialRoadmap (moleculeName, efficacy, safety) {
        try {
            const response = await postJSON('/api/ai/trial-roadmap', {
                moleculeName,
                efficacy,
                safety
            });
            return {
                summary: response.summary,
                phases: response.phases,
                successProbability: response.successProbability
            };
        } catch (error) {
            const { message, status } = parseError(error);
            if (isRateLimitError(message, status)) {
                console.warn("AI Service: Rate limit - using fallback roadmap.");
            } else {
                console.warn("AI Roadmap Generation Failed:", message);
            }
            return this.getFallbackRoadmap(moleculeName, efficacy, safety);
        }
    },
    /**
     * Fallback roadmap when AI is unavailable
     */ getFallbackRoadmap (moleculeName, efficacy, safety) {
        const successProb = Math.round((efficacy * 0.6 + safety * 0.4) * 0.8);
        return {
            summary: `${moleculeName} is a promising drug candidate currently under development. Based on preliminary analysis, it shows potential for therapeutic application.`,
            phases: [
                {
                    name: "Preclinical",
                    duration: "6-12 months",
                    description: "Laboratory and animal testing to evaluate basic safety and biological activity. This phase determines if the compound is safe enough for human trials.",
                    keyActivities: [
                        "In vitro cell studies",
                        "Animal toxicology tests",
                        "Pharmacokinetic analysis"
                    ],
                    risks: safety < 60 ? "Safety concerns may require additional testing" : "Standard preclinical risks apply"
                },
                {
                    name: "Phase I Clinical Trial",
                    duration: "1-2 years",
                    description: "First-in-human studies with 20-100 healthy volunteers. Focus is on safety, dosage, and side effects.",
                    keyActivities: [
                        "Healthy volunteer recruitment",
                        "Dose escalation studies",
                        "Safety monitoring"
                    ],
                    risks: "Unexpected adverse reactions in humans"
                },
                {
                    name: "Phase II Clinical Trial",
                    duration: "2-3 years",
                    description: "Testing in 100-500 patients with the target condition. Evaluates efficacy and optimal dosing.",
                    keyActivities: [
                        "Patient recruitment",
                        "Efficacy measurements",
                        "Side effect profiling"
                    ],
                    risks: efficacy < 70 ? "Efficacy may not meet primary endpoints" : "Competition from similar drugs in development"
                },
                {
                    name: "Phase III & FDA Review",
                    duration: "3-5 years",
                    description: "Large-scale trials with 1000-5000+ patients. Confirms effectiveness and monitors long-term safety before FDA submission.",
                    keyActivities: [
                        "Multi-center trials",
                        "NDA preparation",
                        "FDA review process"
                    ],
                    risks: "Regulatory delays or additional data requirements"
                }
            ],
            successProbability: successProb
        };
    },
    /**
     * Generate a placeholder image URL for a molecule
     */ generateMoleculeImageUrl (moleculeName, color = '#3b82f6') {
        const encodedName = encodeURIComponent(moleculeName.slice(0, 20));
        const bgColor = color.replace('#', '');
        return `https://via.placeholder.com/400x300/${bgColor}/ffffff?text=${encodedName}`;
    },
    /**
     * Generate a dynamic trial event for the simulation
     * Returns AI event or fallback data on failure
     */ async generateTrialEvent (moleculeName, phaseName, phaseDescription, currentStats, previousEvents) {
        try {
            const response = await postJSON('/api/ai/trial-event', {
                moleculeName,
                phaseName,
                phaseDescription,
                currentStats,
                previousEvents
            });
            return {
                title: response.title,
                description: response.description,
                choices: response.choices,
                isPhaseComplete: response.isPhaseComplete
            };
        } catch (error) {
            const { message, status } = parseError(error);
            if (isRateLimitError(message, status)) {
                console.warn("AI Service: Rate limit - using fallback event.");
            } else {
                console.warn("AI Trial Event Failed:", message);
            }
            return this.getFallbackTrialEvent(phaseName, currentStats);
        }
    },
    /**
     * Fallback trial event when AI is unavailable
     */ getFallbackTrialEvent (phaseName, currentStats) {
        const events = {
            'Preclinical': {
                title: 'Animal Study Results',
                description: 'Initial animal studies are showing promising results, but there are some concerning liver enzyme readings in a subset of test subjects.',
                choices: [
                    {
                        text: 'Conduct additional testing',
                        budgetEffect: -1500000,
                        efficacyEffect: 5,
                        safetyEffect: 10,
                        outcomeText: 'Extended testing revealed the issue was dose-related. Protocol adjusted successfully.'
                    },
                    {
                        text: 'Proceed with current protocol',
                        budgetEffect: 0,
                        efficacyEffect: 0,
                        safetyEffect: -10,
                        outcomeText: 'Trial continues with documented risks. Safety team is monitoring closely.'
                    }
                ],
                isPhaseComplete: currentStats.efficacy >= 40 && currentStats.safety >= 60
            },
            'Phase I Clinical Trial': {
                title: 'Volunteer Recruitment Challenge',
                description: 'Healthy volunteer enrollment is slower than expected. The trial timeline may be affected.',
                choices: [
                    {
                        text: 'Increase incentives ($2M)',
                        budgetEffect: -2000000,
                        efficacyEffect: 0,
                        safetyEffect: 5,
                        outcomeText: 'Enrollment targets met ahead of schedule with high-quality participants.'
                    },
                    {
                        text: 'Expand recruitment sites',
                        budgetEffect: -800000,
                        efficacyEffect: -5,
                        safetyEffect: 0,
                        outcomeText: 'More sites added but data consistency slightly reduced.'
                    }
                ],
                isPhaseComplete: currentStats.efficacy >= 50 && currentStats.safety >= 65
            },
            'Phase II Clinical Trial': {
                title: 'Efficacy Data Review',
                description: 'Mid-trial analysis shows the drug is effective in most patients, but a specific demographic shows reduced response.',
                choices: [
                    {
                        text: 'Focus on responsive group',
                        budgetEffect: -500000,
                        efficacyEffect: 15,
                        safetyEffect: 5,
                        outcomeText: 'Refined targeting significantly improved overall efficacy metrics.'
                    },
                    {
                        text: 'Broaden study population',
                        budgetEffect: -3000000,
                        efficacyEffect: -5,
                        safetyEffect: 0,
                        outcomeText: 'Inclusive approach yielded average results but broader applicability data.'
                    }
                ],
                isPhaseComplete: currentStats.efficacy >= 70 && currentStats.safety >= 75
            },
            'Phase III & FDA Review': {
                title: 'FDA Pre-Submission Meeting',
                description: 'The FDA has reviewed your pre-submission package and has questions about long-term safety data.',
                choices: [
                    {
                        text: 'Conduct extended follow-up',
                        budgetEffect: -4000000,
                        efficacyEffect: 5,
                        safetyEffect: 15,
                        outcomeText: 'Extended data collection satisfied FDA concerns. Approval pathway cleared.'
                    },
                    {
                        text: 'Submit current data with justification',
                        budgetEffect: -500000,
                        efficacyEffect: 0,
                        safetyEffect: -5,
                        outcomeText: 'FDA accepted with conditions. Post-market surveillance required.'
                    }
                ],
                isPhaseComplete: currentStats.efficacy >= 80 && currentStats.safety >= 80
            }
        };
        return events[phaseName] || events['Preclinical'];
    }
};
}),
"[project]/src/lib/validation.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "calculateMolecularWeight",
    ()=>calculateMolecularWeight,
    "getFormula",
    ()=>getFormula,
    "validateMolecule",
    ()=>validateMolecule
]);
/**
 * Enhanced Molecular Validation System
 * Provides comprehensive chemistry validation for PharmaSim
 * 
 * Features:
 * - Valence validation with detailed error messages
 * - Graph connectivity analysis
 * - Ring detection (aromatic and aliphatic)
 * - Functional group identification
 * - Expanded molecule recognition database
 * - Molecular weight calculation
 * - Drug-likeness scoring
 * - Educational warnings and hints
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$chemistry$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/chemistry.ts [app-ssr] (ecmascript)");
;
const MOLECULE_DATABASE = [
    // Simple molecules
    {
        formula: 'H2',
        name: 'Hydrogen Gas',
        score: 10,
        category: 'simple'
    },
    {
        formula: 'O2',
        name: 'Oxygen Gas',
        score: 10,
        category: 'simple'
    },
    {
        formula: 'N2',
        name: 'Nitrogen Gas',
        score: 10,
        category: 'simple'
    },
    {
        formula: 'H2O',
        name: 'Water',
        score: 30,
        category: 'simple',
        description: 'Universal solvent'
    },
    {
        formula: 'CO2',
        name: 'Carbon Dioxide',
        score: 40,
        category: 'simple'
    },
    {
        formula: 'NH3',
        name: 'Ammonia',
        score: 35,
        category: 'simple'
    },
    {
        formula: 'HCl',
        name: 'Hydrochloric Acid',
        score: 25,
        category: 'simple'
    },
    {
        formula: 'HF',
        name: 'Hydrofluoric Acid',
        score: 25,
        category: 'simple'
    },
    {
        formula: 'H2S',
        name: 'Hydrogen Sulfide',
        score: 30,
        category: 'simple'
    },
    // Basic organic
    {
        formula: 'CH4',
        name: 'Methane',
        score: 50,
        category: 'organic',
        description: 'Simplest alkane'
    },
    {
        formula: 'C2H6',
        name: 'Ethane',
        score: 60,
        category: 'organic'
    },
    {
        formula: 'C3H8',
        name: 'Propane',
        score: 70,
        category: 'organic'
    },
    {
        formula: 'C4H10',
        name: 'Butane',
        score: 80,
        category: 'organic'
    },
    {
        formula: 'C2H4',
        name: 'Ethylene',
        score: 65,
        category: 'organic',
        description: 'Simplest alkene'
    },
    {
        formula: 'C2H2',
        name: 'Acetylene',
        score: 70,
        category: 'organic',
        description: 'Simplest alkyne'
    },
    {
        formula: 'C6H6',
        name: 'Benzene',
        score: 150,
        category: 'organic',
        description: 'Aromatic ring'
    },
    // Alcohols
    {
        formula: 'CH4O',
        name: 'Methanol',
        score: 80,
        category: 'organic'
    },
    {
        formula: 'C2H6O',
        name: 'Ethanol',
        score: 100,
        category: 'organic',
        description: 'Drinking alcohol'
    },
    {
        formula: 'C3H8O',
        name: 'Propanol',
        score: 110,
        category: 'organic'
    },
    {
        formula: 'C3H8O3',
        name: 'Glycerol',
        score: 140,
        category: 'organic'
    },
    // Aldehydes & Ketones
    {
        formula: 'CH2O',
        name: 'Formaldehyde',
        score: 70,
        category: 'organic'
    },
    {
        formula: 'C2H4O',
        name: 'Acetaldehyde',
        score: 85,
        category: 'organic'
    },
    {
        formula: 'C3H6O',
        name: 'Acetone',
        score: 95,
        category: 'organic'
    },
    // Carboxylic Acids
    {
        formula: 'CH2O2',
        name: 'Formic Acid',
        score: 75,
        category: 'organic'
    },
    {
        formula: 'C2H4O2',
        name: 'Acetic Acid',
        score: 90,
        category: 'organic',
        description: 'Vinegar'
    },
    {
        formula: 'C3H6O2',
        name: 'Propionic Acid',
        score: 100,
        category: 'organic'
    },
    // Amines
    {
        formula: 'CH5N',
        name: 'Methylamine',
        score: 70,
        category: 'organic'
    },
    {
        formula: 'C2H7N',
        name: 'Ethylamine',
        score: 80,
        category: 'organic'
    },
    {
        formula: 'C6H7N',
        name: 'Aniline',
        score: 130,
        category: 'organic'
    },
    // Pharmaceuticals
    {
        formula: 'C8H9NO2',
        name: 'Paracetamol',
        score: 300,
        category: 'drug',
        description: 'Acetaminophen - analgesic'
    },
    {
        formula: 'C9H8O4',
        name: 'Aspirin',
        score: 350,
        category: 'drug',
        description: 'Acetylsalicylic acid - NSAID'
    },
    {
        formula: 'C13H18O2',
        name: 'Ibuprofen',
        score: 400,
        category: 'drug',
        description: 'NSAID anti-inflammatory'
    },
    {
        formula: 'C8H10N4O2',
        name: 'Caffeine',
        score: 450,
        category: 'drug',
        description: 'Stimulant'
    },
    {
        formula: 'C17H19NO3',
        name: 'Morphine',
        score: 500,
        category: 'drug',
        description: 'Opioid analgesic'
    },
    {
        formula: 'C16H18N2O4S',
        name: 'Penicillin G',
        score: 550,
        category: 'drug',
        description: 'Beta-lactam antibiotic'
    },
    {
        formula: 'C10H15N',
        name: 'Amphetamine',
        score: 380,
        category: 'drug'
    },
    {
        formula: 'C20H25N3O',
        name: 'LSD',
        score: 600,
        category: 'drug'
    },
    {
        formula: 'C21H23NO5',
        name: 'Codeine',
        score: 480,
        category: 'drug'
    },
    {
        formula: 'C14H18N2O5',
        name: 'Aspartame',
        score: 350,
        category: 'organic'
    },
    // Biomolecules
    {
        formula: 'C6H12O6',
        name: 'Glucose',
        score: 250,
        category: 'biomolecule',
        description: 'Simple sugar'
    },
    {
        formula: 'C5H10O5',
        name: 'Ribose',
        score: 220,
        category: 'biomolecule'
    },
    {
        formula: 'C4H8N2O3',
        name: 'Asparagine',
        score: 280,
        category: 'biomolecule',
        description: 'Amino acid'
    },
    {
        formula: 'C5H9NO4',
        name: 'Glutamic Acid',
        score: 290,
        category: 'biomolecule',
        description: 'Amino acid'
    },
    {
        formula: 'C3H7NO2',
        name: 'Alanine',
        score: 200,
        category: 'biomolecule',
        description: 'Simple amino acid'
    },
    {
        formula: 'C2H5NO2',
        name: 'Glycine',
        score: 180,
        category: 'biomolecule',
        description: 'Simplest amino acid'
    },
    // Solvents & Industrial
    {
        formula: 'CHCl3',
        name: 'Chloroform',
        score: 120,
        category: 'organic'
    },
    {
        formula: 'CCl4',
        name: 'Carbon Tetrachloride',
        score: 110,
        category: 'organic'
    },
    {
        formula: 'C4H8O2',
        name: 'Ethyl Acetate',
        score: 130,
        category: 'organic',
        description: 'Common solvent'
    }
];
// ============================================================================
// Functional Group Definitions
// ============================================================================
const FUNCTIONAL_GROUPS = [
    {
        name: 'hydroxyl',
        displayName: 'Hydroxyl (-OH)',
        icon: 'ðŸ’§',
        drugRelevance: 'Increases water solubility',
        pattern: (atoms, bonds, graph)=>{
            let count = 0;
            atoms.forEach((atom)=>{
                if (atom.element === 'O') {
                    const neighbors = graph.get(atom.id) || [];
                    const bondInfo = getBondInfo(atom.id, bonds);
                    // Single-bonded oxygen with one H neighbor
                    if (bondInfo.totalOrder === 2) {
                        const hasH = neighbors.some((nId)=>atoms.find((a)=>a.id === nId)?.element === 'H');
                        const hasC = neighbors.some((nId)=>atoms.find((a)=>a.id === nId)?.element === 'C');
                        if (hasH && hasC) count++;
                    }
                }
            });
            return count;
        }
    },
    {
        name: 'carbonyl',
        displayName: 'Carbonyl (C=O)',
        icon: 'âš—ï¸',
        drugRelevance: 'Reactive center, H-bond acceptor',
        pattern: (atoms, bonds)=>{
            let count = 0;
            bonds.forEach((bond)=>{
                if (bond.order === 2) {
                    const source = atoms.find((a)=>a.id === bond.sourceId);
                    const target = atoms.find((a)=>a.id === bond.targetId);
                    if (source?.element === 'C' && target?.element === 'O' || source?.element === 'O' && target?.element === 'C') {
                        count++;
                    }
                }
            });
            return count;
        }
    },
    {
        name: 'carboxyl',
        displayName: 'Carboxyl (-COOH)',
        icon: 'ðŸ§ª',
        drugRelevance: 'Acidic, increases solubility',
        pattern: (atoms, bonds, graph)=>{
            let count = 0;
            // Find C atoms double-bonded to O and single-bonded to OH
            atoms.forEach((atom)=>{
                if (atom.element === 'C') {
                    const neighbors = graph.get(atom.id) || [];
                    const neighborAtoms = neighbors.map((nId)=>atoms.find((a)=>a.id === nId)).filter(Boolean);
                    const hasDoubleBondO = bonds.some((b)=>{
                        if (b.order !== 2) return false;
                        const otherId = b.sourceId === atom.id ? b.targetId : b.targetId === atom.id ? b.sourceId : null;
                        if (!otherId) return false;
                        return atoms.find((a)=>a.id === otherId)?.element === 'O';
                    });
                    const hasSingleBondOH = neighborAtoms.some((neighbor)=>{
                        if (neighbor?.element !== 'O') return false;
                        const oNeighbors = graph.get(neighbor.id) || [];
                        return oNeighbors.some((onId)=>atoms.find((a)=>a.id === onId)?.element === 'H');
                    });
                    if (hasDoubleBondO && hasSingleBondOH) count++;
                }
            });
            return count;
        }
    },
    {
        name: 'amine',
        displayName: 'Amine (-NHâ‚‚/-NHR)',
        icon: 'ðŸ”µ',
        drugRelevance: 'Basic, H-bond donor',
        pattern: (atoms, bonds, graph)=>{
            let count = 0;
            atoms.forEach((atom)=>{
                if (atom.element === 'N') {
                    const neighbors = graph.get(atom.id) || [];
                    const hasH = neighbors.some((nId)=>atoms.find((a)=>a.id === nId)?.element === 'H');
                    const bondInfo = getBondInfo(atom.id, bonds);
                    // Primary or secondary amine (not in amide)
                    if (hasH && bondInfo.totalOrder <= 3) {
                        const hasDoubleBondC = bonds.some((b)=>{
                            if (b.order !== 2) return false;
                            const otherId = b.sourceId === atom.id ? b.targetId : b.targetId === atom.id ? b.sourceId : null;
                            return otherId && atoms.find((a)=>a.id === otherId)?.element === 'C';
                        });
                        if (!hasDoubleBondC) count++;
                    }
                }
            });
            return count;
        }
    },
    {
        name: 'amide',
        displayName: 'Amide (-CONHâ‚‚)',
        icon: 'ðŸ”—',
        drugRelevance: 'Peptide bond mimic, stable',
        pattern: (atoms, bonds, graph)=>{
            let count = 0;
            atoms.forEach((atom)=>{
                if (atom.element === 'C') {
                    const neighbors = graph.get(atom.id) || [];
                    const hasDoubleBondO = bonds.some((b)=>{
                        if (b.order !== 2) return false;
                        const otherId = b.sourceId === atom.id ? b.targetId : b.targetId === atom.id ? b.sourceId : null;
                        return otherId && atoms.find((a)=>a.id === otherId)?.element === 'O';
                    });
                    const hasSingleBondN = neighbors.some((nId)=>{
                        const neighbor = atoms.find((a)=>a.id === nId);
                        if (neighbor?.element !== 'N') return false;
                        const bond = bonds.find((b)=>b.sourceId === atom.id && b.targetId === nId || b.targetId === atom.id && b.sourceId === nId);
                        return bond?.order === 1;
                    });
                    if (hasDoubleBondO && hasSingleBondN) count++;
                }
            });
            return count;
        }
    },
    {
        name: 'ether',
        displayName: 'Ether (C-O-C)',
        icon: 'â­•',
        drugRelevance: 'Increases lipophilicity',
        pattern: (atoms, bonds, graph)=>{
            let count = 0;
            atoms.forEach((atom)=>{
                if (atom.element === 'O') {
                    const neighbors = graph.get(atom.id) || [];
                    const bondInfo = getBondInfo(atom.id, bonds);
                    // O bonded to exactly 2 carbons with single bonds
                    if (bondInfo.totalOrder === 2 && neighbors.length === 2) {
                        const allCarbon = neighbors.every((nId)=>atoms.find((a)=>a.id === nId)?.element === 'C');
                        if (allCarbon) count++;
                    }
                }
            });
            return count;
        }
    },
    {
        name: 'ester',
        displayName: 'Ester (-COO-)',
        icon: 'ðŸ‹',
        drugRelevance: 'Prodrug linkage, good absorption',
        pattern: (atoms, bonds, graph)=>{
            let count = 0;
            atoms.forEach((atom)=>{
                if (atom.element === 'C') {
                    const neighbors = graph.get(atom.id) || [];
                    let hasDoubleBondO = false;
                    let hasSingleBondOC = false;
                    neighbors.forEach((nId)=>{
                        const neighbor = atoms.find((a)=>a.id === nId);
                        if (!neighbor) return;
                        const bond = bonds.find((b)=>b.sourceId === atom.id && b.targetId === nId || b.targetId === atom.id && b.sourceId === nId);
                        if (neighbor.element === 'O' && bond?.order === 2) {
                            hasDoubleBondO = true;
                        }
                        if (neighbor.element === 'O' && bond?.order === 1) {
                            // Check if this O is connected to C (not H)
                            const oNeighbors = graph.get(nId) || [];
                            const connectedToC = oNeighbors.some((onId)=>onId !== atom.id && atoms.find((a)=>a.id === onId)?.element === 'C');
                            if (connectedToC) hasSingleBondOC = true;
                        }
                    });
                    if (hasDoubleBondO && hasSingleBondOC) count++;
                }
            });
            return count;
        }
    },
    {
        name: 'halogen',
        displayName: 'Halogen (F/Cl/Br/I)',
        icon: 'ðŸŸ¢',
        drugRelevance: 'Metabolic stability, lipophilicity',
        pattern: (atoms)=>{
            return atoms.filter((a)=>[
                    'F',
                    'Cl',
                    'Br',
                    'I'
                ].includes(a.element)).length;
        }
    },
    {
        name: 'thiol',
        displayName: 'Thiol (-SH)',
        icon: 'ðŸŸ¡',
        drugRelevance: 'Reactive, covalent drug target',
        pattern: (atoms, bonds, graph)=>{
            let count = 0;
            atoms.forEach((atom)=>{
                if (atom.element === 'S') {
                    const neighbors = graph.get(atom.id) || [];
                    const hasH = neighbors.some((nId)=>atoms.find((a)=>a.id === nId)?.element === 'H');
                    if (hasH) count++;
                }
            });
            return count;
        }
    },
    {
        name: 'phosphate',
        displayName: 'Phosphate (-POâ‚„)',
        icon: 'ðŸŸ ',
        drugRelevance: 'Energy transfer, nucleotides',
        pattern: (atoms, bonds, graph)=>{
            let count = 0;
            atoms.forEach((atom)=>{
                if (atom.element === 'P') {
                    const neighbors = graph.get(atom.id) || [];
                    const oxygenCount = neighbors.filter((nId)=>atoms.find((a)=>a.id === nId)?.element === 'O').length;
                    if (oxygenCount >= 3) count++;
                }
            });
            return count;
        }
    }
];
// ============================================================================
// Helper Functions
// ============================================================================
function getBondInfo(atomId, bonds) {
    const atomBonds = bonds.filter((b)=>b.sourceId === atomId || b.targetId === atomId);
    return {
        count: atomBonds.length,
        totalOrder: atomBonds.reduce((acc, b)=>acc + b.order, 0)
    };
}
function buildAdjacencyGraph(atoms, bonds) {
    const graph = new Map();
    atoms.forEach((atom)=>graph.set(atom.id, []));
    bonds.forEach((bond)=>{
        graph.get(bond.sourceId)?.push(bond.targetId);
        graph.get(bond.targetId)?.push(bond.sourceId);
    });
    return graph;
}
function isConnected(atoms, graph) {
    if (atoms.length === 0) return true;
    if (atoms.length === 1) return true;
    const visited = new Set();
    const queue = [
        atoms[0].id
    ];
    while(queue.length > 0){
        const current = queue.shift();
        if (visited.has(current)) continue;
        visited.add(current);
        const neighbors = graph.get(current) || [];
        neighbors.forEach((n)=>{
            if (!visited.has(n)) queue.push(n);
        });
    }
    return visited.size === atoms.length;
}
function findRings(atoms, bonds, graph) {
    const rings = [];
    const visited = new Set();
    // Simple ring detection using DFS with parent tracking
    function dfs(nodeId, parentId, path) {
        if (path.length > 7) return; // Limit to reasonable ring sizes
        const neighbors = graph.get(nodeId) || [];
        for (const neighborId of neighbors){
            if (neighborId === parentId) continue;
            const pathIndex = path.indexOf(neighborId);
            if (pathIndex !== -1) {
                // Found a ring
                const ringAtoms = path.slice(pathIndex);
                const ringSize = ringAtoms.length;
                // Only accept 3-7 membered rings
                if (ringSize >= 3 && ringSize <= 7) {
                    // Check if this ring is already found (by sorting atom IDs)
                    const sortedRing = [
                        ...ringAtoms
                    ].sort((a, b)=>a - b).join(',');
                    const isNewRing = !rings.some((r)=>[
                            ...r.atomIds
                        ].sort((a, b)=>a - b).join(',') === sortedRing);
                    if (isNewRing) {
                        const isAromatic = checkAromaticity(ringAtoms, atoms, bonds);
                        rings.push({
                            size: ringSize,
                            atomIds: ringAtoms,
                            isAromatic
                        });
                    }
                }
            } else if (!visited.has(neighborId)) {
                dfs(neighborId, nodeId, [
                    ...path,
                    neighborId
                ]);
            }
        }
    }
    atoms.forEach((atom)=>{
        if (!visited.has(atom.id)) {
            dfs(atom.id, null, [
                atom.id
            ]);
            visited.add(atom.id);
        }
    });
    return rings;
}
function checkAromaticity(ringAtomIds, atoms, bonds) {
    // Simple aromaticity check: 
    // - Ring must be planar (we assume this)
    // - All atoms in ring should be C or N
    // - Should have alternating single/double bonds or be all aromatic
    if (ringAtomIds.length !== 6 && ringAtomIds.length !== 5) return false;
    const ringAtoms = ringAtomIds.map((id)=>atoms.find((a)=>a.id === id)).filter(Boolean);
    if (ringAtoms.length !== ringAtomIds.length) return false;
    // Check if all non-H elements (C, N for simple aromatic)
    const validElements = [
        'C',
        'N',
        'O',
        'S'
    ];
    if (!ringAtoms.every((a)=>validElements.includes(a.element))) return false;
    // Count double bonds in ring
    let doubleBondCount = 0;
    for(let i = 0; i < ringAtomIds.length; i++){
        const a1 = ringAtomIds[i];
        const a2 = ringAtomIds[(i + 1) % ringAtomIds.length];
        const bond = bonds.find((b)=>b.sourceId === a1 && b.targetId === a2 || b.sourceId === a2 && b.targetId === a1);
        if (bond?.order === 2) doubleBondCount++;
    }
    // For 6-membered ring: should have 3 double bonds (benzene-like)
    // For 5-membered ring: should have 2 double bonds (furan/pyrrole-like)
    if (ringAtomIds.length === 6 && doubleBondCount >= 2) return true;
    if (ringAtomIds.length === 5 && doubleBondCount >= 2) return true;
    return false;
}
function getFormula(atoms) {
    const counts = {};
    atoms.forEach((a)=>{
        counts[a.element] = (counts[a.element] || 0) + 1;
    });
    // Hill system: C first, then H, then alphabetical
    const keys = Object.keys(counts).sort((a, b)=>{
        if (a === 'C') return -1;
        if (b === 'C') return 1;
        if (a === 'H') return -1;
        if (b === 'H') return 1;
        return a.localeCompare(b);
    });
    return keys.map((k)=>`${k}${counts[k] > 1 ? counts[k] : ''}`).join('');
}
function calculateMolecularWeight(atoms) {
    return atoms.reduce((sum, atom)=>{
        const element = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$chemistry$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PeriodicTable"][atom.element];
        return sum + (element?.mass || 0);
    }, 0);
}
function countRotatableBonds(atoms, bonds, graph) {
    // Rotatable bonds: single bonds between non-terminal, non-ring atoms
    let count = 0;
    bonds.forEach((bond)=>{
        if (bond.order !== 1) return;
        const source = atoms.find((a)=>a.id === bond.sourceId);
        const target = atoms.find((a)=>a.id === bond.targetId);
        if (!source || !target) return;
        // Exclude H atoms
        if (source.element === 'H' || target.element === 'H') return;
        // Exclude terminal atoms (only one neighbor)
        const sourceNeighbors = graph.get(source.id)?.length || 0;
        const targetNeighbors = graph.get(target.id)?.length || 0;
        if (sourceNeighbors > 1 && targetNeighbors > 1) {
            count++;
        }
    });
    return count;
}
function countHBondDonors(atoms, graph) {
    // H-bond donors: OH, NH groups
    let count = 0;
    atoms.forEach((atom)=>{
        if (atom.element === 'O' || atom.element === 'N') {
            const neighbors = graph.get(atom.id) || [];
            const hasH = neighbors.some((nId)=>atoms.find((a)=>a.id === nId)?.element === 'H');
            if (hasH) count++;
        }
    });
    return count;
}
function countHBondAcceptors(atoms) {
    // H-bond acceptors: O and N atoms
    return atoms.filter((a)=>a.element === 'O' || a.element === 'N').length;
}
function calculateComplexity(atoms, bonds, rings, functionalGroupCount) {
    // Complexity score: 0-100
    const atomScore = Math.min(atoms.length * 2, 30);
    const bondScore = Math.min(bonds.length * 1.5, 20);
    const ringScore = Math.min(rings.length * 10, 25);
    const aromaticBonus = rings.filter((r)=>r.isAromatic).length * 5;
    const fgScore = Math.min(functionalGroupCount * 5, 20);
    return Math.min(100, Math.round(atomScore + bondScore + ringScore + aromaticBonus + fgScore));
}
function validateMolecule(atoms, bonds) {
    const errors = [];
    const warnings = [];
    let score = 0;
    // Empty check
    if (atoms.length === 0) {
        return {
            valid: false,
            errors: [
                'Molecule is empty'
            ],
            warnings: [],
            score: 0
        };
    }
    // Build adjacency graph
    const graph = buildAdjacencyGraph(atoms, bonds);
    // ========== Connectivity Check ==========
    const connected = isConnected(atoms, graph);
    if (!connected) {
        warnings.push('âš ï¸ Molecule has disconnected fragments');
    }
    // ========== Valence Validation ==========
    let allValenceSatisfied = true;
    atoms.forEach((atom)=>{
        const bondInfo = getBondInfo(atom.id, bonds);
        const elementData = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$chemistry$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PeriodicTable"][atom.element];
        if (!elementData) {
            errors.push(`Unknown element: ${atom.element}`);
            allValenceSatisfied = false;
            return;
        }
        const satisfies = elementData.valence.includes(bondInfo.totalOrder);
        if (!satisfies) {
            allValenceSatisfied = false;
            const atomLabel = `${elementData.name} #${atom.id.toString().slice(-4)}`;
            const current = bondInfo.totalOrder;
            const needed = elementData.valence.join(' or ');
            if (current === 0) {
                errors.push(`${atomLabel} has no bonds (needs ${needed})`);
            } else if (current < Math.min(...elementData.valence)) {
                errors.push(`${atomLabel} needs more bonds: has ${current}, needs ${needed}`);
            } else if (current > Math.max(...elementData.valence)) {
                errors.push(`${atomLabel} has too many bonds: has ${current}, max is ${Math.max(...elementData.valence)}`);
            } else {
                errors.push(`${atomLabel} has ${current} bonds (needs exactly ${needed})`);
            }
        }
        // Warning for unusual valence states
        if (atom.element === 'C' && bondInfo.totalOrder === 3) {
            warnings.push(`Carbon atom may be a carbocation (unstable)`);
        }
    });
    // ========== Ring Detection ==========
    const rings = findRings(atoms, bonds, graph);
    // Check for strained rings
    rings.forEach((ring)=>{
        if (ring.size === 3) {
            warnings.push(`âš ï¸ 3-membered ring detected (high ring strain)`);
        } else if (ring.size === 4) {
            warnings.push(`âš ï¸ 4-membered ring detected (moderate ring strain)`);
        }
    });
    // ========== Functional Group Detection ==========
    const detectedGroups = [];
    let totalFGCount = 0;
    FUNCTIONAL_GROUPS.forEach((fg)=>{
        const count = fg.pattern(atoms, bonds, graph);
        if (count > 0) {
            totalFGCount += count;
            detectedGroups.push(`${fg.icon} ${fg.displayName}${count > 1 ? ` (Ã—${count})` : ''}`);
        }
    });
    // ========== Calculate Properties ==========
    const formula = getFormula(atoms);
    const molecularWeight = calculateMolecularWeight(atoms);
    const heavyAtomCount = atoms.filter((a)=>a.element !== 'H').length;
    const rotableBonds = countRotatableBonds(atoms, bonds, graph);
    const hBondDonors = countHBondDonors(atoms, graph);
    const hBondAcceptors = countHBondAcceptors(atoms);
    const hasAromaticRing = rings.some((r)=>r.isAromatic);
    const complexity = calculateComplexity(atoms, bonds, rings, totalFGCount);
    const properties = {
        atomCount: atoms.length,
        bondCount: bonds.length,
        heavyAtomCount,
        rotableBonds,
        hBondDonors,
        hBondAcceptors,
        isConnected: connected,
        hasAromaticRing,
        complexity
    };
    // ========== Molecule Recognition ==========
    let name;
    if (allValenceSatisfied) {
        const match = MOLECULE_DATABASE.find((m)=>m.formula === formula);
        if (match) {
            name = match.name;
            score = match.score;
            if (match.description) {
                warnings.unshift(`ðŸ’Š ${match.description}`);
            }
        } else {
            name = "Valid Unknown Compound";
            // Calculate score based on complexity
            score = Math.round(atoms.length * 8 + rings.length * 20 + totalFGCount * 15 + (hasAromaticRing ? 50 : 0));
        }
        // Bonus for aromatic compounds
        if (hasAromaticRing) {
            warnings.unshift('ðŸ”µ Contains aromatic ring system');
        }
        // Drug-likeness check (Lipinski's Rule of 5)
        if (molecularWeight <= 500 && hBondDonors <= 5 && hBondAcceptors <= 10) {
            if (heavyAtomCount >= 5) {
                warnings.unshift('âœ… Passes Lipinski drug-likeness criteria');
                score += 25;
            }
        } else if (molecularWeight > 500) {
            warnings.push('âš ï¸ Molecular weight >500 (may have poor absorption)');
        }
    }
    return {
        valid: allValenceSatisfied,
        errors,
        warnings,
        score,
        name,
        formula,
        molecularWeight: Math.round(molecularWeight * 100) / 100,
        functionalGroups: detectedGroups,
        rings,
        properties
    };
}
;
}),
"[project]/src/components/builder/Builder.module.css [app-ssr] (css module)", ((__turbopack_context__) => {

__turbopack_context__.v({
  "active": "Builder-module__puRpEa__active",
  "aiFeedback": "Builder-module__puRpEa__aiFeedback",
  "btn": "Builder-module__puRpEa__btn",
  "btnPrimary": "Builder-module__puRpEa__btnPrimary",
  "btnSuccess": "Builder-module__puRpEa__btnSuccess",
  "builderContainer": "Builder-module__puRpEa__builderContainer",
  "canvasArea": "Builder-module__puRpEa__canvasArea",
  "canvasContainer": "Builder-module__puRpEa__canvasContainer",
  "canvasHeader": "Builder-module__puRpEa__canvasHeader",
  "container": "Builder-module__puRpEa__container",
  "controls": "Builder-module__puRpEa__controls",
  "elementCard": "Builder-module__puRpEa__elementCard",
  "elementList": "Builder-module__puRpEa__elementList",
  "elementsGrid": "Builder-module__puRpEa__elementsGrid",
  "feedbackStats": "Builder-module__puRpEa__feedbackStats",
  "header": "Builder-module__puRpEa__header",
  "hintCard": "Builder-module__puRpEa__hintCard",
  "hintText": "Builder-module__puRpEa__hintText",
  "hintTitle": "Builder-module__puRpEa__hintTitle",
  "iconPurple": "Builder-module__puRpEa__iconPurple",
  "palette": "Builder-module__puRpEa__palette",
  "propBar": "Builder-module__puRpEa__propBar",
  "propFill": "Builder-module__puRpEa__propFill",
  "propHeader": "Builder-module__puRpEa__propHeader",
  "propLabel": "Builder-module__puRpEa__propLabel",
  "propSection": "Builder-module__puRpEa__propSection",
  "propTags": "Builder-module__puRpEa__propTags",
  "propValue": "Builder-module__puRpEa__propValue",
  "properties": "Builder-module__puRpEa__properties",
  "selected": "Builder-module__puRpEa__selected",
  "sidebar": "Builder-module__puRpEa__sidebar",
  "statusMsg": "Builder-module__puRpEa__statusMsg",
  "tag": "Builder-module__puRpEa__tag",
});
}),
"[project]/src/components/builder/MissionSelector.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>MissionSelector
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$styled$2d$jsx$2f$style$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/styled-jsx/style.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$syllabusData$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/syllabusData.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
function MissionSelector({ userLevel, onSelectMission, currentMissionId }) {
    // Sort levels just in case
    const sortedLevels = [
        ...__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$syllabusData$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SYLLABUS_DATA"]
    ].sort((a, b)=>a.level - b.level);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        style: {
            display: 'flex',
            flexDirection: 'column',
            gap: '12px',
            marginBottom: '20px'
        },
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                style: {
                    margin: 0,
                    fontSize: '0.85rem',
                    fontWeight: 700,
                    color: '#9ca3af',
                    textTransform: 'uppercase',
                    letterSpacing: '0.5px'
                },
                children: "ðŸ—ºï¸ Syllabus Map"
            }, void 0, false, {
                fileName: "[project]/src/components/builder/MissionSelector.tsx",
                lineNumber: 24,
                columnNumber: 13
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                style: {
                    display: 'flex',
                    gap: '8px',
                    overflowX: 'auto',
                    paddingBottom: '4px',
                    maskImage: 'linear-gradient(to right, black 85%, transparent 100%)',
                    WebkitMaskImage: 'linear-gradient(to right, black 85%, transparent 100%)'
                },
                className: "jsx-e904ed44d668d0c7" + " " + "no-scrollbar",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$styled$2d$jsx$2f$style$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                        id: "e904ed44d668d0c7",
                        children: ".no-scrollbar.jsx-e904ed44d668d0c7::-webkit-scrollbar{display:none}.no-scrollbar.jsx-e904ed44d668d0c7{-ms-overflow-style:none;scrollbar-width:none}"
                    }, void 0, false, void 0, this),
                    sortedLevels.map((level)=>{
                        const isLocked = level.level > userLevel;
                        const isActive = level.level === currentMissionId;
                        const isCompleted = level.level < userLevel;
                        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            onClick: ()=>!isLocked && onSelectMission(level),
                            style: {
                                minWidth: '120px',
                                padding: '10px',
                                borderRadius: '10px',
                                background: isActive ? '#2563eb' : isLocked ? '#1f2937' : '#1f2937',
                                border: isActive ? '1px solid #60a5fa' : '1px solid #374151',
                                cursor: isLocked ? 'not-allowed' : 'pointer',
                                opacity: isLocked ? 0.5 : 1,
                                display: 'flex',
                                flexDirection: 'column',
                                gap: '2px',
                                position: 'relative',
                                transition: 'all 0.2s',
                                transform: isActive ? 'scale(1.02)' : 'scale(1)'
                            },
                            className: "jsx-e904ed44d668d0c7",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    style: {
                                        display: 'flex',
                                        justifyContent: 'space-between',
                                        alignItems: 'center',
                                        marginBottom: '4px'
                                    },
                                    className: "jsx-e904ed44d668d0c7",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            style: {
                                                fontSize: '0.65rem',
                                                fontWeight: 'bold',
                                                color: isActive ? '#e0e7ff' : '#6b7280',
                                                textTransform: 'uppercase'
                                            },
                                            className: "jsx-e904ed44d668d0c7",
                                            children: level.semester
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/builder/MissionSelector.tsx",
                                            lineNumber: 72,
                                            columnNumber: 33
                                        }, this),
                                        isLocked && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            style: {
                                                fontSize: '0.7rem'
                                            },
                                            className: "jsx-e904ed44d668d0c7",
                                            children: "ðŸ”’"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/builder/MissionSelector.tsx",
                                            lineNumber: 80,
                                            columnNumber: 46
                                        }, this),
                                        isCompleted && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            style: {
                                                fontSize: '0.7rem'
                                            },
                                            className: "jsx-e904ed44d668d0c7",
                                            children: "âœ…"
                                        }, void 0, false, {
                                            fileName: "[project]/src/components/builder/MissionSelector.tsx",
                                            lineNumber: 81,
                                            columnNumber: 49
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/src/components/builder/MissionSelector.tsx",
                                    lineNumber: 71,
                                    columnNumber: 29
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    style: {
                                        fontSize: '0.85rem',
                                        fontWeight: '600',
                                        color: isActive ? '#fff' : '#e5e7eb',
                                        lineHeight: '1.2',
                                        whiteSpace: 'nowrap',
                                        overflow: 'hidden',
                                        textOverflow: 'ellipsis'
                                    },
                                    className: "jsx-e904ed44d668d0c7",
                                    children: level.moleculeTemplate.name
                                }, void 0, false, {
                                    fileName: "[project]/src/components/builder/MissionSelector.tsx",
                                    lineNumber: 85,
                                    columnNumber: 29
                                }, this),
                                isActive && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    style: {
                                        height: '2px',
                                        background: '#fff',
                                        marginTop: '6px',
                                        borderRadius: '1px',
                                        opacity: 0.5
                                    },
                                    className: "jsx-e904ed44d668d0c7"
                                }, void 0, false, {
                                    fileName: "[project]/src/components/builder/MissionSelector.tsx",
                                    lineNumber: 99,
                                    columnNumber: 33
                                }, this)
                            ]
                        }, level.level, true, {
                            fileName: "[project]/src/components/builder/MissionSelector.tsx",
                            lineNumber: 51,
                            columnNumber: 25
                        }, this);
                    })
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/builder/MissionSelector.tsx",
                lineNumber: 28,
                columnNumber: 13
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                style: {
                    fontSize: '0.75rem',
                    color: '#9ca3af',
                    background: '#151921',
                    padding: '10px',
                    borderRadius: '8px',
                    border: '1px solid rgba(255,255,255,0.05)',
                    lineHeight: '1.4'
                },
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        style: {
                            color: '#60a5fa',
                            fontWeight: 600
                        },
                        children: "Objective:"
                    }, void 0, false, {
                        fileName: "[project]/src/components/builder/MissionSelector.tsx",
                        lineNumber: 121,
                        columnNumber: 17
                    }, this),
                    " ",
                    __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$syllabusData$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SYLLABUS_DATA"].find((s)=>s.level === userLevel)?.learningObjective || "Master the syllabus."
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/builder/MissionSelector.tsx",
                lineNumber: 112,
                columnNumber: 13
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/builder/MissionSelector.tsx",
        lineNumber: 18,
        columnNumber: 9
    }, this);
}
}),
"[project]/src/lib/trialService.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TrialService",
    ()=>TrialService
]);
/**
 * Trial Service - Manages clinical trial submissions in Firebase
 * Stores trial data including AI-generated roadmaps persistently
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/firebase.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$firebase$2f$firestore$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/firebase/firestore/dist/index.mjs [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@firebase/firestore/dist/index.node.mjs [app-ssr] (ecmascript)");
;
;
const TrialService = {
    /**
     * Get all trial submissions for a user from Firebase
     */ async getSubmissions (userId) {
        try {
            const q = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["query"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["collection"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"], 'trials'), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["where"])('userId', '==', userId));
            const querySnapshot = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getDocs"])(q);
            const submissions = querySnapshot.docs.map((doc)=>({
                    id: doc.id,
                    ...doc.data()
                }));
            return submissions.sort((a, b)=>(b.submittedAt || 0) - (a.submittedAt || 0));
        } catch (e) {
            console.error('Failed to load trial submissions:', e);
            return [];
        }
    },
    /**
     * Save a new trial submission to Firebase
     */ async saveSubmission (userId, submission) {
        const id = `trial_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`;
        const newSubmission = {
            ...submission,
            id,
            userId: userId,
            submittedAt: Date.now(),
            status: 'pending'
        };
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setDoc"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["doc"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"], 'trials', id), newSubmission);
        return newSubmission;
    },
    /**
     * Update an existing submission (including roadmap)
     */ async updateSubmission (id, updates) {
        try {
            const docRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["doc"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"], 'trials', id);
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["updateDoc"])(docRef, updates);
            const docSnap = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getDoc"])(docRef);
            if (docSnap.exists()) {
                return {
                    id: docSnap.id,
                    ...docSnap.data()
                };
            }
            return null;
        } catch (e) {
            console.error('Failed to update trial:', e);
            return null;
        }
    },
    /**
     * Get a single submission by ID
     */ async getSubmission (id) {
        try {
            const docRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["doc"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"], 'trials', id);
            const docSnap = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getDoc"])(docRef);
            if (docSnap.exists()) {
                return {
                    id: docSnap.id,
                    ...docSnap.data()
                };
            }
            return null;
        } catch (e) {
            console.error('Failed to get trial:', e);
            return null;
        }
    },
    /**
     * Delete a submission
     */ async deleteSubmission (id) {
        try {
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deleteDoc"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["doc"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"], 'trials', id));
            return true;
        } catch (e) {
            console.error('Failed to delete trial:', e);
            return false;
        }
    },
    /**
     * Save roadmap to a trial
     */ async saveRoadmap (trialId, roadmap) {
        try {
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["updateDoc"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["doc"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"], 'trials', trialId), {
                roadmap: {
                    ...roadmap,
                    generatedAt: Date.now()
                }
            });
            return true;
        } catch (e) {
            console.error('Failed to save roadmap:', e);
            return false;
        }
    },
    /**
     * Update simulation state
     */ async updateSimulationState (trialId, state) {
        try {
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["updateDoc"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["doc"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"], 'trials', trialId), {
                simulationState: state,
                status: 'in_progress'
            });
            return true;
        } catch (e) {
            console.error('Failed to update simulation state:', e);
            return false;
        }
    }
};
}),
"[project]/src/lib/imageService.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ImageService",
    ()=>ImageService
]);
/**
 * Image Service - AI-powered molecule image generation with Firebase Storage
 * Generates unique molecule visualizations and stores them persistently
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/firebase.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$firebase$2f$storage$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/firebase/storage/dist/index.mjs [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$storage$2f$dist$2f$node$2d$esm$2f$index$2e$node$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@firebase/storage/dist/node-esm/index.node.esm.js [app-ssr] (ecmascript)");
;
;
// API Key for image generation (AI Guru Lab or similar)
const IMAGE_API_KEY = ("TURBOPACK compile-time value", "b5830a60-e35a-4727-b311-5276cec06246") || '';
const GEMINI_API_KEY = ("TURBOPACK compile-time value", "AIzaSyBA0G2atNYDKbZh9qXp0U9c0EeH5O6jIA4") || '';
// Molecule color palettes based on molecule type
const MOLECULE_COLORS = {
    paracetamol: [
        '#4FC3F7',
        '#29B6F6',
        '#03A9F4',
        '#039BE5'
    ],
    aspirin: [
        '#81C784',
        '#66BB6A',
        '#4CAF50',
        '#43A047'
    ],
    ibuprofen: [
        '#FFB74D',
        '#FFA726',
        '#FF9800',
        '#FB8C00'
    ],
    caffeine: [
        '#BA68C8',
        '#AB47BC',
        '#9C27B0',
        '#8E24AA'
    ],
    default: [
        '#7C4DFF',
        '#651FFF',
        '#6200EA',
        '#536DFE'
    ]
};
const ImageService = {
    /**
     * Generate a molecule image using AI and upload to Firebase Storage
     */ async generateMoleculeImage (moleculeName, trialId, efficacy = 50, safety = 50) {
        try {
            // Create a descriptive prompt for molecule visualization
            const prompt = this.createMoleculePrompt(moleculeName, efficacy, safety);
            // Try AI Guru Lab API first, then fallback to procedural
            let imageBlob = null;
            if (IMAGE_API_KEY && IMAGE_API_KEY.length > 10) {
                try {
                    imageBlob = await this.callAIGuruLabAPI(prompt);
                } catch (apiError) {
                    console.warn('AI Guru Lab API error, using procedural fallback');
                    imageBlob = null;
                }
            }
            // If AI API fails or not configured, generate procedural SVG
            if (!imageBlob) {
                console.log('Generating procedural molecule SVG for:', moleculeName);
                imageBlob = await this.generateProceduralMolecule(moleculeName, efficacy, safety);
            }
            // Upload to Firebase Storage
            let url = '';
            try {
                url = await this.uploadToFirebase(imageBlob, trialId);
            } catch (uploadError) {
                console.warn('Firebase Upload Failed:', uploadError.message);
                // Fallback: Convert Blob to Base64 Data URI so image still shows up
                if (imageBlob) {
                    url = await new Promise((resolve)=>{
                        const reader = new FileReader();
                        reader.onloadend = ()=>resolve(reader.result);
                        reader.readAsDataURL(imageBlob);
                    });
                }
            }
            return {
                url,
                generatedAt: Date.now(),
                prompt
            };
        } catch (error) {
            console.error('Failed to generate molecule image:', error);
            return null;
        }
    },
    /**
     * Create a descriptive prompt for molecule image generation
     */ createMoleculePrompt (moleculeName, efficacy, safety) {
        const quality = efficacy > 70 ? 'high-quality, well-structured' : 'experimental';
        const stability = safety > 70 ? 'stable' : 'reactive';
        return `Scientific 3D molecular structure visualization of ${moleculeName}, ${quality} ${stability} pharmaceutical compound, glowing atoms, dark background, neon blue and purple accents, professional medical illustration, high detail`;
    },
    /**
     * Call AI Guru Lab API for image generation
     */ async callAIGuruLabAPI (prompt) {
        if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
        ;
        try {
            // AI Guru Lab API endpoint (adjust based on actual API documentation)
            const response = await fetch('https://api.aigurulab.tech/api/generate-image', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'x-api-key': IMAGE_API_KEY
                },
                body: JSON.stringify({
                    prompt: prompt,
                    width: 512,
                    height: 512,
                    model: 'flux' // or another model
                })
            });
            if (!response.ok) {
                console.warn('AI Guru Lab API failed:', response.status);
                return null;
            }
            const data = await response.json();
            // Handle response based on format (base64 or URL)
            if (data.image) {
                // Base64 response
                const base64Data = data.image.replace(/^data:image\/\w+;base64,/, '');
                const binaryString = atob(base64Data);
                const bytes = new Uint8Array(binaryString.length);
                for(let i = 0; i < binaryString.length; i++){
                    bytes[i] = binaryString.charCodeAt(i);
                }
                return new Blob([
                    bytes
                ], {
                    type: 'image/png'
                });
            } else if (data.url) {
                // URL response - fetch and convert to blob
                const imageResponse = await fetch(data.url);
                return await imageResponse.blob();
            }
            return null;
        } catch (error) {
            console.warn('AI Guru Lab API error:', error);
            return null;
        }
    },
    /**
     * Generate a procedural molecule SVG (fallback when AI is unavailable)
     */ async generateProceduralMolecule (moleculeName, efficacy, safety) {
        // Determine colors based on molecule type
        const lowerName = moleculeName.toLowerCase();
        let colors = MOLECULE_COLORS.default;
        for (const [key, palette] of Object.entries(MOLECULE_COLORS)){
            if (lowerName.includes(key)) {
                colors = palette;
                break;
            }
        }
        // Generate atom positions based on molecule "hash"
        const seed = this.hashString(moleculeName + efficacy + safety);
        const atoms = this.generateAtomPositions(seed, 6 + efficacy % 5);
        const bonds = this.generateBonds(atoms);
        // Create SVG
        const svg = `
            <svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512">
                <defs>
                    <radialGradient id="bg" cx="50%" cy="50%" r="70%">
                        <stop offset="0%" stop-color="#1a1a2e"/>
                        <stop offset="100%" stop-color="#0a0a15"/>
                    </radialGradient>
                    <filter id="glow">
                        <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                        <feMerge>
                            <feMergeNode in="coloredBlur"/>
                            <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                    </filter>
                    <radialGradient id="atom" cx="30%" cy="30%" r="60%">
                        <stop offset="0%" stop-color="${colors[0]}"/>
                        <stop offset="100%" stop-color="${colors[2]}"/>
                    </radialGradient>
                </defs>
                <rect width="512" height="512" fill="url(#bg)"/>
                
                <!-- Bonds -->
                <g stroke="${colors[1]}" stroke-width="3" opacity="0.7" filter="url(#glow)">
                    ${bonds.map((b)=>`<line x1="${b.x1}" y1="${b.y1}" x2="${b.x2}" y2="${b.y2}"/>`).join('\n')}
                </g>
                
                <!-- Atoms -->
                <g filter="url(#glow)">
                    ${atoms.map((a, i)=>`
                        <circle cx="${a.x}" cy="${a.y}" r="${15 + i % 3 * 5}" fill="url(#atom)"/>
                        <circle cx="${a.x - 4}" cy="${a.y - 4}" r="${5 + i % 2 * 2}" fill="white" opacity="0.3"/>
                    `).join('\n')}
                </g>
                
                <!-- Center glow effect -->
                <circle cx="256" cy="256" r="100" fill="none" stroke="${colors[0]}" stroke-width="1" opacity="0.2"/>
                <circle cx="256" cy="256" r="150" fill="none" stroke="${colors[1]}" stroke-width="0.5" opacity="0.1"/>
            </svg>
        `;
        return new Blob([
            svg
        ], {
            type: 'image/svg+xml'
        });
    },
    /**
     * Upload image blob to Firebase Storage
     */ async uploadToFirebase (blob, trialId) {
        const extension = blob.type.includes('svg') ? 'svg' : 'png';
        const storageRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$storage$2f$dist$2f$node$2d$esm$2f$index$2e$node$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ref"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["storage"], `molecules/${trialId}.${extension}`);
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$storage$2f$dist$2f$node$2d$esm$2f$index$2e$node$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["uploadBytes"])(storageRef, blob);
        const downloadUrl = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$storage$2f$dist$2f$node$2d$esm$2f$index$2e$node$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getDownloadURL"])(storageRef);
        return downloadUrl;
    },
    /**
     * Get existing molecule image URL from storage
     */ async getMoleculeImageUrl (trialId) {
        try {
            // Try PNG first, then SVG
            const pngRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$storage$2f$dist$2f$node$2d$esm$2f$index$2e$node$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ref"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["storage"], `molecules/${trialId}.png`);
            try {
                return await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$storage$2f$dist$2f$node$2d$esm$2f$index$2e$node$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getDownloadURL"])(pngRef);
            } catch  {
                const svgRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$storage$2f$dist$2f$node$2d$esm$2f$index$2e$node$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ref"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["storage"], `molecules/${trialId}.svg`);
                return await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$storage$2f$dist$2f$node$2d$esm$2f$index$2e$node$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getDownloadURL"])(svgRef);
            }
        } catch  {
            return null;
        }
    },
    // Helper: Simple string hash for deterministic generation
    hashString (str) {
        let hash = 0;
        for(let i = 0; i < str.length; i++){
            const char = str.charCodeAt(i);
            hash = (hash << 5) - hash + char;
            hash = hash & hash;
        }
        return Math.abs(hash);
    },
    // Helper: Generate atom positions in a somewhat structured way
    generateAtomPositions (seed, count) {
        const atoms = [];
        const centerX = 256, centerY = 256;
        for(let i = 0; i < count; i++){
            const angle = (seed + i * 137.5) % 360 * (Math.PI / 180);
            const radius = 60 + seed * (i + 1) % 120;
            atoms.push({
                x: centerX + Math.cos(angle) * radius,
                y: centerY + Math.sin(angle) * radius
            });
        }
        return atoms;
    },
    // Helper: Generate bonds between nearby atoms
    generateBonds (atoms) {
        const bonds = [];
        for(let i = 0; i < atoms.length; i++){
            // Connect to next atom (ring structure)
            const j = (i + 1) % atoms.length;
            bonds.push({
                x1: atoms[i].x,
                y1: atoms[i].y,
                x2: atoms[j].x,
                y2: atoms[j].y
            });
            // Connect some atoms to center for structure
            if (i % 2 === 0) {
                bonds.push({
                    x1: atoms[i].x,
                    y1: atoms[i].y,
                    x2: 256,
                    y2: 256
                });
            }
        }
        return bonds;
    }
};
}),
"[project]/src/components/builder/Builder.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>Builder
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$View3D$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/builder/View3D.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$chemistry$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/chemistry.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$syllabusData$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/syllabusData.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$aiService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/aiService.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/three/build/three.module.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$validation$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/validation.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__ = __turbopack_context__.i("[project]/src/components/builder/Builder.module.css [app-ssr] (css module)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$context$2f$AuthContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/context/AuthContext.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$userService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/userService.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$MissionSelector$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/builder/MissionSelector.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$trialService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/trialService.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$imageService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/imageService.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
function Builder() {
    const [atoms, setAtoms] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [bonds, setBonds] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [selectedElement, setSelectedElement] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('C');
    const [mode, setMode] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('build');
    const [message, setMessage] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('Select an element and click on the canvas.');
    const [bondingSource, setBondingSource] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    // Properties State
    const [properties, setProperties] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])({
        stability: 0,
        efficacy: 0,
        toxicity: 'Low'
    });
    const { user, refreshProfile, profile } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$context$2f$AuthContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useAuth"])();
    const [submitting, setSubmitting] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    // --- Syllabus & AI State ---
    const [currentMission, setCurrentMission] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$syllabusData$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SYLLABUS_DATA"][0]);
    const [aiFeedback, setAiFeedback] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [analyzing, setAnalyzing] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [validationResult, setValidationResult] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [missionLoaded, setMissionLoaded] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    // --- SMILES Input State ---
    const [smilesInput, setSmilesInput] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [showSmilesInput, setShowSmilesInput] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [smilesError, setSmilesError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    // --- Chemistry Reference State ---
    const [showReference, setShowReference] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    // Helper: Load a mission template
    const loadMission = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])((mission)=>{
        setCurrentMission(mission);
        // Load atoms from template
        const templateAtoms = mission.moleculeTemplate.atoms.map((a)=>({
                id: a.id,
                element: a.element,
                x: a.position[0],
                y: a.position[1],
                z: a.position[2]
            }));
        // Reconstruct bonds with proper bond order
        const templateBonds = [];
        let bondIdCounter = Date.now();
        mission.moleculeTemplate.bonds.forEach((b)=>{
            const sourceAtom = templateAtoms.find((a)=>a.id === b.source);
            const targetAtom = templateAtoms.find((a)=>a.id === b.target);
            if (sourceAtom && targetAtom) {
                templateBonds.push({
                    id: bondIdCounter++,
                    sourceId: sourceAtom.id,
                    targetId: targetAtom.id,
                    order: b.order || 1 // Use template bond order
                });
            }
        });
        setAtoms(templateAtoms);
        setBonds(templateBonds);
        setAiFeedback(null);
        updateProperties(templateAtoms, templateBonds);
        setMessage(`Loaded Mission: ${mission.title}`);
    }, []);
    // Initial Load: Check User Level and Load Highest Unlocked Template
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (profile && !missionLoaded) {
            const userLevel = Math.min(profile.level || 1, 8);
            const mission = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$syllabusData$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SYLLABUS_DATA"].find((s)=>s.level === userLevel) || __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$syllabusData$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SYLLABUS_DATA"][0];
            loadMission(mission);
            setMissionLoaded(true);
        }
    }, [
        profile,
        missionLoaded,
        loadMission
    ]);
    // Run validation whenever atoms/bonds change
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (atoms.length > 0) {
            const result = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$validation$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["validateMolecule"])(atoms, bonds);
            setValidationResult(result);
        } else {
            setValidationResult(null);
        }
    }, [
        atoms,
        bonds
    ]);
    const handleEmptyClick = (position)=>{
        if (mode === 'build') {
            const newAtom = {
                id: Date.now(),
                element: selectedElement,
                x: position.x,
                y: position.y,
                z: position.z
            };
            const newBonds = [];
            let bondIdCounter = Date.now();
            atoms.forEach((atom)=>{
                const dist = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$three$2f$build$2f$three$2e$module$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Vector3"](atom.x, atom.y, atom.z).distanceTo(position);
                if (dist < 2.0) {
                    newBonds.push({
                        id: bondIdCounter++,
                        sourceId: atom.id,
                        targetId: newAtom.id,
                        order: 1
                    });
                }
            });
            const updatedAtoms = [
                ...atoms,
                newAtom
            ];
            const updatedBonds = [
                ...bonds,
                ...newBonds
            ];
            setAtoms(updatedAtoms);
            setBonds(updatedBonds);
            updateProperties(updatedAtoms, updatedBonds);
            setMessage(`Added ${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$chemistry$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PeriodicTable"][selectedElement].name}`);
        }
    };
    const handleAtomClick = (id)=>{
        if (mode === 'delete') {
            const updatedAtoms = atoms.filter((a)=>a.id !== id);
            const updatedBonds = bonds.filter((b)=>b.sourceId !== id && b.targetId !== id);
            setAtoms(updatedAtoms);
            setBonds(updatedBonds);
            updateProperties(updatedAtoms, updatedBonds);
            setMessage('Atom deleted');
        } else if (mode === 'bond') {
            // Bonding mode: click two atoms to connect them
            if (bondingSource === null) {
                setBondingSource(id);
                setMessage(`Bonding: Selected first atom (ID: ${id}). Click another atom to connect.`);
            } else if (bondingSource !== id) {
                // Check if bond already exists
                const exists = bonds.some((b)=>b.sourceId === bondingSource && b.targetId === id || b.sourceId === id && b.targetId === bondingSource);
                if (!exists) {
                    const newBond = {
                        id: Date.now(),
                        sourceId: bondingSource,
                        targetId: id,
                        order: 1
                    };
                    const updatedBonds = [
                        ...bonds,
                        newBond
                    ];
                    setBonds(updatedBonds);
                    updateProperties(atoms, updatedBonds);
                    setMessage(`Bond created between atoms!`);
                } else {
                    setMessage('Bond already exists between these atoms.');
                }
                setBondingSource(null);
            } else {
                setBondingSource(null);
                setMessage('Bonding cancelled.');
            }
        } else {
            // Build mode: clicking atom does nothing (only empty space adds atoms)
            const atom = atoms.find((a)=>a.id === id);
            if (atom) {
                const el = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$chemistry$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PeriodicTable"][atom.element];
                setMessage(`${el?.name || atom.element} atom selected`);
            }
        }
    };
    const updateProperties = (currentAtoms, currentBonds)=>{
        const result = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$validation$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["validateMolecule"])(currentAtoms, currentBonds);
        if (result.valid) {
            setProperties({
                stability: Math.min(100, 50 + result.score),
                efficacy: Math.min(100, 20 + result.score * 0.5),
                toxicity: 'Low'
            });
        } else {
            setProperties({
                stability: Math.max(0, 30 - currentAtoms.length * 2),
                efficacy: 0,
                toxicity: 'High'
            });
        }
    };
    const handleReset = ()=>{
        loadMission(currentMission);
        setMessage('Template reset to initial state.');
    };
    const handleAIAnalysis = async ()=>{
        setAnalyzing(true);
        try {
            const result = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$aiService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AiService"].analyzeMolecule(currentMission.moleculeTemplate.name, atoms.length, "User modified the structure.");
            setAiFeedback(result);
            setMessage("AI analysis complete!");
        } catch (error) {
            console.error("AI Analysis error:", error);
            setMessage("Error during AI analysis.");
        } finally{
            setAnalyzing(false);
        }
    };
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRouter"])();
    const handleSubmit = async ()=>{
        if (submitting || !user) return;
        setSubmitting(true);
        try {
            const score = aiFeedback ? Math.floor((aiFeedback.efficacy + aiFeedback.safety) / 2) : 50;
            const xpAwarded = score * 2;
            await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$userService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["UserService"].addXP(user.uid, xpAwarded);
            await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$userService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["UserService"].updateQuestProgress(user.uid, 'build_molecule', 1);
            // Save trial data for the Clinical Trials phase using TrialService (Firebase)
            const submission = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$trialService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TrialService"].saveSubmission(user.uid, {
                moleculeName: currentMission.moleculeTemplate.name + " (Modified)",
                missionId: currentMission.level,
                missionTitle: currentMission.title,
                atomCount: atoms.length,
                stats: {
                    efficacy: aiFeedback?.efficacy || properties.efficacy,
                    safety: aiFeedback?.safety || (properties.toxicity === 'Low' ? 80 : 40),
                    stability: properties.stability
                },
                aiAnalysis: aiFeedback?.analysis,
                imageUrl: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$aiService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AiService"].generateMoleculeImageUrl(currentMission.moleculeTemplate.name)
            });
            // Generate AI molecule image and save to Firebase Storage
            setMessage('Generating molecule visualization...');
            const generatedImage = await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$imageService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ImageService"].generateMoleculeImage(currentMission.moleculeTemplate.name, submission.id, aiFeedback?.efficacy || properties.efficacy, aiFeedback?.safety || 50);
            // Update trial with generated image URL
            if (generatedImage) {
                await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$trialService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TrialService"].updateSubmission(submission.id, {
                    generatedImageUrl: generatedImage.url
                });
            }
            // Save trial ID to localStorage for quick access
            localStorage.setItem('active_trial_id', submission.id);
            if (atoms.length >= 5) {
                await __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$userService$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["UserService"].unlockAchievement(user.uid, {
                    id: 'first_complex',
                    title: 'Molecular Architect',
                    description: 'Built a molecule with 5+ atoms',
                    icon: 'ðŸ§¬'
                });
            }
            await refreshProfile();
            setMessage(`SUCCESS: Design Submitted! Redirecting to Clinical Trials...`);
            // Short delay then redirect
            setTimeout(()=>{
                router.push('/dashboard/clinical-trials');
            }, 1500);
        } catch (error) {
            console.error(error);
            setMessage('Error submitting design');
        } finally{
            setSubmitting(false);
        }
    };
    const elementList = [
        'C',
        'O',
        'N',
        'H',
        'S',
        'P',
        'F',
        'Cl',
        'Br'
    ];
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].container,
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].sidebar,
                children: [
                    profile && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$MissionSelector$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                        userLevel: profile.level || 1,
                        currentMissionId: currentMission.level,
                        onSelectMission: loadMission
                    }, void 0, false, {
                        fileName: "[project]/src/components/builder/Builder.tsx",
                        lineNumber: 312,
                        columnNumber: 21
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].header,
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        style: {
                                            color: '#60a5fa'
                                        },
                                        children: "LABORATORY:"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 320,
                                        columnNumber: 25
                                    }, this),
                                    " ",
                                    currentMission.title
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/builder/Builder.tsx",
                                lineNumber: 320,
                                columnNumber: 21
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                style: {
                                    fontSize: '0.8rem',
                                    color: '#9ca3af',
                                    marginTop: '4px'
                                },
                                children: currentMission.description
                            }, void 0, false, {
                                fileName: "[project]/src/components/builder/Builder.tsx",
                                lineNumber: 321,
                                columnNumber: 21
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/builder/Builder.tsx",
                        lineNumber: 319,
                        columnNumber: 17
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].elementList,
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                children: "Elements"
                            }, void 0, false, {
                                fileName: "[project]/src/components/builder/Builder.tsx",
                                lineNumber: 325,
                                columnNumber: 21
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].elementsGrid,
                                children: elementList.map((symbol)=>{
                                    const el = __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$chemistry$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PeriodicTable"][symbol];
                                    if (!el) return null;
                                    const isSelected = selectedElement === symbol && mode === 'build';
                                    const colorHex = '#' + el.color.toString(16).padStart(6, '0');
                                    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: `${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].elementCard} ${isSelected ? __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].selected : ''}`,
                                        onClick: ()=>{
                                            setSelectedElement(symbol);
                                            setMode('build');
                                            setBondingSource(null);
                                        },
                                        style: {
                                            borderColor: isSelected ? colorHex : undefined,
                                            boxShadow: isSelected ? `0 0 12px ${colorHex}40` : undefined
                                        },
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                style: {
                                                    width: '24px',
                                                    height: '24px',
                                                    borderRadius: '50%',
                                                    background: colorHex,
                                                    marginBottom: '4px',
                                                    boxShadow: `inset 0 -3px 6px rgba(0,0,0,0.3), 0 0 8px ${colorHex}50`
                                                }
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/builder/Builder.tsx",
                                                lineNumber: 342,
                                                columnNumber: 37
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("b", {
                                                style: {
                                                    fontSize: '0.9rem'
                                                },
                                                children: symbol
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/builder/Builder.tsx",
                                                lineNumber: 350,
                                                columnNumber: 37
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("small", {
                                                children: el.name
                                            }, void 0, false, {
                                                fileName: "[project]/src/components/builder/Builder.tsx",
                                                lineNumber: 351,
                                                columnNumber: 37
                                            }, this)
                                        ]
                                    }, symbol, true, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 333,
                                        columnNumber: 33
                                    }, this);
                                })
                            }, void 0, false, {
                                fileName: "[project]/src/components/builder/Builder.tsx",
                                lineNumber: 326,
                                columnNumber: 21
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/builder/Builder.tsx",
                        lineNumber: 324,
                        columnNumber: 17
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].controls,
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                style: {
                                    display: 'flex',
                                    gap: '8px'
                                },
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        className: `${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].btn} ${mode === 'delete' ? __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].active : ''}`,
                                        onClick: ()=>{
                                            setMode(mode === 'delete' ? 'build' : 'delete');
                                            setBondingSource(null);
                                        },
                                        style: {
                                            flex: 1
                                        },
                                        children: "ðŸ—‘ï¸ Eraser"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 360,
                                        columnNumber: 25
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        className: `${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].btn} ${mode === 'bond' ? __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].active : ''}`,
                                        onClick: ()=>{
                                            setMode(mode === 'bond' ? 'build' : 'bond');
                                            setBondingSource(null);
                                        },
                                        style: {
                                            flex: 1,
                                            background: mode === 'bond' ? '#7c3aed' : undefined
                                        },
                                        children: "ðŸ”— Bond"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 367,
                                        columnNumber: 25
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/builder/Builder.tsx",
                                lineNumber: 359,
                                columnNumber: 21
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].btn,
                                onClick: handleReset,
                                children: "â†º Reset Template"
                            }, void 0, false, {
                                fileName: "[project]/src/components/builder/Builder.tsx",
                                lineNumber: 375,
                                columnNumber: 21
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                className: `${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].btn} ${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].btnPrimary}`,
                                onClick: handleAIAnalysis,
                                disabled: analyzing,
                                children: analyzing ? 'ðŸ¤– Analyzing...' : 'ðŸ§  AI Analysis'
                            }, void 0, false, {
                                fileName: "[project]/src/components/builder/Builder.tsx",
                                lineNumber: 376,
                                columnNumber: 21
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/builder/Builder.tsx",
                        lineNumber: 358,
                        columnNumber: 17
                    }, this),
                    aiFeedback && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].aiFeedback,
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h4", {
                                children: "AI Analysis Report"
                            }, void 0, false, {
                                fileName: "[project]/src/components/builder/Builder.tsx",
                                lineNumber: 383,
                                columnNumber: 25
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                children: aiFeedback.analysis
                            }, void 0, false, {
                                fileName: "[project]/src/components/builder/Builder.tsx",
                                lineNumber: 384,
                                columnNumber: 25
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].feedbackStats,
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        children: [
                                            "Eff: ",
                                            Math.round(aiFeedback.efficacy),
                                            "%"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 386,
                                        columnNumber: 29
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        children: [
                                            "Saf: ",
                                            Math.round(aiFeedback.safety),
                                            "%"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 387,
                                        columnNumber: 29
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/builder/Builder.tsx",
                                lineNumber: 385,
                                columnNumber: 25
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/builder/Builder.tsx",
                        lineNumber: 382,
                        columnNumber: 21
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                        className: `${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].btn} ${__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].btnSuccess}`,
                        onClick: handleSubmit,
                        disabled: submitting || !aiFeedback,
                        style: {
                            marginTop: 'auto'
                        },
                        children: submitting ? 'Submitting...' : 'ðŸš€ Submit for Trials'
                    }, void 0, false, {
                        fileName: "[project]/src/components/builder/Builder.tsx",
                        lineNumber: 392,
                        columnNumber: 17
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/builder/Builder.tsx",
                lineNumber: 309,
                columnNumber: 13
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].canvasArea,
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].canvasHeader,
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                style: {
                                    display: 'flex',
                                    alignItems: 'center',
                                    gap: '12px',
                                    flexWrap: 'wrap'
                                },
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].statusMsg,
                                        children: message
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 405,
                                        columnNumber: 25
                                    }, this),
                                    validationResult && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        style: {
                                            display: 'flex',
                                            alignItems: 'center',
                                            gap: '8px',
                                            padding: '4px 10px',
                                            borderRadius: '6px',
                                            fontSize: '0.75rem',
                                            fontWeight: 600,
                                            background: validationResult.valid ? 'rgba(16, 185, 129, 0.2)' : 'rgba(239, 68, 68, 0.2)',
                                            border: `1px solid ${validationResult.valid ? '#10b981' : '#ef4444'}`,
                                            color: validationResult.valid ? '#10b981' : '#ef4444'
                                        },
                                        children: [
                                            validationResult.valid ? 'âœ“ Valid' : 'âœ— Invalid',
                                            validationResult.name && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                style: {
                                                    color: '#60a5fa',
                                                    marginLeft: '4px'
                                                },
                                                children: [
                                                    "â€¢ ",
                                                    validationResult.name
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/src/components/builder/Builder.tsx",
                                                lineNumber: 421,
                                                columnNumber: 37
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 407,
                                        columnNumber: 29
                                    }, this),
                                    validationResult?.formula && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        style: {
                                            padding: '4px 10px',
                                            borderRadius: '6px',
                                            fontSize: '0.75rem',
                                            fontWeight: 600,
                                            background: 'rgba(96, 165, 250, 0.15)',
                                            border: '1px solid rgba(96, 165, 250, 0.4)',
                                            color: '#60a5fa'
                                        },
                                        children: [
                                            validationResult.formula,
                                            " â€¢ ",
                                            validationResult.molecularWeight,
                                            " g/mol"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 427,
                                        columnNumber: 29
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/builder/Builder.tsx",
                                lineNumber: 404,
                                columnNumber: 21
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].propTags,
                                children: [
                                    validationResult?.properties?.complexity !== undefined && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].tag,
                                        style: {
                                            color: '#a78bfa'
                                        },
                                        children: [
                                            "Complexity: ",
                                            validationResult.properties.complexity,
                                            "%"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 442,
                                        columnNumber: 29
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].tag,
                                        children: [
                                            "Stab: ",
                                            Math.round(properties.stability),
                                            "%"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 446,
                                        columnNumber: 25
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].tag,
                                        children: [
                                            "Eff: ",
                                            Math.round(properties.efficacy),
                                            "%"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 447,
                                        columnNumber: 25
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$module$2e$css__$5b$app$2d$ssr$5d$__$28$css__module$29$__["default"].tag,
                                        style: {
                                            color: properties.toxicity === 'Low' ? '#10b981' : '#ef4444'
                                        },
                                        children: [
                                            "Tox: ",
                                            properties.toxicity
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 448,
                                        columnNumber: 25
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/components/builder/Builder.tsx",
                                lineNumber: 440,
                                columnNumber: 21
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/builder/Builder.tsx",
                        lineNumber: 403,
                        columnNumber: 17
                    }, this),
                    validationResult?.functionalGroups && validationResult.functionalGroups.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        style: {
                            position: 'absolute',
                            top: '60px',
                            right: '16px',
                            background: 'rgba(30, 41, 59, 0.95)',
                            border: '1px solid rgba(148, 163, 184, 0.2)',
                            borderRadius: '10px',
                            padding: '12px',
                            zIndex: 10,
                            maxWidth: '220px',
                            fontSize: '0.75rem',
                            backdropFilter: 'blur(8px)'
                        },
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                style: {
                                    fontWeight: 700,
                                    marginBottom: '8px',
                                    color: '#94a3b8',
                                    textTransform: 'uppercase',
                                    letterSpacing: '0.5px'
                                },
                                children: "Functional Groups"
                            }, void 0, false, {
                                fileName: "[project]/src/components/builder/Builder.tsx",
                                lineNumber: 469,
                                columnNumber: 25
                            }, this),
                            validationResult.functionalGroups.map((fg, i)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    style: {
                                        marginBottom: '4px',
                                        color: '#e2e8f0'
                                    },
                                    children: fg
                                }, i, false, {
                                    fileName: "[project]/src/components/builder/Builder.tsx",
                                    lineNumber: 473,
                                    columnNumber: 29
                                }, this))
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/builder/Builder.tsx",
                        lineNumber: 456,
                        columnNumber: 21
                    }, this),
                    validationResult && (validationResult.errors.length > 0 || validationResult.warnings.length > 0) && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        style: {
                            position: 'absolute',
                            bottom: '16px',
                            left: '16px',
                            background: validationResult.valid ? 'rgba(30, 58, 95, 0.95)' : 'rgba(127, 29, 29, 0.9)',
                            border: `1px solid ${validationResult.valid ? 'rgba(96, 165, 250, 0.4)' : 'rgba(239, 68, 68, 0.4)'}`,
                            borderRadius: '10px',
                            padding: '12px',
                            zIndex: 10,
                            maxWidth: '380px',
                            fontSize: '0.75rem',
                            backdropFilter: 'blur(8px)'
                        },
                        children: [
                            !validationResult.valid && validationResult.errors.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        style: {
                                            fontWeight: 700,
                                            marginBottom: '6px',
                                            color: '#ef4444'
                                        },
                                        children: "âš ï¸ Valence Issues:"
                                    }, void 0, false, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 498,
                                        columnNumber: 33
                                    }, this),
                                    validationResult.errors.slice(0, 3).map((err, i)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            style: {
                                                marginBottom: '2px',
                                                color: '#fca5a5'
                                            },
                                            children: [
                                                "â€¢ ",
                                                err
                                            ]
                                        }, `err-${i}`, true, {
                                            fileName: "[project]/src/components/builder/Builder.tsx",
                                            lineNumber: 500,
                                            columnNumber: 37
                                        }, this)),
                                    validationResult.errors.length > 3 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        style: {
                                            color: '#9ca3af',
                                            marginTop: '4px'
                                        },
                                        children: [
                                            "...and ",
                                            validationResult.errors.length - 3,
                                            " more"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 503,
                                        columnNumber: 37
                                    }, this)
                                ]
                            }, void 0, true),
                            validationResult.warnings.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                style: {
                                    marginTop: validationResult.errors.length > 0 ? '10px' : '0'
                                },
                                children: validationResult.warnings.slice(0, 4).map((warn, i)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        style: {
                                            marginBottom: '4px',
                                            color: warn.startsWith('âœ…') ? '#86efac' : warn.startsWith('âš ï¸') ? '#fcd34d' : warn.startsWith('ðŸ’Š') ? '#c4b5fd' : warn.startsWith('ðŸ”µ') ? '#93c5fd' : '#e2e8f0'
                                        },
                                        children: warn
                                    }, `warn-${i}`, false, {
                                        fileName: "[project]/src/components/builder/Builder.tsx",
                                        lineNumber: 512,
                                        columnNumber: 37
                                    }, this))
                            }, void 0, false, {
                                fileName: "[project]/src/components/builder/Builder.tsx",
                                lineNumber: 510,
                                columnNumber: 29
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/components/builder/Builder.tsx",
                        lineNumber: 480,
                        columnNumber: 21
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$View3D$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                        atoms: atoms,
                        bonds: bonds,
                        selectedElement: mode === 'build' ? selectedElement : null,
                        onEmptyClick: handleEmptyClick,
                        onAtomClick: handleAtomClick
                    }, void 0, false, {
                        fileName: "[project]/src/components/builder/Builder.tsx",
                        lineNumber: 527,
                        columnNumber: 17
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/components/builder/Builder.tsx",
                lineNumber: 402,
                columnNumber: 13
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/components/builder/Builder.tsx",
        lineNumber: 308,
        columnNumber: 9
    }, this);
}
}),
"[project]/src/app/dashboard/builder/page.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>BuilderPage
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$TopHeader$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/layout/TopHeader.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/builder/Builder.tsx [app-ssr] (ecmascript)");
'use client';
;
;
;
function BuilderPage() {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        style: {
            display: 'flex',
            flexDirection: 'column',
            height: '100%'
        },
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$layout$2f$TopHeader$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                title: "Molecular Builder",
                subtitle: "Design complex molecular chains with real-time stability simulation."
            }, void 0, false, {
                fileName: "[project]/src/app/dashboard/builder/page.tsx",
                lineNumber: 10,
                columnNumber: 13
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                style: {
                    flex: 1,
                    padding: '0 40px 40px'
                },
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$builder$2f$Builder$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {}, void 0, false, {
                    fileName: "[project]/src/app/dashboard/builder/page.tsx",
                    lineNumber: 12,
                    columnNumber: 17
                }, this)
            }, void 0, false, {
                fileName: "[project]/src/app/dashboard/builder/page.tsx",
                lineNumber: 11,
                columnNumber: 13
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/app/dashboard/builder/page.tsx",
        lineNumber: 9,
        columnNumber: 9
    }, this);
}
}),
];

//# sourceMappingURL=src_5676a8f9._.js.map