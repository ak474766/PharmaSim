{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/dashboard/clinical-trials/Trials.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"achieveIcon\": \"Trials-module__6vxRjW__achieveIcon\",\n  \"achieveInfo\": \"Trials-module__6vxRjW__achieveInfo\",\n  \"achieveLabel\": \"Trials-module__6vxRjW__achieveLabel\",\n  \"achieveSlide\": \"Trials-module__6vxRjW__achieveSlide\",\n  \"achieveTitle\": \"Trials-module__6vxRjW__achieveTitle\",\n  \"achievementUnlock\": \"Trials-module__6vxRjW__achievementUnlock\",\n  \"backBtn\": \"Trials-module__6vxRjW__backBtn\",\n  \"badge\": \"Trials-module__6vxRjW__badge\",\n  \"btnGhost\": \"Trials-module__6vxRjW__btnGhost\",\n  \"btnPrimary\": \"Trials-module__6vxRjW__btnPrimary\",\n  \"btnRetry\": \"Trials-module__6vxRjW__btnRetry\",\n  \"btnSecondary\": \"Trials-module__6vxRjW__btnSecondary\",\n  \"btnVictory\": \"Trials-module__6vxRjW__btnVictory\",\n  \"card\": \"Trials-module__6vxRjW__card\",\n  \"choiceBtn\": \"Trials-module__6vxRjW__choiceBtn\",\n  \"choiceEffect\": \"Trials-module__6vxRjW__choiceEffect\",\n  \"choiceText\": \"Trials-module__6vxRjW__choiceText\",\n  \"choices\": \"Trials-module__6vxRjW__choices\",\n  \"completed\": \"Trials-module__6vxRjW__completed\",\n  \"container\": \"Trials-module__6vxRjW__container\",\n  \"dashboardArea\": \"Trials-module__6vxRjW__dashboardArea\",\n  \"dashboardHeader\": \"Trials-module__6vxRjW__dashboardHeader\",\n  \"emptyActions\": \"Trials-module__6vxRjW__emptyActions\",\n  \"emptyIcon\": \"Trials-module__6vxRjW__emptyIcon\",\n  \"emptyState\": \"Trials-module__6vxRjW__emptyState\",\n  \"eventDesc\": \"Trials-module__6vxRjW__eventDesc\",\n  \"fadeIn\": \"Trials-module__6vxRjW__fadeIn\",\n  \"failed\": \"Trials-module__6vxRjW__failed\",\n  \"gameArea\": \"Trials-module__6vxRjW__gameArea\",\n  \"gameoverActions\": \"Trials-module__6vxRjW__gameoverActions\",\n  \"gameoverCard\": \"Trials-module__6vxRjW__gameoverCard\",\n  \"gameoverFadeIn\": \"Trials-module__6vxRjW__gameoverFadeIn\",\n  \"gameoverIcon\": \"Trials-module__6vxRjW__gameoverIcon\",\n  \"gameoverOverlay\": \"Trials-module__6vxRjW__gameoverOverlay\",\n  \"gameoverReason\": \"Trials-module__6vxRjW__gameoverReason\",\n  \"gameoverShake\": \"Trials-module__6vxRjW__gameoverShake\",\n  \"gameoverStat\": \"Trials-module__6vxRjW__gameoverStat\",\n  \"gameoverStatLabel\": \"Trials-module__6vxRjW__gameoverStatLabel\",\n  \"gameoverStatValue\": \"Trials-module__6vxRjW__gameoverStatValue\",\n  \"gameoverStats\": \"Trials-module__6vxRjW__gameoverStats\",\n  \"gameoverTip\": \"Trials-module__6vxRjW__gameoverTip\",\n  \"gameoverTitle\": \"Trials-module__6vxRjW__gameoverTitle\",\n  \"in_progress\": \"Trials-module__6vxRjW__in_progress\",\n  \"loadingState\": \"Trials-module__6vxRjW__loadingState\",\n  \"logConsole\": \"Trials-module__6vxRjW__logConsole\",\n  \"logItem\": \"Trials-module__6vxRjW__logItem\",\n  \"logList\": \"Trials-module__6vxRjW__logList\",\n  \"logTitle\": \"Trials-module__6vxRjW__logTitle\",\n  \"lossCard\": \"Trials-module__6vxRjW__lossCard\",\n  \"mainStage\": \"Trials-module__6vxRjW__mainStage\",\n  \"moleculeIcon\": \"Trials-module__6vxRjW__moleculeIcon\",\n  \"particleFall\": \"Trials-module__6vxRjW__particleFall\",\n  \"pending\": \"Trials-module__6vxRjW__pending\",\n  \"phaseActivities\": \"Trials-module__6vxRjW__phaseActivities\",\n  \"phaseBadge\": \"Trials-module__6vxRjW__phaseBadge\",\n  \"phaseContent\": \"Trials-module__6vxRjW__phaseContent\",\n  \"phaseDuration\": \"Trials-module__6vxRjW__phaseDuration\",\n  \"phaseItem\": \"Trials-module__6vxRjW__phaseItem\",\n  \"phaseNumber\": \"Trials-module__6vxRjW__phaseNumber\",\n  \"phaseRisk\": \"Trials-module__6vxRjW__phaseRisk\",\n  \"phasesTimeline\": \"Trials-module__6vxRjW__phasesTimeline\",\n  \"probBar\": \"Trials-module__6vxRjW__probBar\",\n  \"probFill\": \"Trials-module__6vxRjW__probFill\",\n  \"probValue\": \"Trials-module__6vxRjW__probValue\",\n  \"proceedBtn\": \"Trials-module__6vxRjW__proceedBtn\",\n  \"reason\": \"Trials-module__6vxRjW__reason\",\n  \"roadmapArea\": \"Trials-module__6vxRjW__roadmapArea\",\n  \"roadmapHeader\": \"Trials-module__6vxRjW__roadmapHeader\",\n  \"roadmapSummary\": \"Trials-module__6vxRjW__roadmapSummary\",\n  \"slideUp\": \"Trials-module__6vxRjW__slideUp\",\n  \"spin\": \"Trials-module__6vxRjW__spin\",\n  \"spinner\": \"Trials-module__6vxRjW__spinner\",\n  \"statBarContainer\": \"Trials-module__6vxRjW__statBarContainer\",\n  \"statBarFill\": \"Trials-module__6vxRjW__statBarFill\",\n  \"statItem\": \"Trials-module__6vxRjW__statItem\",\n  \"statLabel\": \"Trials-module__6vxRjW__statLabel\",\n  \"statValue\": \"Trials-module__6vxRjW__statValue\",\n  \"statValueSm\": \"Trials-module__6vxRjW__statValueSm\",\n  \"statsBar\": \"Trials-module__6vxRjW__statsBar\",\n  \"successProb\": \"Trials-module__6vxRjW__successProb\",\n  \"trialCard\": \"Trials-module__6vxRjW__trialCard\",\n  \"trialImage\": \"Trials-module__6vxRjW__trialImage\",\n  \"trialInfo\": \"Trials-module__6vxRjW__trialInfo\",\n  \"trialMission\": \"Trials-module__6vxRjW__trialMission\",\n  \"trialStats\": \"Trials-module__6vxRjW__trialStats\",\n  \"trialStatus\": \"Trials-module__6vxRjW__trialStatus\",\n  \"trialsGrid\": \"Trials-module__6vxRjW__trialsGrid\",\n  \"victoryActions\": \"Trials-module__6vxRjW__victoryActions\",\n  \"victoryBounce\": \"Trials-module__6vxRjW__victoryBounce\",\n  \"victoryCard\": \"Trials-module__6vxRjW__victoryCard\",\n  \"victoryCardPop\": \"Trials-module__6vxRjW__victoryCardPop\",\n  \"victoryFadeIn\": \"Trials-module__6vxRjW__victoryFadeIn\",\n  \"victoryIcon\": \"Trials-module__6vxRjW__victoryIcon\",\n  \"victoryOverlay\": \"Trials-module__6vxRjW__victoryOverlay\",\n  \"victoryParticle\": \"Trials-module__6vxRjW__victoryParticle\",\n  \"victoryParticles\": \"Trials-module__6vxRjW__victoryParticles\",\n  \"victoryStat\": \"Trials-module__6vxRjW__victoryStat\",\n  \"victoryStatLabel\": \"Trials-module__6vxRjW__victoryStatLabel\",\n  \"victoryStatValue\": \"Trials-module__6vxRjW__victoryStatValue\",\n  \"victoryStats\": \"Trials-module__6vxRjW__victoryStats\",\n  \"victorySubtitle\": \"Trials-module__6vxRjW__victorySubtitle\",\n  \"victoryTitle\": \"Trials-module__6vxRjW__victoryTitle\",\n  \"winCard\": \"Trials-module__6vxRjW__winCard\",\n  \"xpBadge\": \"Trials-module__6vxRjW__xpBadge\",\n  \"xpPulse\": \"Trials-module__6vxRjW__xpPulse\",\n  \"xpReward\": \"Trials-module__6vxRjW__xpReward\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/layout/TopHeader.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"actions\": \"TopHeader-module__TNE3sW__actions\",\n  \"header\": \"TopHeader-module__TNE3sW__header\",\n  \"iconBtn\": \"TopHeader-module__TNE3sW__iconBtn\",\n  \"primaryBtn\": \"TopHeader-module__TNE3sW__primaryBtn\",\n  \"subtitle\": \"TopHeader-module__TNE3sW__subtitle\",\n  \"title\": \"TopHeader-module__TNE3sW__title\",\n  \"titleSection\": \"TopHeader-module__TNE3sW__titleSection\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/PharmaSim/src/components/layout/TopHeader.tsx"],"sourcesContent":["\n'use client';\n\nimport styles from './TopHeader.module.css';\n\ninterface TopHeaderProps {\n    title?: string;\n    subtitle?: string;\n}\n\nexport default function TopHeader({ title = \"Research Lab Dashboard\", subtitle = \"Welcome back, researcher. Your next breakthrough awaits.\" }: TopHeaderProps) {\n    return (\n        <header className={styles.header}>\n            <div className={styles.titleSection}>\n                <h1 className={styles.title}>{title}</h1>\n                <p className={styles.subtitle}>{subtitle}</p>\n            </div>\n\n            <div className={styles.actions}>\n                <button className={styles.iconBtn}>\n                    ðŸ””\n                </button>\n                <button className={styles.primaryBtn}>\n                    <span>+</span> New Simulation\n                </button>\n            </div>\n        </header>\n    );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAFA;;;AASe,SAAS,UAAU,EAAE,QAAQ,wBAAwB,EAAE,WAAW,0DAA0D,EAAkB;IACzJ,qBACI,6LAAC;QAAO,WAAW,kKAAM,CAAC,MAAM;;0BAC5B,6LAAC;gBAAI,WAAW,kKAAM,CAAC,YAAY;;kCAC/B,6LAAC;wBAAG,WAAW,kKAAM,CAAC,KAAK;kCAAG;;;;;;kCAC9B,6LAAC;wBAAE,WAAW,kKAAM,CAAC,QAAQ;kCAAG;;;;;;;;;;;;0BAGpC,6LAAC;gBAAI,WAAW,kKAAM,CAAC,OAAO;;kCAC1B,6LAAC;wBAAO,WAAW,kKAAM,CAAC,OAAO;kCAAE;;;;;;kCAGnC,6LAAC;wBAAO,WAAW,kKAAM,CAAC,UAAU;;0CAChC,6LAAC;0CAAK;;;;;;4BAAQ;;;;;;;;;;;;;;;;;;;AAKlC;KAlBwB"}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/PharmaSim/src/lib/syllabusData.ts"],"sourcesContent":["\nexport interface AtomTemplate {\n    id: number;\n    element: string;\n    position: [number, number, number];\n}\n\nexport interface BondTemplate {\n    source: number;\n    target: number;\n    order: number; // 1 = single, 2 = double, 3 = triple\n}\n\nexport interface MoleculeTemplate {\n    name: string;\n    description: string;\n    atoms: AtomTemplate[];\n    bonds: BondTemplate[];\n}\n\nexport interface SyllabusLevel {\n    level: number;\n    semester: string;\n    title: string;\n    description: string;\n    moleculeTemplate: MoleculeTemplate;\n    quizTopic: string;\n    learningObjective: string;\n}\n\n// ==================== MOLECULE TEMPLATES ====================\n// All molecules now include hydrogen atoms and proper bond orders\n\nconst PARACETAMOL_TEMPLATE: MoleculeTemplate = {\n    name: 'Paracetamol',\n    description: 'C8H9NO2 - Benzene ring + Hydroxyl + Acetamide group.',\n    atoms: [\n        // Benzene ring\n        { id: 1, element: 'C', position: [0, 0, 0] },\n        { id: 2, element: 'C', position: [1.4, 0, 0] },\n        { id: 3, element: 'C', position: [2.1, 1.2, 0] },\n        { id: 4, element: 'C', position: [1.4, 2.4, 0] },\n        { id: 5, element: 'C', position: [0, 2.4, 0] },\n        { id: 6, element: 'C', position: [-0.7, 1.2, 0] },\n        // Functional groups\n        { id: 7, element: 'O', position: [2.1, -1.2, 0] },  // Hydroxyl O\n        { id: 8, element: 'H', position: [3.0, -1.4, 0] },  // Hydroxyl H\n        { id: 9, element: 'N', position: [-2.1, 1.2, 0] },  // Amide N\n        { id: 10, element: 'H', position: [-2.5, 2.1, 0] }, // Amide H\n        { id: 11, element: 'C', position: [-3.0, 0, 0] },   // Acetyl C\n        { id: 12, element: 'O', position: [-3.5, -1.0, 0] }, // Carbonyl O\n        { id: 13, element: 'C', position: [-4.2, 0.8, 0] },  // Methyl C\n        // Ring hydrogens\n        { id: 14, element: 'H', position: [3.1, 1.2, 0] },\n        { id: 15, element: 'H', position: [2.0, 3.3, 0] },\n        { id: 16, element: 'H', position: [-0.6, 3.3, 0] },\n        // Methyl hydrogens\n        { id: 17, element: 'H', position: [-4.8, 0.0, 0] },\n        { id: 18, element: 'H', position: [-4.8, 1.3, 0] },\n        { id: 19, element: 'H', position: [-3.8, 1.6, 0] },\n    ],\n    bonds: [\n        // Benzene ring (alternating double bonds for resonance)\n        { source: 1, target: 2, order: 2 },\n        { source: 2, target: 3, order: 1 },\n        { source: 3, target: 4, order: 2 },\n        { source: 4, target: 5, order: 1 },\n        { source: 5, target: 6, order: 2 },\n        { source: 6, target: 1, order: 1 },\n        // Hydroxyl group\n        { source: 2, target: 7, order: 1 },\n        { source: 7, target: 8, order: 1 },\n        // Acetamide group\n        { source: 6, target: 9, order: 1 },\n        { source: 9, target: 10, order: 1 },\n        { source: 9, target: 11, order: 1 },\n        { source: 11, target: 12, order: 2 },\n        { source: 11, target: 13, order: 1 },\n        // Ring hydrogens\n        { source: 3, target: 14, order: 1 },\n        { source: 4, target: 15, order: 1 },\n        { source: 5, target: 16, order: 1 },\n        // Methyl hydrogens\n        { source: 13, target: 17, order: 1 },\n        { source: 13, target: 18, order: 1 },\n        { source: 13, target: 19, order: 1 },\n    ]\n};\n\nconst ASPIRIN_TEMPLATE: MoleculeTemplate = {\n    name: 'Aspirin',\n    description: 'C9H8O4 - Acetylsalicylic Acid.',\n    atoms: [\n        // Benzene ring\n        { id: 1, element: 'C', position: [0, 0, 0] },\n        { id: 2, element: 'C', position: [1.4, 0, 0] },\n        { id: 3, element: 'C', position: [2.1, 1.2, 0] },\n        { id: 4, element: 'C', position: [1.4, 2.4, 0] },\n        { id: 5, element: 'C', position: [0, 2.4, 0] },\n        { id: 6, element: 'C', position: [-0.7, 1.2, 0] },\n        // Carboxylic acid\n        { id: 7, element: 'C', position: [2.8, -1.2, 0] },\n        { id: 8, element: 'O', position: [4.0, -0.8, 0] },  // =O\n        { id: 9, element: 'O', position: [2.4, -2.4, 0] },  // -OH\n        { id: 10, element: 'H', position: [3.2, -2.8, 0] }, // COOH H\n        // Ester group\n        { id: 11, element: 'O', position: [-2.0, 1.2, 0] },\n        { id: 12, element: 'C', position: [-3.0, 0.4, 0] },  // Acetyl C\n        { id: 13, element: 'O', position: [-3.5, -0.6, 0] }, // =O\n        { id: 14, element: 'C', position: [-4.0, 1.4, 0] },  // CH3\n        // Ring hydrogens\n        { id: 15, element: 'H', position: [0, -0.9, 0] },\n        { id: 16, element: 'H', position: [3.1, 1.2, 0] },\n        { id: 17, element: 'H', position: [2.0, 3.3, 0] },\n        { id: 18, element: 'H', position: [-0.6, 3.3, 0] },\n        // Methyl hydrogens\n        { id: 19, element: 'H', position: [-4.6, 0.8, 0] },\n        { id: 20, element: 'H', position: [-4.6, 2.0, 0] },\n        { id: 21, element: 'H', position: [-3.4, 2.2, 0] },\n    ],\n    bonds: [\n        // Benzene ring\n        { source: 1, target: 2, order: 2 },\n        { source: 2, target: 3, order: 1 },\n        { source: 3, target: 4, order: 2 },\n        { source: 4, target: 5, order: 1 },\n        { source: 5, target: 6, order: 2 },\n        { source: 6, target: 1, order: 1 },\n        // Carboxylic acid\n        { source: 2, target: 7, order: 1 },\n        { source: 7, target: 8, order: 2 },\n        { source: 7, target: 9, order: 1 },\n        { source: 9, target: 10, order: 1 },\n        // Ester group\n        { source: 6, target: 11, order: 1 },\n        { source: 11, target: 12, order: 1 },\n        { source: 12, target: 13, order: 2 },\n        { source: 12, target: 14, order: 1 },\n        // Ring hydrogens\n        { source: 1, target: 15, order: 1 },\n        { source: 3, target: 16, order: 1 },\n        { source: 4, target: 17, order: 1 },\n        { source: 5, target: 18, order: 1 },\n        // Methyl hydrogens\n        { source: 14, target: 19, order: 1 },\n        { source: 14, target: 20, order: 1 },\n        { source: 14, target: 21, order: 1 },\n    ]\n};\n\nconst BENZENE_TEMPLATE: MoleculeTemplate = {\n    name: 'Benzene',\n    description: 'C6H6 - The fundamental aromatic ring with delocalized electrons.',\n    atoms: [\n        { id: 1, element: 'C', position: [0, 1.4, 0] },\n        { id: 2, element: 'C', position: [1.2, 0.7, 0] },\n        { id: 3, element: 'C', position: [1.2, -0.7, 0] },\n        { id: 4, element: 'C', position: [0, -1.4, 0] },\n        { id: 5, element: 'C', position: [-1.2, -0.7, 0] },\n        { id: 6, element: 'C', position: [-1.2, 0.7, 0] },\n        // All hydrogens\n        { id: 7, element: 'H', position: [0, 2.4, 0] },\n        { id: 8, element: 'H', position: [2.1, 1.2, 0] },\n        { id: 9, element: 'H', position: [2.1, -1.2, 0] },\n        { id: 10, element: 'H', position: [0, -2.4, 0] },\n        { id: 11, element: 'H', position: [-2.1, -1.2, 0] },\n        { id: 12, element: 'H', position: [-2.1, 1.2, 0] },\n    ],\n    bonds: [\n        // Alternating double bonds (resonance structure)\n        { source: 1, target: 2, order: 2 },\n        { source: 2, target: 3, order: 1 },\n        { source: 3, target: 4, order: 2 },\n        { source: 4, target: 5, order: 1 },\n        { source: 5, target: 6, order: 2 },\n        { source: 6, target: 1, order: 1 },\n        // C-H bonds\n        { source: 1, target: 7, order: 1 },\n        { source: 2, target: 8, order: 1 },\n        { source: 3, target: 9, order: 1 },\n        { source: 4, target: 10, order: 1 },\n        { source: 5, target: 11, order: 1 },\n        { source: 6, target: 12, order: 1 },\n    ]\n};\n\nconst IBUPROFEN_TEMPLATE: MoleculeTemplate = {\n    name: 'Ibuprofen',\n    description: 'C13H18O2 - Propionic acid derivative NSAID.',\n    atoms: [\n        // Benzene ring\n        { id: 1, element: 'C', position: [0, 0, 0] },\n        { id: 2, element: 'C', position: [1.4, 0, 0] },\n        { id: 3, element: 'C', position: [2.1, 1.2, 0] },\n        { id: 4, element: 'C', position: [1.4, 2.4, 0] },\n        { id: 5, element: 'C', position: [0, 2.4, 0] },\n        { id: 6, element: 'C', position: [-0.7, 1.2, 0] },\n        // Propionic acid chain\n        { id: 7, element: 'C', position: [3.5, 1.2, 0] },  // CH\n        { id: 8, element: 'C', position: [4.2, 0.2, 0] },  // CH3\n        { id: 9, element: 'C', position: [4.2, 2.4, 0] },  // COOH\n        { id: 10, element: 'O', position: [5.4, 2.2, 0] }, // =O\n        { id: 11, element: 'O', position: [3.8, 3.6, 0] }, // -OH\n        { id: 12, element: 'H', position: [4.5, 4.0, 0] }, // -OH H\n        // Isobutyl group\n        { id: 13, element: 'C', position: [-2.1, 1.2, 0] }, // CH2\n        { id: 14, element: 'C', position: [-3.0, 0.0, 0] }, // CH\n        { id: 15, element: 'C', position: [-4.4, 0.2, 0] }, // CH3\n        { id: 16, element: 'C', position: [-2.6, -1.4, 0] }, // CH3\n        // Key hydrogens\n        { id: 17, element: 'H', position: [0, -0.9, 0] },\n        { id: 18, element: 'H', position: [2.0, -0.9, 0] },\n        { id: 19, element: 'H', position: [2.0, 3.3, 0] },\n        { id: 20, element: 'H', position: [-0.6, 3.3, 0] },\n    ],\n    bonds: [\n        // Benzene ring\n        { source: 1, target: 2, order: 2 },\n        { source: 2, target: 3, order: 1 },\n        { source: 3, target: 4, order: 2 },\n        { source: 4, target: 5, order: 1 },\n        { source: 5, target: 6, order: 2 },\n        { source: 6, target: 1, order: 1 },\n        // Propionic acid\n        { source: 3, target: 7, order: 1 },\n        { source: 7, target: 8, order: 1 },\n        { source: 7, target: 9, order: 1 },\n        { source: 9, target: 10, order: 2 },\n        { source: 9, target: 11, order: 1 },\n        { source: 11, target: 12, order: 1 },\n        // Isobutyl\n        { source: 6, target: 13, order: 1 },\n        { source: 13, target: 14, order: 1 },\n        { source: 14, target: 15, order: 1 },\n        { source: 14, target: 16, order: 1 },\n        // Ring H\n        { source: 1, target: 17, order: 1 },\n        { source: 2, target: 18, order: 1 },\n        { source: 4, target: 19, order: 1 },\n        { source: 5, target: 20, order: 1 },\n    ]\n};\n\nconst PENICILLIN_TEMPLATE: MoleculeTemplate = {\n    name: 'Penicillin G Core',\n    description: 'Beta-lactam + Thiazolidine ring system.',\n    atoms: [\n        // Beta-lactam ring (4-membered)\n        { id: 1, element: 'C', position: [0, 0, 0] },\n        { id: 2, element: 'N', position: [1.2, 0.5, 0] },\n        { id: 3, element: 'C', position: [1.2, 1.8, 0] },\n        { id: 4, element: 'C', position: [0, 1.3, 0] },\n        { id: 5, element: 'O', position: [2.2, 2.5, 0] }, // Carbonyl =O\n        // Thiazolidine ring (5-membered)\n        { id: 6, element: 'S', position: [-1.2, 0.5, 0] },\n        { id: 7, element: 'C', position: [-1.2, 2.0, 0] },\n        { id: 8, element: 'C', position: [-2.4, 2.8, 0] }, // COOH\n        { id: 9, element: 'O', position: [-3.4, 2.2, 0] }, // =O\n        { id: 10, element: 'O', position: [-2.4, 4.0, 0] }, // -OH\n        { id: 11, element: 'H', position: [-3.2, 4.4, 0] },\n        // Methyl groups on thiazolidine\n        { id: 12, element: 'C', position: [-2.0, 3.0, 1.0] },\n        { id: 13, element: 'C', position: [-2.0, 3.0, -1.0] },\n        // Amide side chain\n        { id: 14, element: 'C', position: [2.4, -0.2, 0] }, // C=O\n        { id: 15, element: 'O', position: [2.8, -1.3, 0] },\n        { id: 16, element: 'H', position: [2.8, 0.6, 0] },\n    ],\n    bonds: [\n        // Beta-lactam ring\n        { source: 1, target: 2, order: 1 },\n        { source: 2, target: 3, order: 1 },\n        { source: 3, target: 4, order: 1 },\n        { source: 4, target: 1, order: 1 },\n        { source: 3, target: 5, order: 2 },\n        // Thiazolidine\n        { source: 4, target: 6, order: 1 },\n        { source: 6, target: 7, order: 1 },\n        { source: 7, target: 4, order: 1 },\n        { source: 7, target: 8, order: 1 },\n        { source: 8, target: 9, order: 2 },\n        { source: 8, target: 10, order: 1 },\n        { source: 10, target: 11, order: 1 },\n        // Methyl\n        { source: 7, target: 12, order: 1 },\n        { source: 7, target: 13, order: 1 },\n        // Side chain\n        { source: 2, target: 14, order: 1 },\n        { source: 14, target: 15, order: 2 },\n        { source: 14, target: 16, order: 1 },\n    ]\n};\n\nconst MORPHINE_TEMPLATE: MoleculeTemplate = {\n    name: 'Morphine Core',\n    description: 'C17H19NO3 - Phenanthrene backbone with key functional groups.',\n    atoms: [\n        // Ring A (aromatic)\n        { id: 1, element: 'C', position: [0, 0, 0] },\n        { id: 2, element: 'C', position: [1.4, 0, 0] },\n        { id: 3, element: 'C', position: [2.1, 1.2, 0] },\n        { id: 4, element: 'C', position: [1.4, 2.4, 0] },\n        { id: 5, element: 'C', position: [0, 2.4, 0] },\n        { id: 6, element: 'C', position: [-0.7, 1.2, 0] },\n        // Phenolic OH\n        { id: 7, element: 'O', position: [-2.0, 1.2, 0] },\n        { id: 8, element: 'H', position: [-2.5, 0.5, 0] },\n        // Ether oxygen bridge\n        { id: 9, element: 'O', position: [3.4, 1.2, 0] },\n        // Ring B carbon\n        { id: 10, element: 'C', position: [3.8, 2.4, 0] },\n        // Tertiary amine nitrogen\n        { id: 11, element: 'N', position: [0, 3.8, 1.0] },\n        { id: 12, element: 'C', position: [-1.2, 4.4, 1.2] }, // N-CH3\n        // Allylic OH\n        { id: 13, element: 'C', position: [2.8, 3.4, 0.5] },\n        { id: 14, element: 'O', position: [3.2, 4.6, 0.8] },\n        { id: 15, element: 'H', position: [4.0, 4.8, 0.5] },\n    ],\n    bonds: [\n        // Aromatic ring\n        { source: 1, target: 2, order: 2 },\n        { source: 2, target: 3, order: 1 },\n        { source: 3, target: 4, order: 2 },\n        { source: 4, target: 5, order: 1 },\n        { source: 5, target: 6, order: 2 },\n        { source: 6, target: 1, order: 1 },\n        // Phenol\n        { source: 6, target: 7, order: 1 },\n        { source: 7, target: 8, order: 1 },\n        // Ether bridge\n        { source: 3, target: 9, order: 1 },\n        { source: 9, target: 10, order: 1 },\n        // Tertiary amine\n        { source: 5, target: 11, order: 1 },\n        { source: 11, target: 12, order: 1 },\n        // Alcohol\n        { source: 4, target: 13, order: 1 },\n        { source: 13, target: 14, order: 1 },\n        { source: 14, target: 15, order: 1 },\n    ]\n};\n\nconst LIPOSOME_TEMPLATE: MoleculeTemplate = {\n    name: 'Phospholipid',\n    description: 'Phosphatidylcholine - key component of liposomal delivery.',\n    atoms: [\n        // Phosphate head\n        { id: 1, element: 'P', position: [0, 3, 0] },\n        { id: 2, element: 'O', position: [0.8, 3.8, 0] },  // P=O\n        { id: 3, element: 'O', position: [-0.8, 3.8, 0] }, // P-O-\n        { id: 4, element: 'O', position: [0, 2, 0] },      // Ester O\n        // Glycerol backbone\n        { id: 5, element: 'C', position: [0, 1, 0] },\n        { id: 6, element: 'C', position: [1.2, 0.5, 0] },\n        { id: 7, element: 'C', position: [-1.2, 0.5, 0] },\n        // Fatty acid tails\n        { id: 8, element: 'O', position: [2.0, 1.2, 0] },  // Ester O\n        { id: 9, element: 'C', position: [3.0, 0.8, 0] },  // C=O\n        { id: 10, element: 'O', position: [3.5, 1.6, 0] }, // =O\n        { id: 11, element: 'C', position: [3.5, -0.4, 0] }, // Chain start\n        { id: 12, element: 'C', position: [4.0, -1.6, 0] },\n        { id: 13, element: 'C', position: [4.5, -2.8, 0] },\n        // Second tail\n        { id: 14, element: 'O', position: [-2.0, 1.2, 0] },\n        { id: 15, element: 'C', position: [-3.0, 0.8, 0] },\n        { id: 16, element: 'O', position: [-3.5, 1.6, 0] },\n        { id: 17, element: 'C', position: [-3.5, -0.4, 0] },\n        { id: 18, element: 'C', position: [-4.0, -1.6, 0] },\n        { id: 19, element: 'C', position: [-4.5, -2.8, 0] },\n        // Choline head\n        { id: 20, element: 'N', position: [0, 5, 0] },\n    ],\n    bonds: [\n        // Phosphate\n        { source: 1, target: 2, order: 2 },\n        { source: 1, target: 3, order: 1 },\n        { source: 1, target: 4, order: 1 },\n        { source: 4, target: 5, order: 1 },\n        // Glycerol\n        { source: 5, target: 6, order: 1 },\n        { source: 5, target: 7, order: 1 },\n        // Tail 1\n        { source: 6, target: 8, order: 1 },\n        { source: 8, target: 9, order: 1 },\n        { source: 9, target: 10, order: 2 },\n        { source: 9, target: 11, order: 1 },\n        { source: 11, target: 12, order: 1 },\n        { source: 12, target: 13, order: 1 },\n        // Tail 2\n        { source: 7, target: 14, order: 1 },\n        { source: 14, target: 15, order: 1 },\n        { source: 15, target: 16, order: 2 },\n        { source: 15, target: 17, order: 1 },\n        { source: 17, target: 18, order: 1 },\n        { source: 18, target: 19, order: 1 },\n        // Choline\n        { source: 3, target: 20, order: 1 },\n    ]\n};\n\nconst CANDIDATE_X_TEMPLATE: MoleculeTemplate = {\n    name: 'Candidate-X',\n    description: 'Novel Fluorinated Oncology Drug for Clinical Trial.',\n    atoms: [\n        // Core structure\n        { id: 1, element: 'C', position: [0, 0, 0] },\n        { id: 2, element: 'C', position: [1.4, 0, 0] },\n        { id: 3, element: 'N', position: [2.1, 1.0, 0] },\n        { id: 4, element: 'C', position: [3.4, 1.2, 0] },\n        { id: 5, element: 'O', position: [4.0, 2.2, 0] },\n        // Fluorine substituents (for enhanced activity)\n        { id: 6, element: 'F', position: [-1.0, 0.8, 0] },\n        { id: 7, element: 'F', position: [-1.0, -0.8, 0] },\n        // Additional ring\n        { id: 8, element: 'C', position: [4.0, 0, 0] },\n        { id: 9, element: 'C', position: [5.2, 0.5, 0] },\n        { id: 10, element: 'N', position: [5.8, -0.5, 0] },\n        // Hydrogens\n        { id: 11, element: 'H', position: [0, -0.9, 0] },\n        { id: 12, element: 'H', position: [1.8, -0.9, 0] },\n        { id: 13, element: 'H', position: [1.8, 1.8, 0] },\n        { id: 14, element: 'H', position: [3.8, -0.9, 0] },\n        { id: 15, element: 'H', position: [6.8, -0.5, 0] },\n    ],\n    bonds: [\n        // Core\n        { source: 1, target: 2, order: 2 },\n        { source: 2, target: 3, order: 1 },\n        { source: 3, target: 4, order: 1 },\n        { source: 4, target: 5, order: 2 },\n        // Fluorines\n        { source: 1, target: 6, order: 1 },\n        { source: 1, target: 7, order: 1 },\n        // Ring extension\n        { source: 4, target: 8, order: 1 },\n        { source: 8, target: 9, order: 2 },\n        { source: 9, target: 10, order: 1 },\n        // Hydrogens\n        { source: 2, target: 11, order: 1 },\n        { source: 2, target: 12, order: 1 },\n        { source: 3, target: 13, order: 1 },\n        { source: 8, target: 14, order: 1 },\n        { source: 10, target: 15, order: 1 },\n    ]\n};\n\n// ==================== SYLLABUS LEVELS ====================\n\nexport const SYLLABUS_DATA: SyllabusLevel[] = [\n    {\n        level: 1,\n        semester: 'Sem 1',\n        title: 'Pharm. Analysis',\n        description: 'Synthesize Paracetamol and verify its structural purity.',\n        moleculeTemplate: PARACETAMOL_TEMPLATE,\n        quizTopic: 'chemistry',\n        learningObjective: 'Understand basic aromatic substitution and purity analysis.'\n    },\n    {\n        level: 2,\n        semester: 'Sem 2',\n        title: 'Organic Chemistry I',\n        description: 'Synthesize Aspirin and modify the ester group for stability.',\n        moleculeTemplate: ASPIRIN_TEMPLATE,\n        quizTopic: 'chemistry',\n        learningObjective: 'Master esterification reactions.'\n    },\n    {\n        level: 3,\n        semester: 'Sem 3',\n        title: 'Organic Chemistry II',\n        description: 'Analyze Benzene stability and aromatic resonance.',\n        moleculeTemplate: BENZENE_TEMPLATE,\n        quizTopic: 'chemistry',\n        learningObjective: 'Understand aromaticity and resonance energy.'\n    },\n    {\n        level: 4,\n        semester: 'Sem 4',\n        title: 'Med. Chem I',\n        description: 'Optimize Ibuprofen side-chains for better receptor binding.',\n        moleculeTemplate: IBUPROFEN_TEMPLATE,\n        quizTopic: 'pharmacology',\n        learningObjective: 'Chirality and Structure-Activity Relationship (SAR).'\n    },\n    {\n        level: 5,\n        semester: 'Sem 5',\n        title: 'Pharmacology',\n        description: 'Propose Penicillin modifications to fight bacterial resistance.',\n        moleculeTemplate: PENICILLIN_TEMPLATE,\n        quizTopic: 'pharmacology',\n        learningObjective: 'Antibiotic mechanisms and resistance.'\n    },\n    {\n        level: 6,\n        semester: 'Sem 6',\n        title: 'Herbal Tech',\n        description: 'Perform extraction analysis on Morphine alkaloids.',\n        moleculeTemplate: MORPHINE_TEMPLATE,\n        quizTopic: 'kinetics',\n        learningObjective: 'Extraction techniques and alkaloid chemistry.'\n    },\n    {\n        level: 7,\n        semester: 'Sem 7',\n        title: 'NDDS',\n        description: 'Design a Liposomal delivery system for targeted therapy.',\n        moleculeTemplate: LIPOSOME_TEMPLATE,\n        quizTopic: 'kinetics',\n        learningObjective: 'Novel Drug Delivery Systems.'\n    },\n    {\n        level: 8,\n        semester: 'Sem 8',\n        title: 'Clinical Research',\n        description: 'Guide Candidate-X through a complete Phase I-III Clinical Trial.',\n        moleculeTemplate: CANDIDATE_X_TEMPLATE,\n        quizTopic: 'regulatory',\n        learningObjective: 'Complete IND/NDA process.'\n    }\n];\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2361, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/PharmaSim/src/lib/quizData.ts"],"sourcesContent":["\nexport type QuizTopic = 'kinetics' | 'regulatory' | 'pharmacology' | 'chemistry';\n\nexport interface Question {\n    id: string;\n    topic: QuizTopic;\n    difficulty: 1 | 2 | 3 | 4 | 5;\n    level?: number; // Target Semester Level\n    text: string;\n    options: string[];\n    correctIndex: number;\n    explanation: string;\n}\n\nexport const QUESTION_BANK: Question[] = [\n    // --- LEVEL 1: Pharm Analysis ---\n    {\n        id: 'L1_1',\n        topic: 'chemistry',\n        difficulty: 1,\n        level: 1,\n        text: 'What is the primary purpose of titration in pharmaceutical analysis?',\n        options: ['To synthesize drugs', 'To determine concentration', 'To measure temperature', 'To break bonds'],\n        correctIndex: 1,\n        explanation: 'Titration is a quantitative technique used to determine the concentration of an analyte.'\n    },\n    {\n        id: 'L1_2',\n        topic: 'chemistry',\n        difficulty: 2,\n        level: 1,\n        text: 'Which indicator is commonly used in acid-base titrations involving strong acid and strong base?',\n        options: ['Starch', 'Phenolphthalein', 'Eriochrome Black T', 'Ferroin'],\n        correctIndex: 1,\n        explanation: 'Phenolphthalein is standard for strong acid-base titrations, changing color around pH 8-10.'\n    },\n\n    // --- LEVEL 2: Organic Chem I ---\n    {\n        id: 'L2_1',\n        topic: 'chemistry',\n        difficulty: 2,\n        level: 2,\n        text: 'What is the product of the reaction between Salicylic acid and Acetic anhydride?',\n        options: ['Paracetamol', 'Ibuprofen', 'Aspirin', 'Benzoic Acid'],\n        correctIndex: 2,\n        explanation: 'Aspirin (Acetylsalicylic acid) is formed by acetylation of Salicylic acid.'\n    },\n\n    // --- LEVEL 3: Organic Chem II ---\n    {\n        id: 'L3_1',\n        topic: 'chemistry',\n        difficulty: 3,\n        level: 3,\n        text: 'Why is Benzene more stable than expected for a cyclic triene?',\n        options: ['High Reactivity', 'Resonance Energy', 'Weak Bonds', 'Octet Rule violation'],\n        correctIndex: 1,\n        explanation: 'Delocalization of pi-electrons (Resonance) confers extra stability to the aromatic ring.'\n    },\n\n    // --- LEVEL 4: Med Chem I ---\n    {\n        id: 'L4_1',\n        topic: 'pharmacology',\n        difficulty: 3,\n        level: 4,\n        text: 'Which term describes the relationship between chemical structure and biological activity?',\n        options: ['SAR', 'NMR', 'HPLC', 'TLC'],\n        correctIndex: 0,\n        explanation: 'Structure-Activity Relationship (SAR) studies how structural changes affect potency and efficacy.'\n    },\n\n    // --- LEVEL 5: Pharmacology ---\n    {\n        id: 'L5_1',\n        topic: 'pharmacology',\n        difficulty: 4,\n        level: 5,\n        text: 'Beta-lactam antibiotics (like Penicillin) work by inhibiting:',\n        options: ['Protein synthesis', 'Cell wall synthesis', 'DNA replication', 'Folic acid synthesis'],\n        correctIndex: 1,\n        explanation: 'They inhibit penicillin-binding proteins (PBPs), preventing bacterial cell wall cross-linking.'\n    },\n\n    // --- LEVEL 6: Herbal Tech ---\n    {\n        id: 'L6_1',\n        topic: 'kinetics',\n        difficulty: 3,\n        level: 6,\n        text: 'Which extraction method is best for heat-sensitive volatile oils?',\n        options: ['Soxhlet', 'Steam Distillation', 'Maceration', 'Cold Expression'],\n        correctIndex: 3,\n        explanation: 'Cold expression is used for citrus oils to avoid thermal degradation.'\n    },\n\n    // --- LEVEL 7: NDDS ---\n    {\n        id: 'L7_1',\n        topic: 'kinetics',\n        difficulty: 4,\n        level: 7,\n        text: 'Liposomes are primarily chemically composed of:',\n        options: ['Proteins', 'Phospholipids', 'Carbohydrates', 'Metals'],\n        correctIndex: 1,\n        explanation: 'Liposomes are spherical vesicles formed by a lipid bilayer of phospholipids.'\n    },\n\n    // --- LEVEL 8: Clinical Research ---\n    {\n        id: 'L8_1', // Previous R1_easy\n        topic: 'regulatory',\n        difficulty: 1,\n        level: 8,\n        text: 'Which agency is responsible for drug approval in the USA?',\n        options: ['EMA', 'WHO', 'FDA', 'CDC'],\n        correctIndex: 2,\n        explanation: 'The FDA (Food and Drug Administration) regulates drug approval in the US.'\n    },\n    {\n        id: 'L8_2', // Previous R2_med\n        topic: 'regulatory',\n        difficulty: 3,\n        level: 8,\n        text: 'What application is submitted to start clinical trials in humans?',\n        options: ['NDA', 'IND', 'ANDA', 'BLA'],\n        correctIndex: 1,\n        explanation: 'An IND (Investigational New Drug) application is required before Phase I trials.'\n    },\n    {\n        id: 'L8_3',\n        topic: 'regulatory',\n        difficulty: 5,\n        level: 8,\n        text: 'Phase IV clinical trials are also known as:',\n        options: ['Dose ranging', 'Therapeutic confirmation', 'Post-marketing surveillance', 'Safety screening'],\n        correctIndex: 2,\n        explanation: 'Phase IV occurs after approval to monitor long-term safety in the general population.'\n    }\n];\n\nexport const getQuestionsForLevel = (level: number, count = 5): Question[] => {\n    // Filter by level (strict)\n    let pool = QUESTION_BANK.filter(q => q.level === level);\n\n    // If not enough level-specific questions, fallback to same topic\n    if (pool.length < count) {\n        // Find topic for this level (hacky lookup, ideally store map)\n        const sample = pool[0];\n        if (sample) {\n            const more = QUESTION_BANK.filter(q => q.topic === sample.topic && !q.level);\n            pool = [...pool, ...more];\n        }\n    }\n\n    // Shuffle and slice\n    return pool.sort(() => 0.5 - Math.random()).slice(0, count);\n};\n"],"names":[],"mappings":";;;;;;AAcO,MAAM,gBAA4B;IACrC,kCAAkC;IAClC;QACI,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,OAAO;QACP,MAAM;QACN,SAAS;YAAC;YAAuB;YAA8B;YAA0B;SAAiB;QAC1G,cAAc;QACd,aAAa;IACjB;IACA;QACI,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,OAAO;QACP,MAAM;QACN,SAAS;YAAC;YAAU;YAAmB;YAAsB;SAAU;QACvE,cAAc;QACd,aAAa;IACjB;IAEA,kCAAkC;IAClC;QACI,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,OAAO;QACP,MAAM;QACN,SAAS;YAAC;YAAe;YAAa;YAAW;SAAe;QAChE,cAAc;QACd,aAAa;IACjB;IAEA,mCAAmC;IACnC;QACI,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,OAAO;QACP,MAAM;QACN,SAAS;YAAC;YAAmB;YAAoB;YAAc;SAAuB;QACtF,cAAc;QACd,aAAa;IACjB;IAEA,8BAA8B;IAC9B;QACI,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,OAAO;QACP,MAAM;QACN,SAAS;YAAC;YAAO;YAAO;YAAQ;SAAM;QACtC,cAAc;QACd,aAAa;IACjB;IAEA,gCAAgC;IAChC;QACI,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,OAAO;QACP,MAAM;QACN,SAAS;YAAC;YAAqB;YAAuB;YAAmB;SAAuB;QAChG,cAAc;QACd,aAAa;IACjB;IAEA,+BAA+B;IAC/B;QACI,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,OAAO;QACP,MAAM;QACN,SAAS;YAAC;YAAW;YAAsB;YAAc;SAAkB;QAC3E,cAAc;QACd,aAAa;IACjB;IAEA,wBAAwB;IACxB;QACI,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,OAAO;QACP,MAAM;QACN,SAAS;YAAC;YAAY;YAAiB;YAAiB;SAAS;QACjE,cAAc;QACd,aAAa;IACjB;IAEA,qCAAqC;IACrC;QACI,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,OAAO;QACP,MAAM;QACN,SAAS;YAAC;YAAO;YAAO;YAAO;SAAM;QACrC,cAAc;QACd,aAAa;IACjB;IACA;QACI,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,OAAO;QACP,MAAM;QACN,SAAS;YAAC;YAAO;YAAO;YAAQ;SAAM;QACtC,cAAc;QACd,aAAa;IACjB;IACA;QACI,IAAI;QACJ,OAAO;QACP,YAAY;QACZ,OAAO;QACP,MAAM;QACN,SAAS;YAAC;YAAgB;YAA4B;YAA+B;SAAmB;QACxG,cAAc;QACd,aAAa;IACjB;CACH;AAEM,MAAM,uBAAuB,CAAC,OAAe,QAAQ,CAAC;IACzD,2BAA2B;IAC3B,IAAI,OAAO,cAAc,MAAM,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK;IAEjD,iEAAiE;IACjE,IAAI,KAAK,MAAM,GAAG,OAAO;QACrB,8DAA8D;QAC9D,MAAM,SAAS,IAAI,CAAC,EAAE;QACtB,IAAI,QAAQ;YACR,MAAM,OAAO,cAAc,MAAM,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK,OAAO,KAAK,IAAI,CAAC,EAAE,KAAK;YAC3E,OAAO;mBAAI;mBAAS;aAAK;QAC7B;IACJ;IAEA,oBAAoB;IACpB,OAAO,KAAK,IAAI,CAAC,IAAM,MAAM,KAAK,MAAM,IAAI,KAAK,CAAC,GAAG;AACzD"}},
    {"offset": {"line": 2567, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/PharmaSim/src/lib/trialService.ts"],"sourcesContent":["/**\n * Trial Service - Manages clinical trial submissions in Firebase\n * Stores trial data including AI-generated roadmaps persistently\n */\n\nimport { db } from './firebase';\nimport { doc, getDoc, setDoc, updateDoc, collection, query, where, getDocs, deleteDoc } from 'firebase/firestore';\n\nexport interface TrialPhaseData {\n    name: string;\n    duration: string;\n    description: string;\n    keyActivities: string[];\n    risks: string;\n}\n\nexport interface RoadmapData {\n    summary: string;\n    phases: TrialPhaseData[];\n    successProbability: number;\n    generatedAt: number;\n}\n\n// Exported types for shared usage across components\nexport interface CachedTrialEvent {\n    phaseIndex?: number;\n    title: string;\n    description: string;\n    choices: Array<{\n        text: string;\n        budgetEffect: number;\n        efficacyEffect: number;\n        safetyEffect: number;\n        outcomeText: string;\n    }>;\n    isPhaseComplete?: boolean;\n}\n\nexport interface SimulationState {\n    currentPhaseIndex: number;\n    eventIndex: number;\n    budget: number;\n    efficacy: number;\n    safety: number;\n    logs: string[];\n    previousEvents: string[];\n    cachedEvents?: CachedTrialEvent[];\n}\n\nexport interface TrialSubmission {\n    id: string;\n    userId: string;\n    moleculeName: string;\n    missionId: number;\n    missionTitle: string;\n    atomCount: number;\n    stats: {\n        efficacy: number;\n        safety: number;\n        stability: number;\n    };\n    chemicalStats?: {\n        formula: string;\n        molecularWeight: number;\n        functionalGroups: string[];\n        bonds?: { single: number; double: number; triple: number; aromatic: number };\n        warnings: string[];\n    };\n    aiAnalysis?: string;\n    imageUrl?: string;\n    generatedImageUrl?: string;\n    roadmap?: RoadmapData;\n    submittedAt: number;\n    status: 'pending' | 'in_progress' | 'completed' | 'failed';\n    simulationState?: SimulationState;\n}\n\nexport const TrialService = {\n    /**\n     * Get all trial submissions for a user from Firebase\n     */\n    async getSubmissions(userId: string): Promise<TrialSubmission[]> {\n        try {\n            const q = query(\n                collection(db, 'trials'),\n                where('userId', '==', userId)\n            );\n            const querySnapshot = await getDocs(q);\n            const submissions = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as TrialSubmission));\n            return submissions.sort((a, b) => (b.submittedAt || 0) - (a.submittedAt || 0));\n        } catch (e) {\n            console.error('Failed to load trial submissions:', e);\n            return [];\n        }\n    },\n\n    /**\n     * Save a new trial submission to Firebase\n     */\n    async saveSubmission(\n        userId: string,\n        submission: Omit<TrialSubmission, 'id' | 'userId' | 'submittedAt' | 'status'>\n    ): Promise<TrialSubmission> {\n        const id = `trial_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`;\n\n        const newSubmission: TrialSubmission = {\n            ...submission,\n            id,\n            userId: userId,\n            submittedAt: Date.now(),\n            status: 'pending'\n        };\n\n        await setDoc(doc(db, 'trials', id), newSubmission);\n        return newSubmission;\n    },\n\n    /**\n     * Update an existing submission (including roadmap)\n     */\n    async updateSubmission(id: string, updates: Partial<TrialSubmission>): Promise<TrialSubmission | null> {\n        try {\n            const docRef = doc(db, 'trials', id);\n            await updateDoc(docRef, updates);\n\n            const docSnap = await getDoc(docRef);\n            if (docSnap.exists()) {\n                return { id: docSnap.id, ...docSnap.data() } as TrialSubmission;\n            }\n            return null;\n        } catch (e) {\n            console.error('Failed to update trial:', e);\n            return null;\n        }\n    },\n\n    /**\n     * Get a single submission by ID\n     */\n    async getSubmission(id: string): Promise<TrialSubmission | null> {\n        try {\n            const docRef = doc(db, 'trials', id);\n            const docSnap = await getDoc(docRef);\n            if (docSnap.exists()) {\n                return { id: docSnap.id, ...docSnap.data() } as TrialSubmission;\n            }\n            return null;\n        } catch (e) {\n            console.error('Failed to get trial:', e);\n            return null;\n        }\n    },\n\n    /**\n     * Delete a submission\n     */\n    async deleteSubmission(id: string): Promise<boolean> {\n        try {\n            await deleteDoc(doc(db, 'trials', id));\n            return true;\n        } catch (e) {\n            console.error('Failed to delete trial:', e);\n            return false;\n        }\n    },\n\n    /**\n     * Save roadmap to a trial\n     */\n    async saveRoadmap(trialId: string, roadmap: Omit<RoadmapData, 'generatedAt'>): Promise<boolean> {\n        try {\n            await updateDoc(doc(db, 'trials', trialId), {\n                roadmap: {\n                    ...roadmap,\n                    generatedAt: Date.now()\n                }\n            });\n            return true;\n        } catch (e) {\n            console.error('Failed to save roadmap:', e);\n            return false;\n        }\n    },\n\n    /**\n     * Update simulation state\n     */\n    async updateSimulationState(\n        trialId: string,\n        state: SimulationState\n    ): Promise<boolean> {\n        try {\n            await updateDoc(doc(db, 'trials', trialId), {\n                simulationState: state,\n                status: 'in_progress'\n            });\n            return true;\n        } catch (e) {\n            console.error('Failed to update simulation state:', e);\n            return false;\n        }\n    }\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2696, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/PharmaSim/src/lib/aiService.ts"],"sourcesContent":["/**\n * AI Service - Client-side facade for AI API operations\n * \n * This service handles:\n * 1. API calls to the AI routes with proper typing\n * 2. Error handling with fallback responses\n * 3. Rate limit and quota handling with graceful degradation\n */\n\nimport { TrialPhaseData, CachedTrialEvent } from './trialService';\nimport {\n    MoleculeAnalysisResult,\n    QuizQuestionResult,\n    TrialRoadmapResult,\n    TrialEventResult\n} from '@/app/actions/ai';\n\n// ============================================================================\n// Type Re-exports for backward compatibility\n// ============================================================================\n\n/** Roadmap data returned from AI (without generatedAt which is added by TrialService) */\nexport interface AIRoadmapData {\n    summary: string;\n    phases: TrialPhaseData[];\n    successProbability: number;\n}\n\n// ============================================================================\n// API Response Types\n// ============================================================================\n\ninterface APISuccessResponse<T> {\n    success: true;\n    [key: string]: unknown;\n}\n\ninterface APIErrorResponse {\n    success: false;\n    error: string;\n    errorType: string;\n    message: string;\n}\n\ntype APIResponse<T> = (APISuccessResponse<T> & T) | APIErrorResponse;\n\n// ============================================================================\n// HTTP Client Utilities\n// ============================================================================\n\n/**\n * Type-safe POST request with error handling\n */\nasync function postJSON<T>(url: string, body: unknown): Promise<T> {\n    const res = await fetch(url, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(body)\n    });\n\n    const text = await res.text();\n    let parsed: APIResponse<T> | null = null;\n\n    try {\n        parsed = text ? JSON.parse(text) : null;\n    } catch {\n        parsed = null;\n    }\n\n    if (!res.ok) {\n        const message = (parsed as APIErrorResponse)?.message ||\n            (parsed as APIErrorResponse)?.error ||\n            text ||\n            res.statusText;\n        const err = new Error(message) as Error & { status: number; errorType?: string };\n        err.status = res.status;\n        err.errorType = (parsed as APIErrorResponse)?.errorType;\n        throw err;\n    }\n\n    return (parsed ?? {}) as T;\n}\n\n/**\n * Check if error is rate limit or quota related\n */\nfunction isRateLimitError(errorMessage: string, errorStatus?: number): boolean {\n    return (\n        errorStatus === 429 ||\n        errorMessage.includes('429') ||\n        errorMessage.includes('quota') ||\n        errorMessage.includes('RESOURCE_EXHAUSTED') ||\n        errorMessage.includes('rate limit') ||\n        errorMessage.includes('Rate Limit') ||\n        errorStatus === 404 ||\n        errorMessage.includes('404') ||\n        errorMessage.includes('not found')\n    );\n}\n\n/**\n * Extract error info from unknown error\n */\nfunction parseError(error: unknown): { message: string; status?: number } {\n    const err = error as { message?: string; status?: number; response?: { status?: number } };\n    return {\n        message: err?.message || String(error) || 'Unknown error',\n        status: err?.status || err?.response?.status\n    };\n}\n\n// ============================================================================\n// AI Service - Public API\n// ============================================================================\n\nexport const AiService = {\n    /**\n     * Analyze a molecule modification\n     * Returns AI analysis with efficacy/safety scores, or fallback data on failure\n     */\n    async analyzeMolecule(\n        moleculeName: string,\n        atomCount: number,\n        userModifications: string\n    ): Promise<MoleculeAnalysisResult> {\n        try {\n            const response = await postJSON<MoleculeAnalysisResult & { success?: boolean }>(\n                '/api/ai/analyze-molecule',\n                { moleculeName, atomCount, userModifications }\n            );\n\n            // Extract just the result fields\n            return {\n                analysis: response.analysis,\n                efficacy: response.efficacy,\n                safety: response.safety,\n                feedback: response.feedback,\n                visualPrompt: response.visualPrompt || \"A generic 3D molecule structure, clean scientific style\"\n            };\n\n        } catch (error: unknown) {\n            const { message, status } = parseError(error);\n\n            // API key missing - clear message to user\n            if (status === 503) {\n                return {\n                    analysis: \"AI Service Unavailable (Missing Key)\",\n                    safety: 50,\n                    efficacy: 50,\n                    feedback: \"Please configure your API key in .env.local\",\n                    visualPrompt: \"A generic molecule structure in blue style\"\n                };\n            }\n\n            // Rate limit - return simulated data\n            if (isRateLimitError(message, status)) {\n                console.warn(\"AI Service: Rate limit reached. Using simulated analysis.\");\n                return {\n                    analysis: `[Simulated] Your ${moleculeName} modification shows promise. The ${atomCount} atom structure maintains core stability.`,\n                    efficacy: 65 + Math.floor(Math.random() * 20),\n                    safety: 70 + Math.floor(Math.random() * 15),\n                    feedback: \"API quota exceeded - using simulated analysis.\",\n                    visualPrompt: \"A standard pharmaceutical molecule rendering\"\n                };\n            }\n\n            // Connection error\n            console.warn(\"AI Service Error:\", message);\n            return {\n                analysis: \"Analysis failed due to connection error.\",\n                efficacy: 40,\n                safety: 40,\n                feedback: \"Could not connect to AI lab expert. Please check your connection.\",\n                visualPrompt: \"Error state molecule visualization\"\n            };\n        }\n    },\n\n    /**\n     * Generate a quiz question\n     * Returns null on failure (allows fallback to local question bank)\n     */\n    async generateQuestion(topic: string, level: number): Promise<QuizQuestionResult | null> {\n        try {\n            const response = await postJSON<{ question: QuizQuestionResult | null; success?: boolean }>(\n                '/api/ai/generate-question',\n                { topic, level }\n            );\n            return response.question;\n\n        } catch (error: unknown) {\n            const { message, status } = parseError(error);\n\n            if (isRateLimitError(message, status)) {\n                console.warn(\"AI Service: Rate limit - using local question bank.\");\n            } else {\n                console.error(\"AI Question Gen Failed:\", message);\n            }\n\n            return null; // Fallback to local questions\n        }\n    },\n\n    /**\n     * Generate clinical trial roadmap\n     * Returns AI-generated phases or fallback data on failure\n     */\n    async generateTrialRoadmap(\n        moleculeName: string,\n        efficacy: number,\n        safety: number\n    ): Promise<AIRoadmapData> {\n        try {\n            const response = await postJSON<TrialRoadmapResult & { success?: boolean }>(\n                '/api/ai/trial-roadmap',\n                { moleculeName, efficacy, safety }\n            );\n\n            return {\n                summary: response.summary,\n                phases: response.phases,\n                successProbability: response.successProbability\n            };\n\n        } catch (error: unknown) {\n            const { message, status } = parseError(error);\n\n            if (isRateLimitError(message, status)) {\n                console.warn(\"AI Service: Rate limit - using fallback roadmap.\");\n            } else {\n                console.warn(\"AI Roadmap Generation Failed:\", message);\n            }\n\n            return this.getFallbackRoadmap(moleculeName, efficacy, safety);\n        }\n    },\n\n    /**\n     * Fallback roadmap when AI is unavailable\n     */\n    getFallbackRoadmap(moleculeName: string, efficacy: number, safety: number): AIRoadmapData {\n        const successProb = Math.round((efficacy * 0.6 + safety * 0.4) * 0.8);\n        return {\n            summary: `${moleculeName} is a promising drug candidate currently under development. Based on preliminary analysis, it shows potential for therapeutic application.`,\n            phases: [\n                {\n                    name: \"Preclinical\",\n                    duration: \"6-12 months\",\n                    description: \"Laboratory and animal testing to evaluate basic safety and biological activity. This phase determines if the compound is safe enough for human trials.\",\n                    keyActivities: [\"In vitro cell studies\", \"Animal toxicology tests\", \"Pharmacokinetic analysis\"],\n                    risks: safety < 60 ? \"Safety concerns may require additional testing\" : \"Standard preclinical risks apply\"\n                },\n                {\n                    name: \"Phase I Clinical Trial\",\n                    duration: \"1-2 years\",\n                    description: \"First-in-human studies with 20-100 healthy volunteers. Focus is on safety, dosage, and side effects.\",\n                    keyActivities: [\"Healthy volunteer recruitment\", \"Dose escalation studies\", \"Safety monitoring\"],\n                    risks: \"Unexpected adverse reactions in humans\"\n                },\n                {\n                    name: \"Phase II Clinical Trial\",\n                    duration: \"2-3 years\",\n                    description: \"Testing in 100-500 patients with the target condition. Evaluates efficacy and optimal dosing.\",\n                    keyActivities: [\"Patient recruitment\", \"Efficacy measurements\", \"Side effect profiling\"],\n                    risks: efficacy < 70 ? \"Efficacy may not meet primary endpoints\" : \"Competition from similar drugs in development\"\n                },\n                {\n                    name: \"Phase III & FDA Review\",\n                    duration: \"3-5 years\",\n                    description: \"Large-scale trials with 1000-5000+ patients. Confirms effectiveness and monitors long-term safety before FDA submission.\",\n                    keyActivities: [\"Multi-center trials\", \"NDA preparation\", \"FDA review process\"],\n                    risks: \"Regulatory delays or additional data requirements\"\n                }\n            ],\n            successProbability: successProb\n        };\n    },\n\n    /**\n     * Generate a placeholder image URL for a molecule\n     */\n    generateMoleculeImageUrl(moleculeName: string, color: string = '#3b82f6'): string {\n        const encodedName = encodeURIComponent(moleculeName.slice(0, 20));\n        const bgColor = color.replace('#', '');\n        return `https://via.placeholder.com/400x300/${bgColor}/ffffff?text=${encodedName}`;\n    },\n\n    /**\n     * Generate a dynamic trial event for the simulation\n     * Returns AI event or fallback data on failure\n     */\n    async generateTrialEvent(\n        moleculeName: string,\n        phaseName: string,\n        phaseDescription: string,\n        currentStats: { budget: number; efficacy: number; safety: number },\n        previousEvents: string[],\n        chemicalFeatures?: string\n    ): Promise<CachedTrialEvent> {\n        try {\n            const response = await postJSON<TrialEventResult & { success?: boolean }>(\n                '/api/ai/trial-event',\n                { moleculeName, phaseName, phaseDescription, currentStats, previousEvents, chemicalFeatures }\n            );\n\n            return {\n                title: response.title,\n                description: response.description,\n                choices: response.choices,\n                isPhaseComplete: response.isPhaseComplete\n            };\n\n        } catch (error: unknown) {\n            const { message, status } = parseError(error);\n\n            if (isRateLimitError(message, status)) {\n                console.warn(\"AI Service: Rate limit - using fallback event.\");\n            } else {\n                console.warn(\"AI Trial Event Failed:\", message);\n            }\n\n            return this.getFallbackTrialEvent(phaseName, currentStats);\n        }\n    },\n\n    async generatePhaseScenarios(\n        moleculeName: string,\n        phaseName: string,\n        phaseDescription: string,\n        chemicalFeatures?: string\n    ): Promise<TrialEventResult[]> {\n        try {\n            const response = await postJSON<{ data: TrialEventResult[]; success: boolean }>(\n                '/api/ai/scenario',\n                { moleculeName, phaseName, phaseDescription, chemicalFeatures }\n            );\n\n            if (!response.success || !response.data) {\n                throw new Error('Failed to generate scenarios');\n            }\n\n            return response.data;\n        } catch (error) {\n            console.error('Scenario Gen Error:', error);\n            // Fallback: Generate 3 basic events locally or return empty\n            return [];\n        }\n    },\n\n    /**\n     * Fallback trial event when AI is unavailable\n     */\n    getFallbackTrialEvent(\n        phaseName: string,\n        currentStats: { budget: number; efficacy: number; safety: number }\n    ): CachedTrialEvent {\n        const events: Record<string, CachedTrialEvent> = {\n            'Preclinical': {\n                title: 'Animal Study Results',\n                description: 'Initial animal studies are showing promising results, but there are some concerning liver enzyme readings in a subset of test subjects.',\n                choices: [\n                    {\n                        text: 'Conduct additional testing',\n                        budgetEffect: -1500000,\n                        efficacyEffect: 5,\n                        safetyEffect: 10,\n                        outcomeText: 'Extended testing revealed the issue was dose-related. Protocol adjusted successfully.'\n                    },\n                    {\n                        text: 'Proceed with current protocol',\n                        budgetEffect: 0,\n                        efficacyEffect: 0,\n                        safetyEffect: -10,\n                        outcomeText: 'Trial continues with documented risks. Safety team is monitoring closely.'\n                    }\n                ],\n                isPhaseComplete: currentStats.efficacy >= 40 && currentStats.safety >= 60\n            },\n            'Phase I Clinical Trial': {\n                title: 'Volunteer Recruitment Challenge',\n                description: 'Healthy volunteer enrollment is slower than expected. The trial timeline may be affected.',\n                choices: [\n                    {\n                        text: 'Increase incentives ($2M)',\n                        budgetEffect: -2000000,\n                        efficacyEffect: 0,\n                        safetyEffect: 5,\n                        outcomeText: 'Enrollment targets met ahead of schedule with high-quality participants.'\n                    },\n                    {\n                        text: 'Expand recruitment sites',\n                        budgetEffect: -800000,\n                        efficacyEffect: -5,\n                        safetyEffect: 0,\n                        outcomeText: 'More sites added but data consistency slightly reduced.'\n                    }\n                ],\n                isPhaseComplete: currentStats.efficacy >= 50 && currentStats.safety >= 65\n            },\n            'Phase II Clinical Trial': {\n                title: 'Efficacy Data Review',\n                description: 'Mid-trial analysis shows the drug is effective in most patients, but a specific demographic shows reduced response.',\n                choices: [\n                    {\n                        text: 'Focus on responsive group',\n                        budgetEffect: -500000,\n                        efficacyEffect: 15,\n                        safetyEffect: 5,\n                        outcomeText: 'Refined targeting significantly improved overall efficacy metrics.'\n                    },\n                    {\n                        text: 'Broaden study population',\n                        budgetEffect: -3000000,\n                        efficacyEffect: -5,\n                        safetyEffect: 0,\n                        outcomeText: 'Inclusive approach yielded average results but broader applicability data.'\n                    }\n                ],\n                isPhaseComplete: currentStats.efficacy >= 70 && currentStats.safety >= 75\n            },\n            'Phase III & FDA Review': {\n                title: 'FDA Pre-Submission Meeting',\n                description: 'The FDA has reviewed your pre-submission package and has questions about long-term safety data.',\n                choices: [\n                    {\n                        text: 'Conduct extended follow-up',\n                        budgetEffect: -4000000,\n                        efficacyEffect: 5,\n                        safetyEffect: 15,\n                        outcomeText: 'Extended data collection satisfied FDA concerns. Approval pathway cleared.'\n                    },\n                    {\n                        text: 'Submit current data with justification',\n                        budgetEffect: -500000,\n                        efficacyEffect: 0,\n                        safetyEffect: -5,\n                        outcomeText: 'FDA accepted with conditions. Post-market surveillance required.'\n                    }\n                ],\n                isPhaseComplete: currentStats.efficacy >= 80 && currentStats.safety >= 80\n            }\n        };\n\n        return events[phaseName] || events['Preclinical'];\n    }\n};\n"],"names":[],"mappings":"AAAA;;;;;;;CAOC;;;;AAuCD,+EAA+E;AAC/E,wBAAwB;AACxB,+EAA+E;AAE/E;;CAEC,GACD,eAAe,SAAY,GAAW,EAAE,IAAa;IACjD,MAAM,MAAM,MAAM,MAAM,KAAK;QACzB,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACzB;IAEA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,IAAI,SAAgC;IAEpC,IAAI;QACA,SAAS,OAAO,KAAK,KAAK,CAAC,QAAQ;IACvC,EAAE,OAAM;QACJ,SAAS;IACb;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACT,MAAM,UAAU,AAAC,QAA6B,WACzC,QAA6B,SAC9B,QACA,IAAI,UAAU;QAClB,MAAM,MAAM,IAAI,MAAM;QACtB,IAAI,MAAM,GAAG,IAAI,MAAM;QACvB,IAAI,SAAS,GAAI,QAA6B;QAC9C,MAAM;IACV;IAEA,OAAQ,UAAU,CAAC;AACvB;AAEA;;CAEC,GACD,SAAS,iBAAiB,YAAoB,EAAE,WAAoB;IAChE,OACI,gBAAgB,OAChB,aAAa,QAAQ,CAAC,UACtB,aAAa,QAAQ,CAAC,YACtB,aAAa,QAAQ,CAAC,yBACtB,aAAa,QAAQ,CAAC,iBACtB,aAAa,QAAQ,CAAC,iBACtB,gBAAgB,OAChB,aAAa,QAAQ,CAAC,UACtB,aAAa,QAAQ,CAAC;AAE9B;AAEA;;CAEC,GACD,SAAS,WAAW,KAAc;IAC9B,MAAM,MAAM;IACZ,OAAO;QACH,SAAS,KAAK,WAAW,OAAO,UAAU;QAC1C,QAAQ,KAAK,UAAU,KAAK,UAAU;IAC1C;AACJ;AAMO,MAAM,YAAY;IACrB;;;KAGC,GACD,MAAM,iBACF,YAAoB,EACpB,SAAiB,EACjB,iBAAyB;QAEzB,IAAI;YACA,MAAM,WAAW,MAAM,SACnB,4BACA;gBAAE;gBAAc;gBAAW;YAAkB;YAGjD,iCAAiC;YACjC,OAAO;gBACH,UAAU,SAAS,QAAQ;gBAC3B,UAAU,SAAS,QAAQ;gBAC3B,QAAQ,SAAS,MAAM;gBACvB,UAAU,SAAS,QAAQ;gBAC3B,cAAc,SAAS,YAAY,IAAI;YAC3C;QAEJ,EAAE,OAAO,OAAgB;YACrB,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,WAAW;YAEvC,0CAA0C;YAC1C,IAAI,WAAW,KAAK;gBAChB,OAAO;oBACH,UAAU;oBACV,QAAQ;oBACR,UAAU;oBACV,UAAU;oBACV,cAAc;gBAClB;YACJ;YAEA,qCAAqC;YACrC,IAAI,iBAAiB,SAAS,SAAS;gBACnC,QAAQ,IAAI,CAAC;gBACb,OAAO;oBACH,UAAU,CAAC,iBAAiB,EAAE,aAAa,iCAAiC,EAAE,UAAU,yCAAyC,CAAC;oBAClI,UAAU,KAAK,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;oBAC1C,QAAQ,KAAK,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;oBACxC,UAAU;oBACV,cAAc;gBAClB;YACJ;YAEA,mBAAmB;YACnB,QAAQ,IAAI,CAAC,qBAAqB;YAClC,OAAO;gBACH,UAAU;gBACV,UAAU;gBACV,QAAQ;gBACR,UAAU;gBACV,cAAc;YAClB;QACJ;IACJ;IAEA;;;KAGC,GACD,MAAM,kBAAiB,KAAa,EAAE,KAAa;QAC/C,IAAI;YACA,MAAM,WAAW,MAAM,SACnB,6BACA;gBAAE;gBAAO;YAAM;YAEnB,OAAO,SAAS,QAAQ;QAE5B,EAAE,OAAO,OAAgB;YACrB,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,WAAW;YAEvC,IAAI,iBAAiB,SAAS,SAAS;gBACnC,QAAQ,IAAI,CAAC;YACjB,OAAO;gBACH,QAAQ,KAAK,CAAC,2BAA2B;YAC7C;YAEA,OAAO,MAAM,8BAA8B;QAC/C;IACJ;IAEA;;;KAGC,GACD,MAAM,sBACF,YAAoB,EACpB,QAAgB,EAChB,MAAc;QAEd,IAAI;YACA,MAAM,WAAW,MAAM,SACnB,yBACA;gBAAE;gBAAc;gBAAU;YAAO;YAGrC,OAAO;gBACH,SAAS,SAAS,OAAO;gBACzB,QAAQ,SAAS,MAAM;gBACvB,oBAAoB,SAAS,kBAAkB;YACnD;QAEJ,EAAE,OAAO,OAAgB;YACrB,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,WAAW;YAEvC,IAAI,iBAAiB,SAAS,SAAS;gBACnC,QAAQ,IAAI,CAAC;YACjB,OAAO;gBACH,QAAQ,IAAI,CAAC,iCAAiC;YAClD;YAEA,OAAO,IAAI,CAAC,kBAAkB,CAAC,cAAc,UAAU;QAC3D;IACJ;IAEA;;KAEC,GACD,oBAAmB,YAAoB,EAAE,QAAgB,EAAE,MAAc;QACrE,MAAM,cAAc,KAAK,KAAK,CAAC,CAAC,WAAW,MAAM,SAAS,GAAG,IAAI;QACjE,OAAO;YACH,SAAS,GAAG,aAAa,0IAA0I,CAAC;YACpK,QAAQ;gBACJ;oBACI,MAAM;oBACN,UAAU;oBACV,aAAa;oBACb,eAAe;wBAAC;wBAAyB;wBAA2B;qBAA2B;oBAC/F,OAAO,SAAS,KAAK,mDAAmD;gBAC5E;gBACA;oBACI,MAAM;oBACN,UAAU;oBACV,aAAa;oBACb,eAAe;wBAAC;wBAAiC;wBAA2B;qBAAoB;oBAChG,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,UAAU;oBACV,aAAa;oBACb,eAAe;wBAAC;wBAAuB;wBAAyB;qBAAwB;oBACxF,OAAO,WAAW,KAAK,4CAA4C;gBACvE;gBACA;oBACI,MAAM;oBACN,UAAU;oBACV,aAAa;oBACb,eAAe;wBAAC;wBAAuB;wBAAmB;qBAAqB;oBAC/E,OAAO;gBACX;aACH;YACD,oBAAoB;QACxB;IACJ;IAEA;;KAEC,GACD,0BAAyB,YAAoB,EAAE,QAAgB,SAAS;QACpE,MAAM,cAAc,mBAAmB,aAAa,KAAK,CAAC,GAAG;QAC7D,MAAM,UAAU,MAAM,OAAO,CAAC,KAAK;QACnC,OAAO,CAAC,oCAAoC,EAAE,QAAQ,aAAa,EAAE,aAAa;IACtF;IAEA;;;KAGC,GACD,MAAM,oBACF,YAAoB,EACpB,SAAiB,EACjB,gBAAwB,EACxB,YAAkE,EAClE,cAAwB,EACxB,gBAAyB;QAEzB,IAAI;YACA,MAAM,WAAW,MAAM,SACnB,uBACA;gBAAE;gBAAc;gBAAW;gBAAkB;gBAAc;gBAAgB;YAAiB;YAGhG,OAAO;gBACH,OAAO,SAAS,KAAK;gBACrB,aAAa,SAAS,WAAW;gBACjC,SAAS,SAAS,OAAO;gBACzB,iBAAiB,SAAS,eAAe;YAC7C;QAEJ,EAAE,OAAO,OAAgB;YACrB,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,WAAW;YAEvC,IAAI,iBAAiB,SAAS,SAAS;gBACnC,QAAQ,IAAI,CAAC;YACjB,OAAO;gBACH,QAAQ,IAAI,CAAC,0BAA0B;YAC3C;YAEA,OAAO,IAAI,CAAC,qBAAqB,CAAC,WAAW;QACjD;IACJ;IAEA,MAAM,wBACF,YAAoB,EACpB,SAAiB,EACjB,gBAAwB,EACxB,gBAAyB;QAEzB,IAAI;YACA,MAAM,WAAW,MAAM,SACnB,oBACA;gBAAE;gBAAc;gBAAW;gBAAkB;YAAiB;YAGlE,IAAI,CAAC,SAAS,OAAO,IAAI,CAAC,SAAS,IAAI,EAAE;gBACrC,MAAM,IAAI,MAAM;YACpB;YAEA,OAAO,SAAS,IAAI;QACxB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,uBAAuB;YACrC,4DAA4D;YAC5D,OAAO,EAAE;QACb;IACJ;IAEA;;KAEC,GACD,uBACI,SAAiB,EACjB,YAAkE;QAElE,MAAM,SAA2C;YAC7C,eAAe;gBACX,OAAO;gBACP,aAAa;gBACb,SAAS;oBACL;wBACI,MAAM;wBACN,cAAc,CAAC;wBACf,gBAAgB;wBAChB,cAAc;wBACd,aAAa;oBACjB;oBACA;wBACI,MAAM;wBACN,cAAc;wBACd,gBAAgB;wBAChB,cAAc,CAAC;wBACf,aAAa;oBACjB;iBACH;gBACD,iBAAiB,aAAa,QAAQ,IAAI,MAAM,aAAa,MAAM,IAAI;YAC3E;YACA,0BAA0B;gBACtB,OAAO;gBACP,aAAa;gBACb,SAAS;oBACL;wBACI,MAAM;wBACN,cAAc,CAAC;wBACf,gBAAgB;wBAChB,cAAc;wBACd,aAAa;oBACjB;oBACA;wBACI,MAAM;wBACN,cAAc,CAAC;wBACf,gBAAgB,CAAC;wBACjB,cAAc;wBACd,aAAa;oBACjB;iBACH;gBACD,iBAAiB,aAAa,QAAQ,IAAI,MAAM,aAAa,MAAM,IAAI;YAC3E;YACA,2BAA2B;gBACvB,OAAO;gBACP,aAAa;gBACb,SAAS;oBACL;wBACI,MAAM;wBACN,cAAc,CAAC;wBACf,gBAAgB;wBAChB,cAAc;wBACd,aAAa;oBACjB;oBACA;wBACI,MAAM;wBACN,cAAc,CAAC;wBACf,gBAAgB,CAAC;wBACjB,cAAc;wBACd,aAAa;oBACjB;iBACH;gBACD,iBAAiB,aAAa,QAAQ,IAAI,MAAM,aAAa,MAAM,IAAI;YAC3E;YACA,0BAA0B;gBACtB,OAAO;gBACP,aAAa;gBACb,SAAS;oBACL;wBACI,MAAM;wBACN,cAAc,CAAC;wBACf,gBAAgB;wBAChB,cAAc;wBACd,aAAa;oBACjB;oBACA;wBACI,MAAM;wBACN,cAAc,CAAC;wBACf,gBAAgB;wBAChB,cAAc,CAAC;wBACf,aAAa;oBACjB;iBACH;gBACD,iBAAiB,aAAa,QAAQ,IAAI,MAAM,aAAa,MAAM,IAAI;YAC3E;QACJ;QAEA,OAAO,MAAM,CAAC,UAAU,IAAI,MAAM,CAAC,cAAc;IACrD;AACJ"}},
    {"offset": {"line": 3056, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/khana/OneDrive/Desktop/PharmaSim/src/app/dashboard/clinical-trials/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport styles from './Trials.module.css';\nimport TopHeader from '@/components/layout/TopHeader';\nimport { useAuth } from '@/context/AuthContext';\nimport { UserService } from '@/lib/userService';\nimport { SYLLABUS_DATA, SyllabusLevel } from '@/lib/syllabusData';\nimport { getQuestionsForLevel, Question } from '@/lib/quizData';\nimport { useRouter } from 'next/navigation';\nimport { TrialService, TrialSubmission, RoadmapData, CachedTrialEvent, SimulationState } from '@/lib/trialService';\nimport { AiService } from '@/lib/aiService';\n\ntype ViewState = 'dashboard' | 'roadmap' | 'simulation' | 'quiz';\n\n// Using CachedTrialEvent from trialService for type consistency\ntype TrialEvent = CachedTrialEvent;\n\nconst INITIAL_BUDGET = 10000000; // $10M\n\nexport default function ClinicalTrialsPage() {\n    const { user, profile, refreshProfile } = useAuth();\n    const router = useRouter();\n\n    // View State\n    const [viewState, setViewState] = useState<ViewState>('dashboard');\n    const [submissions, setSubmissions] = useState<TrialSubmission[]>([]);\n    const [selectedTrial, setSelectedTrial] = useState<TrialSubmission | null>(null);\n    const [loadingRoadmap, setLoadingRoadmap] = useState(false);\n    const [loading, setLoading] = useState(true);\n\n    // Mission for quiz\n    const [mission, setMission] = useState<SyllabusLevel>(SYLLABUS_DATA[0]);\n\n    // Simulation State\n    const [currentPhaseIndex, setCurrentPhaseIndex] = useState(0);\n    const [currentEvent, setCurrentEvent] = useState<TrialEvent | null>(null);\n    const [loadingEvent, setLoadingEvent] = useState(false);\n    const [stats, setStats] = useState({ budget: INITIAL_BUDGET, efficacy: 0, safety: 100 });\n    const [logs, setLogs] = useState<string[]>([]);\n    const [previousEvents, setPreviousEvents] = useState<string[]>([]);\n    const [gameState, setGameState] = useState<'intro' | 'playing' | 'gameover' | 'victory'>('intro');\n    const [gameOverReason, setGameOverReason] = useState('');\n    const [cachedEvents, setCachedEvents] = useState<TrialEvent[]>([]);\n    const [eventIndex, setEventIndex] = useState(0);\n    const [scenarioDeck, setScenarioDeck] = useState<TrialEvent[]>([]); // Future events\n    const [isGeneratingScenario, setIsGeneratingScenario] = useState(false);\n\n    // Quiz State\n    const [quizQuestions, setQuizQuestions] = useState<Question[]>([]);\n    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n    const [score, setScore] = useState(0);\n    const [quizCompleted, setQuizCompleted] = useState(false);\n    const [quizResult, setQuizResult] = useState<{ passed: boolean; msg: string } | null>(null);\n\n    // Load submissions on mount\n    useEffect(() => {\n        const loadSubmissions = async () => {\n            if (user) {\n                setLoading(true);\n                const data = await TrialService.getSubmissions(user.uid);\n                setSubmissions(data);\n                setLoading(false);\n            }\n        };\n        loadSubmissions();\n    }, [user]);\n\n    // Handle clicking a trial card - load from Firebase or generate roadmap\n    const handleTrialClick = useCallback(async (trial: TrialSubmission) => {\n        setSelectedTrial(trial);\n        setViewState('roadmap');\n\n        // Find mission\n        const m = SYLLABUS_DATA.find(s => s.level === trial.missionId) || SYLLABUS_DATA[0];\n        setMission(m);\n\n        // If roadmap already exists in Firebase, use it\n        if (trial.roadmap) {\n            // Initialize stats from trial\n            setStats({\n                budget: trial.simulationState?.budget || INITIAL_BUDGET,\n                efficacy: trial.simulationState?.efficacy || trial.stats.efficacy,\n                safety: trial.simulationState?.safety || trial.stats.safety\n            });\n            return;\n        }\n\n        // Generate and save roadmap to Firebase\n        setLoadingRoadmap(true);\n        const roadmap = await AiService.generateTrialRoadmap(\n            trial.moleculeName,\n            trial.stats.efficacy,\n            trial.stats.safety\n        );\n\n        // Save to Firebase\n        await TrialService.saveRoadmap(trial.id, roadmap);\n\n        // Update local state (add generatedAt to match RoadmapData type)\n        const roadmapWithTimestamp = { ...roadmap, generatedAt: Date.now() };\n        setSelectedTrial({ ...trial, roadmap: roadmapWithTimestamp });\n        setStats({\n            budget: INITIAL_BUDGET,\n            efficacy: trial.stats.efficacy,\n            safety: trial.stats.safety\n        });\n        setLoadingRoadmap(false);\n    }, []);\n\n    useEffect(() => {\n        if (loading || !user || submissions.length === 0 || selectedTrial) return;\n\n        const activeId = localStorage.getItem('active_trial_id');\n        if (!activeId) return;\n\n        const trial = submissions.find(s => s.id === activeId);\n        if (!trial) return;\n\n        localStorage.removeItem('active_trial_id');\n        handleTrialClick(trial);\n    }, [loading, user, submissions, selectedTrial, handleTrialClick]);\n\n    // Start simulation from roadmap - AI-powered with caching\n    const startSimulation = async () => {\n        if (!selectedTrial?.roadmap) return;\n\n        setViewState('simulation');\n\n        // Check if we have existing simulation state (resuming)\n        const simState = selectedTrial.simulationState;\n        if (simState && simState.cachedEvents && simState.cachedEvents.length > 0) {\n            // Resume from saved state\n            setGameState('playing');\n            setCurrentPhaseIndex(simState.currentPhaseIndex || 0);\n            setEventIndex(simState.eventIndex || 0);\n            setStats({\n                budget: simState.budget,\n                efficacy: simState.efficacy,\n                safety: simState.safety\n            });\n            setLogs(simState.logs || []);\n            setPreviousEvents(simState.previousEvents || []);\n            setCachedEvents(simState.cachedEvents as TrialEvent[]);\n\n            // Load current event from cache\n            const currentIdx = simState.eventIndex || 0;\n            if (currentIdx < simState.cachedEvents.length) {\n                setCurrentEvent(simState.cachedEvents[currentIdx] as TrialEvent);\n            }\n        } else {\n            // Fresh start\n            setGameState('intro');\n            setCurrentPhaseIndex(0);\n            setEventIndex(0);\n            setPreviousEvents([]);\n            setCachedEvents([]);\n            setLogs([\n                `Trial initialized for ${selectedTrial.moleculeName}.`,\n                `Starting budget: $${(INITIAL_BUDGET / 1000000).toFixed(1)}M`\n            ]);\n        }\n    };\n\n    const startPlaying = async () => {\n        if (!selectedTrial?.roadmap) return;\n        setGameState('playing');\n\n        // Check if we already have a scenario deck generated for this session\n        if (scenarioDeck.length === 0) {\n            setIsGeneratingScenario(true);\n            setLoadingEvent(true);\n\n            try {\n                // Construct chemical context\n                let chemicalContext = '';\n                if (selectedTrial.chemicalStats) {\n                    const cs = selectedTrial.chemicalStats;\n                    const groups = cs.functionalGroups?.join(', ') || 'None';\n                    const warnings = cs.warnings?.join('; ') || 'None';\n                    const aromaticText = (cs.bonds?.aromatic || 0) > 0 ? 'Contains Aromatic System' : 'Non-aromatic';\n\n                    chemicalContext = `\n                        Formula: ${cs.formula}\n                        Molecular Weight: ${cs.molecularWeight}\n                        Key Functional Groups: ${groups}\n                        Structure Type: ${aromaticText}\n                        Chemical Warnings: ${warnings}\n                    `.trim();\n                }\n\n                // Generate scenarios for ALL phases in parallel\n                const phasePromises = selectedTrial.roadmap.phases.map((phase, idx) =>\n                    AiService.generatePhaseScenarios(\n                        selectedTrial.moleculeName,\n                        phase.name,\n                        phase.description,\n                        chemicalContext\n                    ).then(events => events.map(e => ({ ...e, phaseIndex: idx })))\n                );\n\n                const results = await Promise.all(phasePromises);\n                const fullDeck = results.flat();\n\n                if (fullDeck.length === 0) {\n                    // Fallback if AI fails completely\n                    console.error(\"AI failed to generate any events. Using fallback.\");\n                    // We could manually insert a generic event here\n                }\n\n                setScenarioDeck(fullDeck);\n\n                // Load the first event immediately from the new deck\n                if (fullDeck.length > 0) {\n                    const firstEvent = fullDeck[0];\n                    setCurrentEvent(firstEvent);\n\n                    // Add to cache as the current event\n                    const newCachedEvents = [...cachedEvents, firstEvent];\n                    setCachedEvents(newCachedEvents);\n\n                    // Save initial state\n                    await TrialService.updateSimulationState(selectedTrial.id, {\n                        currentPhaseIndex: 0,\n                        eventIndex: 0,\n                        budget: stats.budget,\n                        efficacy: stats.efficacy,\n                        safety: stats.safety,\n                        previousEvents: [] as string[],\n                        logs: logs,\n                        cachedEvents: newCachedEvents\n                    });\n                }\n            } catch (error) {\n                console.error(\"Failed to generate simulation scenario:\", error);\n            } finally {\n                setIsGeneratingScenario(false);\n                setLoadingEvent(false);\n            }\n        } else {\n            // Resume or deck already loaded\n            await loadNextEvent();\n        }\n    };\n\n    // Load next event from the pre-generated deck\n    const loadNextEvent = async () => {\n        if (!selectedTrial?.roadmap) return;\n\n        // Calculate next event index\n        const nextIdx = eventIndex + 1; // logical index\n\n        // In the pre-generated deck, events are sequential.\n        // We need to find the next event. \n        // If we are just starting, startPlaying handles it. \n        // This function is for AFTER a choice is made.\n\n        // However, we need to handle \"Phase Transitions\". \n        // The deck has `phaseIndex` embedded.\n\n        // Ideally, we just increment `eventIndex` state.\n        // But `eventIndex` in state is currently used as \"index in cachedEvents\".\n        // Let's assume cachedEvents grows as we play.\n\n        // So simply:\n        if (nextIdx < scenarioDeck.length) {\n            const nextEvent = scenarioDeck[nextIdx];\n            setCurrentEvent(nextEvent);\n            setEventIndex(nextIdx);\n\n            // Check if phase changed\n            if (nextEvent.phaseIndex !== currentPhaseIndex) {\n                setCurrentPhaseIndex(nextEvent.phaseIndex || currentPhaseIndex);\n            }\n\n            // Update cache and persistence\n            const newCachedEvents = [...cachedEvents, nextEvent];\n            setCachedEvents(newCachedEvents);\n\n            await TrialService.updateSimulationState(selectedTrial.id, {\n                currentPhaseIndex: nextEvent.phaseIndex || currentPhaseIndex,\n                eventIndex: nextIdx,\n                budget: stats.budget,\n                efficacy: stats.efficacy,\n                safety: stats.safety,\n                logs,\n                previousEvents,\n                cachedEvents: newCachedEvents\n            });\n        } else {\n            // No more events in deck -> Victory!\n            handleVictory();\n        }\n    };\n\n    // Handle choice selection\n    const handleChoice = async (choiceIndex: number) => {\n        if (!currentEvent || !selectedTrial) return;\n\n        const choice = currentEvent.choices[choiceIndex];\n\n        // Apply effects\n        const newStats = {\n            budget: stats.budget + choice.budgetEffect,\n            efficacy: Math.min(100, Math.max(0, stats.efficacy + choice.efficacyEffect)),\n            safety: Math.min(100, Math.max(0, stats.safety + choice.safetyEffect))\n        };\n        setStats(newStats);\n\n        // Add to logs\n        const logEntry = `${selectedTrial.roadmap?.phases[currentPhaseIndex].name}: ${choice.outcomeText}`;\n        const newLogs = [logEntry, ...logs];\n        setLogs(newLogs);\n\n        const newPreviousEvents = [...previousEvents, currentEvent.title];\n        setPreviousEvents(newPreviousEvents);\n\n        // Increment event index for next event\n        const newEventIndex = eventIndex + 1;\n        setEventIndex(newEventIndex);\n\n        // Save complete state to Firebase (including cached events)\n        await TrialService.updateSimulationState(selectedTrial.id, {\n            currentPhaseIndex,\n            eventIndex: newEventIndex,\n            budget: newStats.budget,\n            efficacy: newStats.efficacy,\n            safety: newStats.safety,\n            logs: newLogs,\n            previousEvents: newPreviousEvents,\n            cachedEvents: cachedEvents\n        });\n\n        // Check fail conditions\n        if (newStats.budget <= 0) {\n            endGame('Bankrupt! The lab ran out of funds.');\n            return;\n        }\n        if (newStats.safety <= 20) {\n            endGame('Trial Halted! Safety concerns became critical.');\n            return;\n        }\n\n        // Check if phase is complete\n        if (currentEvent.isPhaseComplete) {\n            advancePhase();\n        } else {\n            // Load another event for this phase\n            await loadNextEvent();\n        }\n    };\n\n    const advancePhase = async () => {\n        if (!selectedTrial?.roadmap) return;\n\n        if (currentPhaseIndex < selectedTrial.roadmap.phases.length - 1) {\n            const nextPhase = currentPhaseIndex + 1;\n            setCurrentPhaseIndex(nextPhase);\n            setLogs(prev => [`--- Entered ${selectedTrial.roadmap!.phases[nextPhase].name} ---`, ...prev]);\n            await loadNextEvent();\n        } else {\n            handleVictory();\n        }\n    };\n\n    const handleVictory = async () => {\n        setGameState('victory');\n        if (user && selectedTrial) {\n            await TrialService.updateSubmission(selectedTrial.id, { status: 'completed' });\n            await UserService.addXP(user.uid, 200);\n            await UserService.unlockAchievement(user.uid, {\n                id: 'trial_master',\n                title: 'Trial Master',\n                description: 'Successfully guided a drug to market.',\n                icon: 'ðŸ’Š'\n            });\n            refreshProfile();\n        }\n    };\n\n    const endGame = async (reason: string) => {\n        setGameOverReason(reason);\n        setGameState('gameover');\n        if (user && selectedTrial) {\n            await TrialService.updateSubmission(selectedTrial.id, { status: 'failed' });\n            await UserService.addXP(user.uid, 50);\n            refreshProfile();\n        }\n    };\n\n    // --- QUIZ LOGIC ---\n    const startQuiz = () => {\n        const questions = getQuestionsForLevel(mission.level, 5);\n        setQuizQuestions(questions);\n        setViewState('quiz');\n        setQuizCompleted(false);\n        setScore(0);\n        setCurrentQuestionIndex(0);\n    };\n\n    const handleQuizAnswer = async (optionIndex: number) => {\n        const isCorrect = optionIndex === quizQuestions[currentQuestionIndex].correctIndex;\n        if (isCorrect) setScore(s => s + 1);\n\n        if (currentQuestionIndex < quizQuestions.length - 1) {\n            setCurrentQuestionIndex(prev => prev + 1);\n        } else {\n            const finalScore = score + (isCorrect ? 1 : 0);\n            const passed = finalScore >= 3;\n            setQuizCompleted(true);\n\n            if (passed && user) {\n                await UserService.addXP(user.uid, 1000);\n                await refreshProfile();\n                setQuizResult({ passed: true, msg: `Congratulations! You have mastered Semester ${mission.level}.` });\n            } else {\n                setQuizResult({ passed: false, msg: \"You failed the Semester Exam. Review the notes and try again.\" });\n            }\n        }\n    };\n\n    const goBackToDashboard = async () => {\n        setViewState('dashboard');\n        setSelectedTrial(null);\n        setGameState('intro');\n        setCurrentPhaseIndex(0);\n        setCurrentEvent(null);\n        // Refresh submissions from Firebase\n        if (user) {\n            const data = await TrialService.getSubmissions(user.uid);\n            setSubmissions(data);\n        }\n    };\n\n    // ==================== RENDER ====================\n\n    // DASHBOARD VIEW - Show trial cards or empty state\n    if (viewState === 'dashboard') {\n        return (\n            <div className={styles.container}>\n                <TopHeader title=\"Clinical Trials\" subtitle=\"Your Drug Development Pipeline\" />\n\n                <div className={styles.dashboardArea}>\n                    {loading ? (\n                        <div className={styles.loadingState}>\n                            <div className={styles.spinner}></div>\n                            <p>Loading your trials...</p>\n                        </div>\n                    ) : submissions.length === 0 ? (\n                        // Empty State\n                        <div className={styles.emptyState}>\n                            <div className={styles.emptyIcon}>ðŸ§ª</div>\n                            <h2>No Trials Yet</h2>\n                            <p>First create a new simulation or build your own molecule in the lab, then submit it for clinical trials.</p>\n                            <div className={styles.emptyActions}>\n                                <button\n                                    className={styles.btnPrimary}\n                                    onClick={() => router.push('/dashboard/builder')}\n                                >\n                                    ðŸ”¬ Build My Own\n                                </button>\n                                <button className={styles.btnSecondary}>\n                                    ðŸŽ² New Simulation\n                                </button>\n                            </div>\n                        </div>\n                    ) : (\n                        // Trial Cards Grid\n                        <>\n                            <div className={styles.dashboardHeader}>\n                                <h2>Your Trials ({submissions.length})</h2>\n                                <button\n                                    className={styles.btnPrimary}\n                                    onClick={() => router.push('/dashboard/builder')}\n                                >\n                                    + New Molecule\n                                </button>\n                            </div>\n                            <div className={styles.trialsGrid}>\n                                {submissions.map(trial => (\n                                    <div\n                                        key={trial.id}\n                                        className={styles.trialCard}\n                                        onClick={() => handleTrialClick(trial)}\n                                    >\n                                        <div\n                                            className={styles.trialImage}\n                                            style={{\n                                                background: trial.generatedImageUrl\n                                                    ? `url(${trial.generatedImageUrl}) center/cover`\n                                                    : `linear-gradient(135deg, #1e3a5f 0%, #0d1b2a 100%)`\n                                            }}\n                                        >\n                                            {!trial.generatedImageUrl && (\n                                                <div className={styles.moleculeIcon}>ðŸ§¬</div>\n                                            )}\n                                        </div>\n                                        <div className={styles.trialInfo}>\n                                            <h3>{trial.moleculeName}</h3>\n                                            <p className={styles.trialMission}>{trial.missionTitle}</p>\n                                            <div className={styles.trialStats}>\n                                                <span>Eff: {trial.stats.efficacy}%</span>\n                                                <span>Safe: {trial.stats.safety}%</span>\n                                            </div>\n                                            <div className={`${styles.trialStatus} ${styles[trial.status]}`}>\n                                                {trial.status === 'pending' && 'â³ Pending'}\n                                                {trial.status === 'in_progress' && 'ðŸ”„ In Progress'}\n                                                {trial.status === 'completed' && 'âœ… Completed'}\n                                                {trial.status === 'failed' && 'âŒ Failed'}\n                                            </div>\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                        </>\n                    )}\n                </div>\n            </div>\n        );\n    }\n\n    // ROADMAP VIEW - Show trial phases before simulation\n    if (viewState === 'roadmap') {\n        const roadmap = selectedTrial?.roadmap;\n\n        return (\n            <div className={styles.container}>\n                <TopHeader title={selectedTrial?.moleculeName || 'Trial Roadmap'} subtitle=\"Clinical Development Pathway\" />\n\n                <div className={styles.roadmapArea}>\n                    <button className={styles.backBtn} onClick={goBackToDashboard}>\n                        â† Back to Dashboard\n                    </button>\n\n                    {loadingRoadmap ? (\n                        <div className={styles.loadingState}>\n                            <div className={styles.spinner}></div>\n                            <p>Generating trial roadmap with AI...</p>\n                        </div>\n                    ) : roadmap ? (\n                        <>\n                            <div className={styles.roadmapHeader}>\n                                <div className={styles.roadmapSummary}>\n                                    <h2>Trial Overview</h2>\n                                    <p>{roadmap.summary}</p>\n                                    <div className={styles.successProb}>\n                                        <span>Success Probability:</span>\n                                        <div className={styles.probBar}>\n                                            <div\n                                                className={styles.probFill}\n                                                style={{ width: `${roadmap.successProbability}%` }}\n                                            />\n                                        </div>\n                                        <span className={styles.probValue}>{roadmap.successProbability}%</span>\n                                    </div>\n                                </div>\n                                <button className={styles.proceedBtn} onClick={startSimulation}>\n                                    â–¶ Proceed to Trial Simulation\n                                </button>\n                            </div>\n\n                            <div className={styles.phasesTimeline}>\n                                {roadmap.phases.map((phase, idx) => (\n                                    <div key={idx} className={styles.phaseItem}>\n                                        <div className={styles.phaseNumber}>{idx + 1}</div>\n                                        <div className={styles.phaseContent}>\n                                            <h3>{phase.name}</h3>\n                                            <span className={styles.phaseDuration}>{phase.duration}</span>\n                                            <p>{phase.description}</p>\n                                            <div className={styles.phaseActivities}>\n                                                <strong>Key Activities:</strong>\n                                                <ul>\n                                                    {phase.keyActivities.map((act, i) => (\n                                                        <li key={i}>{act}</li>\n                                                    ))}\n                                                </ul>\n                                            </div>\n                                            <div className={styles.phaseRisk}>\n                                                âš ï¸ <strong>Risk:</strong> {phase.risks}\n                                            </div>\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                        </>\n                    ) : (\n                        <p>Failed to load roadmap data.</p>\n                    )}\n                </div>\n            </div>\n        );\n    }\n\n    // QUIZ VIEW\n    if (viewState === 'quiz') {\n        return (\n            <div className={styles.container}>\n                <TopHeader title=\"Semester Exam\" subtitle={`${mission.semester}: ${mission.title}`} />\n                <div className={styles.gameArea}>\n                    <div className={styles.mainStage}>\n                        {!quizCompleted ? (\n                            <div className={styles.card}>\n                                <div className={styles.phaseBadge} style={{ background: '#f59e0b' }}>Semester {mission.level} Exam</div>\n                                <h3>Question {currentQuestionIndex + 1} / {quizQuestions.length}</h3>\n                                <p style={{ fontSize: '1.2rem', fontWeight: 500, margin: '20px 0' }}>\n                                    {quizQuestions[currentQuestionIndex]?.text}\n                                </p>\n                                <div className={styles.choices}>\n                                    {quizQuestions[currentQuestionIndex]?.options.map((opt, idx) => (\n                                        <button key={idx} className={styles.choiceBtn} onClick={() => handleQuizAnswer(idx)}>\n                                            {opt}\n                                        </button>\n                                    ))}\n                                </div>\n                            </div>\n                        ) : (\n                            <div className={styles.card}>\n                                <h1>{quizResult?.passed ? 'ðŸŽ“ SEMESTER PASSED!' : 'âŒ EXAM FAILED'}</h1>\n                                <p style={{ fontSize: '1.1rem' }}>{quizResult?.msg}</p>\n                                <div style={{ margin: '20px 0', fontSize: '2rem' }}>\n                                    Score: {score} / {quizQuestions.length}\n                                </div>\n                                {quizResult?.passed && (\n                                    <div style={{ background: '#064e3b', padding: '15px', borderRadius: '8px', marginBottom: '20px' }}>\n                                        <strong>â­ REWARDS:</strong><br />\n                                        +1000 XP (Level Up!)<br />\n                                        Next Semester Unlocked\n                                    </div>\n                                )}\n                                <button className={styles.btnSecondary} onClick={goBackToDashboard}>\n                                    Return to Trials\n                                </button>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    // SIMULATION VIEW - AI-powered trial game\n    return (\n        <div className={styles.container}>\n            <TopHeader\n                title=\"Clinical Trial Simulator\"\n                subtitle={selectedTrial?.roadmap?.phases[currentPhaseIndex]?.name || 'Loading...'}\n            />\n\n            <div className={styles.gameArea}>\n                {/* Stats Bar */}\n                <div className={styles.statsBar}>\n                    <div className={styles.statItem}>\n                        <div className={styles.statLabel}>Budget</div>\n                        <div className={styles.statValue} style={{ color: stats.budget < 2000000 ? '#ef4444' : '#10b981' }}>\n                            ${(stats.budget / 1000000).toFixed(1)}M\n                        </div>\n                    </div>\n                    <div className={styles.statItem}>\n                        <div className={styles.statLabel}>Efficacy</div>\n                        <div className={styles.statBarContainer}>\n                            <div className={styles.statBarFill} style={{ width: `${stats.efficacy}%`, background: '#3b82f6' }} />\n                        </div>\n                        <div className={styles.statValueSm}>{stats.efficacy}%</div>\n                    </div>\n                    <div className={styles.statItem}>\n                        <div className={styles.statLabel}>Safety</div>\n                        <div className={styles.statBarContainer}>\n                            <div className={styles.statBarFill} style={{ width: `${stats.safety}%`, background: stats.safety < 50 ? '#ef4444' : '#10b981' }} />\n                        </div>\n                        <div className={styles.statValueSm}>{stats.safety}%</div>\n                    </div>\n                </div>\n\n                {/* Chemical Profile Display */}\n                {selectedTrial?.chemicalStats && (\n                    <div style={{\n                        margin: '0 20px 20px 20px',\n                        padding: '12px',\n                        background: 'rgba(255, 255, 255, 0.05)',\n                        borderRadius: '8px',\n                        border: '1px solid rgba(255, 255, 255, 0.1)',\n                        fontSize: '0.9rem'\n                    }}>\n                        <div style={{ display: 'flex', gap: '15px', flexWrap: 'wrap', alignItems: 'center' }}>\n                            <strong style={{ color: '#9ca3af', fontSize: '0.8rem', letterSpacing: '1px' }}>MICRO-STRUCTURE:</strong>\n                            <span style={{ color: '#e5e7eb', fontFamily: 'monospace' }}>{selectedTrial.chemicalStats.formula}</span>\n                            <span style={{ color: '#6b7280' }}>|</span>\n                            <span style={{ color: '#e5e7eb' }}>{selectedTrial.chemicalStats.molecularWeight} Da</span>\n\n                            {selectedTrial.chemicalStats.functionalGroups?.map((fg, i) => (\n                                <span key={i} style={{\n                                    background: 'rgba(59, 130, 246, 0.2)',\n                                    color: '#93c5fd',\n                                    padding: '2px 8px',\n                                    borderRadius: '4px',\n                                    fontSize: '0.8rem'\n                                }}>\n                                    {fg}\n                                </span>\n                            ))}\n\n                            {(selectedTrial.chemicalStats.warnings?.length ?? 0) > 0 && (\n                                <span style={{\n                                    background: 'rgba(239, 68, 68, 0.2)',\n                                    color: '#fca5a5',\n                                    padding: '2px 8px',\n                                    borderRadius: '4px',\n                                    fontSize: '0.8rem',\n                                    marginLeft: 'auto',\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    gap: '4px'\n                                }}>\n                                    âš ï¸ {selectedTrial.chemicalStats.warnings?.length} Structural Warnings\n                                </span>\n                            )}\n                        </div>\n                    </div>\n                )}\n\n                {/* Main Content Area */}\n                <div className={styles.mainStage}>\n                    {/* INTRO */}\n                    {gameState === 'intro' && (\n                        <div className={styles.card}>\n                            <h1>ðŸ§ª {selectedTrial?.moleculeName}</h1>\n                            <div className={styles.badge} style={{ background: '#8b5cf6', width: 'fit-content' }}>\n                                AI-Powered Clinical Trial\n                            </div>\n                            <p style={{ margin: '20px 0' }}>\n                                <strong>Objective:</strong> Navigate through {selectedTrial?.roadmap?.phases.length || 4} clinical trial phases.\n                                <br /><br />\n                                Each decision will be generated by AI based on your molecule&apos;s characteristics and current progress.\n                            </p>\n                            <button className={styles.btnPrimary} onClick={startPlaying}>\n                                Begin Trial ðŸš€\n                            </button>\n                        </div>\n                    )}\n\n                    {/* PLAYING */}\n                    {gameState === 'playing' && (\n                        <>\n                            {isGeneratingScenario || loadingEvent ? (\n                                <div className={styles.loadingState}>\n                                    <div className={styles.spinner}></div>\n                                    <p>{isGeneratingScenario ? 'Generating Full Trial Scenarios...' : 'Loading...'}</p>\n                                    {isGeneratingScenario && (\n                                        <p style={{ fontSize: '0.8rem', color: '#9ca3af', marginTop: '10px' }}>\n                                            Creating events for all 4 phases...\n                                        </p>\n                                    )}\n                                </div>\n                            ) : currentEvent ? (\n                                <div className={styles.card} style={{ borderColor: '#3b82f6' }}>\n                                    <div className={styles.phaseBadge}>\n                                        {selectedTrial?.roadmap?.phases[currentPhaseIndex]?.name}\n                                    </div>\n                                    <h2>{currentEvent.title}</h2>\n                                    <p className={styles.eventDesc}>{currentEvent.description}</p>\n                                    <div className={styles.choices}>\n                                        {currentEvent.choices.map((choice, idx) => (\n                                            <button\n                                                key={idx}\n                                                className={styles.choiceBtn}\n                                                onClick={() => handleChoice(idx)}\n                                            >\n                                                <div className={styles.choiceText}>{choice.text}</div>\n                                                <div className={styles.choiceEffect}>\n                                                    {choice.budgetEffect < 0 ? `-$${Math.abs(choice.budgetEffect / 1000000).toFixed(1)}M` : ''}\n                                                    {choice.efficacyEffect !== 0 ? ` Eff ${choice.efficacyEffect > 0 ? '+' : ''}${choice.efficacyEffect}` : ''}\n                                                    {choice.safetyEffect !== 0 ? ` Safe ${choice.safetyEffect > 0 ? '+' : ''}${choice.safetyEffect}` : ''}\n                                                </div>\n                                            </button>\n                                        ))}\n                                    </div>\n                                </div>\n                            ) : (\n                                <div className={styles.card}>\n                                    <p>Loading event...</p>\n                                </div>\n                            )}\n                        </>\n                    )}\n\n                    {/* VICTORY */}\n                    {gameState === 'victory' && (\n                        <div className={styles.victoryOverlay}>\n                            {/* Animated Particles */}\n                            <div className={styles.victoryParticles}>\n                                {Array.from({ length: 30 }).map((_, i) => (\n                                    <div\n                                        key={i}\n                                        className={styles.victoryParticle}\n                                        style={{\n                                            left: `${Math.random() * 100}%`,\n                                            background: ['#10b981', '#34d399', '#6ee7b7', '#fbbf24', '#a78bfa', '#60a5fa'][i % 6],\n                                            width: `${4 + Math.random() * 8}px`,\n                                            height: `${4 + Math.random() * 8}px`,\n                                            animationDuration: `${2 + Math.random() * 4}s`,\n                                            animationDelay: `${Math.random() * 3}s`,\n                                        }}\n                                    />\n                                ))}\n                            </div>\n\n                            <div className={styles.victoryCard}>\n                                <span className={styles.victoryIcon}>ðŸŽ‰</span>\n                                <h1 className={styles.victoryTitle}>FDA APPROVED!</h1>\n                                <p className={styles.victorySubtitle}>\n                                    Excellent work, Doctor! Your drug <strong>{selectedTrial?.moleculeName}</strong> has passed all clinical trial phases and is cleared for market distribution.\n                                </p>\n\n                                {/* Final Stats */}\n                                <div className={styles.victoryStats}>\n                                    <div className={styles.victoryStat}>\n                                        <span className={styles.victoryStatValue} style={{ color: '#10b981' }}>\n                                            ${(stats.budget / 1000000).toFixed(1)}M\n                                        </span>\n                                        <span className={styles.victoryStatLabel}>Budget Left</span>\n                                    </div>\n                                    <div className={styles.victoryStat}>\n                                        <span className={styles.victoryStatValue} style={{ color: '#60a5fa' }}>\n                                            {stats.efficacy}%\n                                        </span>\n                                        <span className={styles.victoryStatLabel}>Efficacy</span>\n                                    </div>\n                                    <div className={styles.victoryStat}>\n                                        <span className={styles.victoryStatValue} style={{ color: '#a78bfa' }}>\n                                            {stats.safety}%\n                                        </span>\n                                        <span className={styles.victoryStatLabel}>Safety</span>\n                                    </div>\n                                </div>\n\n                                {/* XP Badge */}\n                                <div className={styles.xpBadge}>â­ +200 XP Earned</div>\n\n                                {/* Achievement */}\n                                <div className={styles.achievementUnlock}>\n                                    <span className={styles.achieveIcon}>ðŸ’Š</span>\n                                    <div className={styles.achieveInfo}>\n                                        <div className={styles.achieveLabel}>Achievement Unlocked</div>\n                                        <div className={styles.achieveTitle}>Trial Master</div>\n                                    </div>\n                                </div>\n\n                                <p style={{ color: '#9ca3af', marginBottom: '24px', fontSize: '0.95rem' }}>\n                                    To complete <strong style={{ color: '#fff' }}>Semester {mission.level}</strong>, pass the final exam.\n                                </p>\n\n                                <div className={styles.victoryActions}>\n                                    <button className={styles.btnVictory} onClick={startQuiz}>\n                                        Take Semester Exam ðŸ“\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n\n                    {/* GAMEOVER */}\n                    {gameState === 'gameover' && (\n                        <div className={styles.gameoverOverlay}>\n                            <div className={styles.gameoverCard}>\n                                <span className={styles.gameoverIcon}>ðŸš«</span>\n                                <h1 className={styles.gameoverTitle}>Trial Terminated</h1>\n\n                                <div className={styles.gameoverReason}>{gameOverReason}</div>\n\n                                {/* Stats at Failure */}\n                                <div className={styles.gameoverStats}>\n                                    <div className={styles.gameoverStat}>\n                                        <span className={styles.gameoverStatValue} style={{ color: stats.budget <= 0 ? '#ef4444' : '#10b981' }}>\n                                            ${(stats.budget / 1000000).toFixed(1)}M\n                                        </span>\n                                        <span className={styles.gameoverStatLabel}>Budget</span>\n                                    </div>\n                                    <div className={styles.gameoverStat}>\n                                        <span className={styles.gameoverStatValue} style={{ color: '#60a5fa' }}>\n                                            {stats.efficacy}%\n                                        </span>\n                                        <span className={styles.gameoverStatLabel}>Efficacy</span>\n                                    </div>\n                                    <div className={styles.gameoverStat}>\n                                        <span className={styles.gameoverStatValue} style={{ color: stats.safety <= 20 ? '#ef4444' : '#a78bfa' }}>\n                                            {stats.safety}%\n                                        </span>\n                                        <span className={styles.gameoverStatLabel}>Safety</span>\n                                    </div>\n                                </div>\n\n                                <p className={styles.gameoverTip}>\n                                    ðŸ’¡ Tip: Balance cost-cutting with safety. Cutting too many corners leads to trial termination.\n                                </p>\n\n                                <div className={styles.gameoverActions}>\n                                    <button className={styles.btnRetry} onClick={() => {\n                                        setScenarioDeck([]);\n                                        setEventIndex(-1);\n                                        setCachedEvents([]);\n                                        setGameState('intro');\n                                        startPlaying();\n                                    }}>\n                                        ðŸ” Retry Trial\n                                    </button>\n                                    <button className={styles.btnGhost} onClick={goBackToDashboard}>\n                                        Return to Dashboard\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n\n                {/* Log Console */}\n                <div className={styles.logConsole}>\n                    <div className={styles.logTitle}>Activity Log</div>\n                    <div className={styles.logList}>\n                        {logs.map((log, i) => (\n                            <div key={i} className={styles.logItem}>&gt; {log}</div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}